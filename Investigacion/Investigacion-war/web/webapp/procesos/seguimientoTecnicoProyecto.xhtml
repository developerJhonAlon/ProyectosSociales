<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:pe="http://primefaces.org/ui/extensions"
      >
    <h:body>    
        <ui:composition template="/vista/template-sistema2.xhtml">   
            <ui:define name="content">
            <p:panel id="panelBase" header="Informe de Seguimiento Técnico de #{seguimienTecnProyectoController.formatoLargoSelected.sflTituloEspaniol}" style="font-size: 11px; text-align: left; border: hidden; font-weight: bold; margin-bottom: 80px">
                <h:panelGrid columns="2" id="hpCabecera">
                    <p:selectBooleanButton id="value2" value="#{seguimienTecnProyectoController.botonInicio}" onLabel="Agregar" disabled="#{seguimienTecnProyectoController.botonInicio}" offLabel="Formato Largo" onIcon="ui-icon-plus" offIcon="ui-icon-arrowreturnthick-1-w" style="width:100px">
                        <p:ajax update=":formPrincipal:panelBase,:formPrincipal:tabP" listener="#{seguimienTecnProyectoController.inicioProgramas}"/>
                    </p:selectBooleanButton>
                </h:panelGrid>
                <p:panel id="inicio" visible="#{seguimienTecnProyectoController.botonInicio}" style="font-size: 11px; text-align: left; border: hidden; font-weight: bold">
                    <p:dataTable id="dtFormatoLargo" value="#{seguimienTecnProyectoController.formatoLargoList}" var="formatLarg" paginator="true" rows="10" rowIndexVar="index" resizableColumns="true"
                                 emptyMessage="No se encontraron Resultados">
                        <p:column headerText="Ord." style="width:5%;text-align: center">
                            <h:outputText value="#{index + 1}" />
                        </p:column>
                        <p:column headerText="Título Español" style="width: 20%; white-space: pre-line">
                            <h:outputText value="#{formatLarg.sflTituloEspaniol}" style="text-transform: uppercase; white-space: pre-line"/>
                        </p:column>
                        <p:column headerText="Título Ingles" style="width: 20%; white-space: pre-line">
                            <h:outputText value="#{formatLarg.sflTituloIngles}" style="text-transform: uppercase; white-space: pre-line"/>
                        </p:column>
                        <p:column headerText="Proyecto" style="width: 20%; white-space: pre-line">
                            <h:outputText value="#{formatLarg.datgeproyId.datgeproyTitulo}" style="text-transform: uppercase; white-space: pre-line"/>
                        </p:column>
                        <p:column headerText="Seleccione" style="width: 10%; text-align: center">
                            <p:commandButton id="btnSeleccione" icon="ui-icon-circle-check" style="margin: 0; font-size: 11px"
                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                             title="Seleccione Formato" action="#{seguimienTecnProyectoController.seleccioneFormato()}"
                                             update=":formPrincipal:panelBase" process="@this">
                                <f:setPropertyActionListener value="#{formatLarg}" target="#{seguimienTecnProyectoController.formatoLargoSelected}"/>
                            </p:commandButton>
                        </p:column>
                    </p:dataTable>  
                </p:panel>
                <p:tabView id="tabP" scrollable="false" orientation="left" dynamic="true"  rendered="#{!seguimienTecnProyectoController.botonInicio}" effect="slide" effectDuration="slow">
                    <p:ajax event="tabChange" onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()" />
                    <p:tab title="1.Información del Proyecto" id="tabP1" disabled="#{seguimienTecnProyectoController.habilitaTab}">
                        <h:panelGrid columns="1" cellpadding="7" id="h1">
                            <p:commandButton id="btnGrabarP1" value="Grabar" icon="ui-icon-locked" style="margin: 0; font-size: 11px; float: left" disabled="#{seguimienTecnProyectoController.validaVaciosP1}"
                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                             title="Graba Información" update=":formPrincipal:tabP:h1,:formPrincipal:tabP,:formPrincipal:tabP,:formPrincipal:tabP:pInput1" action="#{seguimienTecnProyectoController.registraP1()}">
                            </p:commandButton>
                        </h:panelGrid>
                        <h:panelGrid columns="2" cellpadding="2" cellspacing="0"  id="pInput1"  style="text-align: left">
                            <h:outputLabel for="nomProy" value="Nombre del Proyecto:" style="text-align: left">
                                <p:dataList id="nomProy" value="#{seguimienTecnProyectoController.datGeneralProyList}" var="nomP" style="width: 50%;white-space: pre-line">
                                    <f:facet name="header"></f:facet>
                                    #{nomP.datgeproyTitulo}
                                </p:dataList>
                            </h:outputLabel>
                            <h:outputLabel for="codProy" value="Código del Proyecto:" style="text-align: left">
                                <p:inputText id="codProy" value="#{seguimienTecnProyectoController.codProyecto}" required="false" autocomplete="off" style="width: 150px">
                                    <p:ajax event="keyup" update=":formPrincipal:tabP:btnGrabarP1" listener="#{seguimienTecnProyectoController.validarVaciosP1}"/>
                                </p:inputText>
                            </h:outputLabel>
                            <h:outputLabel for="dirProy" value="Nombre del Director del Proyecto:" style="text-align: left">
                                <p:dataList id="dirProy" value="#{seguimienTecnProyectoController.responsableProgList}" var="resProy" style="width: 10%;white-space: pre-line">
                                    <f:facet name="header"></f:facet>
                                    #{resProy.usuIdDocente.usuApellidos} #{resProy.usuIdDocente.usuNombres}
                                </p:dataList>
                            </h:outputLabel>
                            <!--
                            <h:outputLabel for="dirP" value="Nombre del Director del Proyecto:" style="text-align: left">
                                <p:dataList id="dirP" value="#{revisionSeguimientoController.directorDeptoList}" var="directP" style="width: 50%; white-space: pre-line">
                                    <f:facet name="header"></f:facet>
                                    #{directP.usuApellidos} #{directP.usuNombres}
                                </p:dataList>
                            </h:outputLabel>
                            -->
                            <h:outputLabel for="depCenProy" value="Departamento / Centro:" style="text-align: left">
                                <p:dataList id="depCenProy" value="#{seguimienTecnProyectoController.depCenProyList}" var="depCen" style="width: 10%;white-space: pre-line">
                                    <f:facet name="header"></f:facet>
                                    #{depCen.stvsubjCode.stvsubjDesc} 
                                </p:dataList>
                            </h:outputLabel>
                            <h:panelGrid columns="4" cellpadding="5" cellspacing="0" style="float: left">
                                <h:outputLabel for="infNum" value="Informe No: &nbsp;&nbsp;&nbsp;" style="float: left">
                                    <p:inputText id="infNum" value="#{seguimienTecnProyectoController.informeNum}" required="false" autocomplete="off" style="width: 50px">
                                        <p:ajax event="keyup" update=":formPrincipal:tabP:btnGrabarP1" listener="#{seguimienTecnProyectoController.validarVaciosP1}"/>
                                        
                                    </p:inputText>
                                </h:outputLabel>
                                <h:outputLabel value=" &nbsp;&nbsp;&nbsp; Período del Informe"/>
                                <h:outputLabel for="fechaDesde" value="Del (DD/MM/AAAA)&nbsp;&nbsp;&nbsp;&nbsp; :&nbsp;&nbsp;&nbsp;&nbsp;">
                                    <p:calendar id="fechaDesde" navigator="true" value="#{seguimienTecnProyectoController.fechPerIni}" yearRange="1960:2017" size="10" style="font-size: 12px" locale="es" pattern="dd/MM/yyyy">
                                        <p:ajax event="dateSelect" update=":formPrincipal:tabP:btnGrabarP1" listener="#{seguimienTecnProyectoController.validarVaciosP1}"/>
                                    </p:calendar>
                                </h:outputLabel>
                                <h:outputLabel for="fechaHasta" value="Al  (DD/MM/AAAA)&nbsp;&nbsp;&nbsp;&nbsp; :&nbsp;&nbsp;&nbsp;&nbsp;">
                                    <p:calendar id="fechaHasta" navigator="true" value="#{seguimienTecnProyectoController.fechPerFin}" yearRange="1960:2017" size="10" style="font-size: 12px" locale="es" pattern="dd/MM/yyyy">
                                        <p:ajax event="dateSelect" update=":formPrincipal:tabP:btnGrabarP1" listener="#{seguimienTecnProyectoController.validarVaciosP1}"/>
                                    </p:calendar>
                                </h:outputLabel>
                            </h:panelGrid>
                            <h:outputText value=""/>
                            <h:outputText value=""/>
                            <h:outputText value=""/>
                            <h:outputText value=""/>
                            <h:outputText value=""/>
                            <h:panelGrid columns="4" cellpadding="10" cellspacing="0">
                                <h:outputLabel for="presupAsig" value="Presupuesto Asignado (9,999.00) USD.$:"  style=" float: right">
                                    <p:dataList id="presupAsig" value="#{seguimienTecnProyectoController.datGeneralProyList}" var="preA" style="float: left; width: 100%">
                                        <f:facet name="header">
                                        </f:facet>
                                        #{preA.datgeproyMontoTotal}
                                    </p:dataList>
                                </h:outputLabel>
                                <h:outputLabel for="presupExt" value="Presupuesto Externo (9,999.00) USD.$:"  style=" float: right">
                                    <p:dataList id="presupExt" value="#{seguimienTecnProyectoController.datGeneralProyList}" var="preE" style="float: left; width: 100%">
                                        <f:facet name="header">
                                        </f:facet>
                                        #{preE.datgeproyMontoOtraInst}
                                    </p:dataList>
                                </h:outputLabel>
                                <h:outputLabel for="finanDeven" value="Financiamiento Devengado (9,999.00) USD.$:"  style=" float: right"/>
                                <p:inputText id="finanDeven" value="#{seguimienTecnProyectoController.finanDevengado}" required="false" autocomplete="off" style="width: 80px" onkeypress="return  justNumbers(event);">
                                    <p:ajax event="keyup" update=":formPrincipal:tabP:btnGrabarP1" listener="#{seguimienTecnProyectoController.validarVaciosP1}"/>
                                </p:inputText>
                            </h:panelGrid>
                            <h:outputText value=""/>
                            <h:outputText value=""/>
                            <h:outputText value=""/>
                            <h:outputText value=""/>
                            <h:outputText value=""/>
                            <h:panelGrid columns="3" cellpadding="10" cellspacing="10">
                                <h:outputLabel for="linIn" value="Línea de Investigación:" style="text-align: left; width: 150px">
                                    <p:dataList id="linIn" value="#{seguimienTecnProyectoController.depCenProyList}" var="lI" style="float: left;white-space: pre-line" >
                                        <f:facet name="header"></f:facet>
                                            #{lI.lineaId.lineaIdPadre.lineaDescip} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                    </p:dataList>
                                </h:outputLabel>
<!--                                <h:outputLabel for="linIn" value="Línea de Investigación:" style="text-align: left">
                                    <p:inputText id="linIn" value="#{seguimienTecnProyectoController.lineaInvestigacion}" required="false" autocomplete="off" style="width: 250px" readonly="true">
                                        <p:ajax event="keyup" update=":formPrincipal:tabP:btnGrabarP1" listener="#{seguimienTecnProyectoController.validarVaciosP1}"/>
                                    </p:inputText>
                                </h:outputLabel>-->
                                
                                <h:outputLabel for="sublinIn" value="Sublínea de Investigación:" style="text-align: left">
                                    <p:dataList id="sublinIn" value="#{seguimienTecnProyectoController.depCenProyList}" var="subI" style="float: left;white-space: pre-line">
                                        <f:facet name="header"></f:facet>
                                        #{subI.lineaId.lineaDescip}
                                    </p:dataList>
                                </h:outputLabel>
                                <h:outputLabel for="grupIn" value="Grupo de Investigación:" style="text-align: left">
                                    <p:dataList id="grupIn" value="#{seguimienTecnProyectoController.depCenProyList}" var="grupI" style="float: left;white-space: pre-line;width: 100%">
                                        <f:facet name="header"></f:facet>
                                        #{grupI.grupiId.grupiDescrip}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                    </p:dataList>
                                </h:outputLabel>
                            </h:panelGrid>
                        </h:panelGrid>
                    </p:tab>
                    <p:tab title="2.Instituciones Auspiciantes" id="tabP2" disabled="#{seguimienTecnProyectoController.habilitaTab}">
                        <h:panelGrid columns="1" cellspacing="7" id="h2">
                            <p:commandButton id="btnGrabarP2" value="Grabar" icon="ui-icon-locked" style="margin: 0; font-size: 11px; float: left" disabled="#{seguimienTecnProyectoController.validaVaciosP2}"
                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                             title="Graba Información" update=":formPrincipal:tabP:h2,:formPrincipal:tabP,:formPrincipal:tabP,:formPrincipal:tabP:pInput2" action="#{seguimienTecnProyectoController.registraP2()}">
                            </p:commandButton>
                        </h:panelGrid>
                        <h:panelGrid columns="1" cellpadding="10" cellspacing="10" id="pInput2" style="text-align: left;width: 60%" >
                            <h:outputLabel for="nombInst" value="Nombre Institución:" style="text-align: left">
                                <p:dataList id="nombInst" value="#{seguimienTecnProyectoController.opcionInstitucionList}" var="nomI" style="width: 100%">
                                    <f:facet name="header">
                                    </f:facet>
                                    #{nomI.opinstiNombre.toUpperCase()}
                                </p:dataList>
                            </h:outputLabel>
                            <h:outputLabel for="direcInst" value="Dirección Institución:" style="text-align: left">
                                <p:dataList id="direcInst" value="#{seguimienTecnProyectoController.opcionInstitucionList}" var="dirI" style="width: 100%">
                                    <f:facet name="header">
                                    </f:facet>
                                    #{dirI.opinstiDireccion.toUpperCase()}
                                </p:dataList>
                            </h:outputLabel>
                            <h:outputLabel for="ciudadInst" value="Ciudad/Provincia:" style="text-align: left">
                                <p:dataList id="ciudadInst" value="#{seguimienTecnProyectoController.opcionInstitucionList}" var="cI" style="width: 100%">
                                    <f:facet name="header"></f:facet>
                                    #{cI.opinstiCiudad.toUpperCase()}
                                </p:dataList>
                            </h:outputLabel>
                        </h:panelGrid>
                    </p:tab>
                    <p:tab title="3. Estudiantes Vinculados al Proyecto" id="tabP3" disabled="#{seguimienTecnProyectoController.habilitaTab}">
                        <h:panelGrid columns="1" cellspacing="0" cellpadding="5" id="h3">
                            <p:commandButton id="btnAgregarP3" value="Agregar" icon="ui-icon-plus" style="margin: 0; font-size: 11px; float: left"
                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                             title="Agregar Información" update=":formPrincipal:tabP:p3,:formPrincipal:tabP:h3" action="#{seguimienTecnProyectoController.agregarP3()}" rendered="#{!seguimienTecnProyectoController.controlGrabarP3}">
                            </p:commandButton>
                        </h:panelGrid>
                        <p:panel id="p3" visible="#{seguimienTecnProyectoController.controlGrabarP3}" style="font-size: 11px; text-align: left; border: hidden; font-weight: bold">
                            <h:panelGrid columns="2" cellpadding="5" cellspacing="0">
                                <p:commandButton id="btnGrabarP3" value="Grabar" icon="ui-icon-locked" style="margin: 0; font-size: 11px; float: left" disabled="#{seguimienTecnProyectoController.validaVaciosP3}"
                                                 onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                 title="Graba Informacion" update=":formPrincipal:tabP:p3,:formPrincipal:tabP:h3,:formPrincipal:tabP:dtEstudiantesVinculado,:formPrincipal:tabP:pInput3" action="#{seguimienTecnProyectoController.registraP3()}">
                                </p:commandButton>
                                <p:commandButton id="btnCancelarP3" value="Cancelar" icon="ui-icon-arrowreturnthick-1-w" style="margin: 0;font-size: 11px;float: left"
                                                 onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                 title="Cancela Información" update=":formPrincipal:tabP:p3,:formPrincipal:tabP:h3" action="#{seguimienTecnProyectoController.cancelarP3}">
                                </p:commandButton>
                            </h:panelGrid>
                            <h:panelGrid columns="1" cellpadding="5" cellspacing="0" id="pInput3" style="text-align: left">
                                <h:outputLabel for="nombEstud" value="Nombre del Estudiante:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;">
                                    <p:autoComplete id="nombEstud" minQueryLength="5" value="#{seguimienTecnProyectoController.nombrEstudiante}" completeMethod="#{seguimienTecnProyectoController.completeTextP3}" size="50" scrollHeight="100">
                                        <p:ajax event="itemSelect" update=":formPrincipal:tabP:btnGrabarP3" listener="#{seguimienTecnProyectoController.validarVaciosP3}"/>
                                    </p:autoComplete>
                                </h:outputLabel>
                                <h:outputLabel for="progPostPre" value="Programas de pregrado o postgrado : " style="text-align: left">
                                    <p:inputText id="progPostPre" value="#{seguimienTecnProyectoController.progPrePost}" required="false" autocomplete="off" style="width: 120px">
                                        <p:ajax event="keyup" update=":formPrincipal:tabP:btnGrabarP3" listener="#{seguimienTecnProyectoController.validarVaciosP3}"/>
                                    </p:inputText>
                                </h:outputLabel>
                                <h:outputLabel for="fecIni" value="Fecha de Inicio(DD/MM/AAAA):&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ">
                                    <p:calendar id="fecIni" navigator="true" value="#{seguimienTecnProyectoController.fDateIni}" yearRange="1960:2050" size="20" style="font-size: 12px" locale="es" pattern="dd/MM/yyyy">
                                        <p:ajax event="dateSelect" update=":formPrincipal:tabP:btnGrabarP3" listener="#{seguimienTecnProyectoController.validarVaciosP3}"/>
                                    </p:calendar>
                                </h:outputLabel>
                                <h:outputLabel for="fecFin" value="Fecha Fin(DD/MM/AAAA):&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ">
                                    <p:calendar id="fecFin" navigator="true" value="#{seguimienTecnProyectoController.fDateFin}" yearRange="1960:2050" size="20" style="font-size: 12px" locale="es" pattern="dd/MM/yyyy">
                                        <p:ajax event="dateSelect" update=":formPrincipal:tabP:btnGrabarP3" listener="#{seguimienTecnProyectoController.validarVaciosP3}"/>
                                    </p:calendar>
                                </h:outputLabel>
                                <h:outputLabel for="genTesis" value="Se generó tesis o proyecto de gardo del estudiante ? SI/NO:" style="white-space: pre-line"/>
                                <p:selectOneRadio id="genTesis" value="#{seguimienTecnProyectoController.generaTesis}">
                                    <f:selectItem itemLabel="SI" itemValue="S"/>
                                    <f:selectItem itemLabel="NO" itemValue="N"/>
                                    <p:ajax event="change" update=":formPrincipal:tabP:p3" listener="#{seguimienTecnProyectoController.validarVaciosP3}"/>
                                </p:selectOneRadio>
                                <h:outputLabel for="tituloT" value="Título Tesis: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; " style="text-align: left" rendered="#{seguimienTecnProyectoController.controlGeneraTesis}">
                                    <p:inputText id="tituloT" value="#{seguimienTecnProyectoController.tituloTesis}" required="false" autocomplete="off" style="width: 450px" rendered="#{seguimienTecnProyectoController.controlGeneraTesis}">
                                        <p:ajax event="keyup" update=":formPrincipal:tabP:btnGrabarP3" listener="#{seguimienTecnProyectoController.validarVaciosP3}"/>
                                    </p:inputText>
                                </h:outputLabel>
                            </h:panelGrid>
                        </p:panel>
                        <p:dataTable id="dtEstudiantesVinculado" value="#{seguimienTecnProyectoController.estudianteFormatoList}" var="estudVinc"
                                     editable="true" style="width: auto" paginator="false" rows="10" rowIndexVar="index" resizableColumns="true"
                                     emptyMessage="No se encontraron resultados">
                            <p:ajax event="rowEdit" listener="#{seguimienTecnProyectoController.onRowEditP3}" partialSubmit="true"/>
                            <p:ajax event="rowEditCancel" listener="#{seguimienTecnProyectoController.onRowCancelP3}" partialSubmit="true"/>

                            <p:column headerText="Ord." style="width: 3%; font-size: x-small">
                                <h:outputText value="#{index + 1}"/>
                            </p:column>
                            <p:column headerText="Nombre del Estudiante" style="width: 20%;white-space: pre-line; font-size: x-small">
                                <h:outputText value="#{estudVinc.usuId.usuApellidos} #{estudVinc.usuId.usuNombres} #{estudVinc.usuId.usuCc}" style="width: 100%; font-size: x-small"/>
                            </p:column>
                            <p:column headerText="Programas de pregrado o postgrado" style="width: 15%;white-space: pre-line; font-size: x-small">
                                <p:cellEditor>
                                    <f:facet name="output"><h:outputText value="#{estudVinc.sesfPrograma}" style="text-transform: uppercase;width: 100%; font-size: x-small"/></f:facet>
                                    <f:facet name="input"><p:inputText id="modelInput32" value="#{estudVinc.sesfPrograma}" style="width: 90%"/></f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column headerText="Fecha de Inicio" style="width: 8%;white-space: pre-line; font-size: x-small">
                                <p:cellEditor>
                                    <f:facet name="output"><h:outputText value="#{estudVinc.sesfFechaInicio}" style="text-transform: uppercase;width: 100%; font-size: x-small"><f:convertDateTime pattern="dd/MM/yyyy"/></h:outputText></f:facet>
                                    <f:facet name="input"><p:calendar id="modelInput33" navigator="true" value="#{estudVinc.sesfFechaInicio}" yearRange="1960:2015" size="20" style="font-size: 11px" locale="es"><f:convertDateTime pattern="dd/MM/yyyy"/></p:calendar></f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column headerText="Fecha Fin" style="width: 8%;white-space: pre-line; font-size: x-small">
                                <p:cellEditor>
                                    <f:facet name="output"><h:outputText value="#{estudVinc.sesfFechaFin}" style="text-transform: uppercase;width: 100%; font-size: x-small"><f:convertDateTime pattern="dd/MM/yyyy"/></h:outputText></f:facet>
                                    <f:facet name="input"><p:calendar id="modelInput34" navigator="true" value="#{estudVinc.sesfFechaFin}" yearRange="1960:2015" size="20" style="font-size: 11px" locale="es"><f:convertDateTime pattern="dd/MM/yyyy"/></p:calendar></f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column headerText="Se generó tesis o proyecto de grado del estudiante SI/NO" style="white-space: pre-line; width: 12%; font-size: x-small">
                                <p:cellEditor>
                                    <f:facet name="output"><h:outputText value="#{estudVinc.sesfGeneroTesis}"  style="text-transform: uppercase;width: 100%; font-size: x-small"/></f:facet>
                                    <f:facet name="input">
                                        <p:selectOneRadio value="#{estudVinc.sesfGeneroTesis}">
                                            <f:selectItem itemLabel="SI" itemValue="S"/>
                                            <f:selectItem itemLabel="NO" itemValue="N"/>
                                        </p:selectOneRadio>
                                    </f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column headerText="Título de Tesis" style="width: 15%;white-space: pre-line; font-size: x-small">
                                <p:cellEditor>
                                    <f:facet name="output"><h:outputText value="#{estudVinc.sesfTesis}" style="text-transform: uppercase;width: 100%; font-size: x-small"/></f:facet>
                                    <f:facet name="input"><p:inputText id="modelInput35" value="#{estudVinc.sesfTesis}" style="width: 90%"/></f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column headerText="Editar" style="width: 5%">
                                <p:rowEditor/>
                            </p:column>
                            <p:column headerText="Eliminar" style="width: 5%;text-align:center">
                                <p:commandButton id="btnEliminarP3" style="margin: 0" title="Eliminar el registro" icon="ui-icon-trash"
                                                 onclick="PF('deleteDialog3').show();" process="@this">
                                    <f:setPropertyActionListener value="#{estudVinc}" target="#{seguimienTecnProyectoController.estudianteFormatoSelected}"/>
                                </p:commandButton>
                            </p:column>
                        </p:dataTable>
                    </p:tab>
                    <p:tab title="4. Desarrollo del Proyecto" id="tabP4" disabled="#{seguimienTecnProyectoController.habilitaTab}">
                        <p:dataTable id="dtTObjetivoProy" value="#{seguimienTecnProyectoController.objGenProyectoList}"
                                     var="objTip" rows="10" rowIndexVar="index" resizableColumns="true" paginator="false"
                                     editable="true" emptyMessage="No se encontraron Resultados">
                            <p:column style="width: 1%">
                                <p:rowToggler rendered="#{objTip.prdId.prdId != 303}"/>
                            </p:column>
                            <p:column headerText="Tipo" style="width: 20%; text-align: left; white-space: pre-line">
                                <h:outputText value="#{objTip.prdId.prdId}. #{objTip.prdId.prdDescripcion}" style="white-space: pre-line; text-transform: uppercase; text-align: left; font-size: xx-small"/>
                            </p:column>
                            <p:column headerText="Descripción" style="width: 50%; text-align: justify; white-space: pre-line">
                                <h:outputText value="#{objTip.szdtaobjproyDescr}" style="white-space: pre-line; text-transform: uppercase; text-align: left"/>
                            </p:column>
                            <p:rowExpansion>
                                <p:panelGrid columns="1" style="border:none;margin:0 auto;width:100%; text-align: left" >
                                    <p:dataTable id="dtTObjGenActividad" value="#{objTip.szdtaobjproyActividadList}" var="actObjG" paginator="false" style="text-align: left"
                                                 rows="10" rowIndexVar="index" resizableColumns="true" editable="true" emptyMessage="No se encontraron resultados">
                                        <p:ajax event="rowEdit" listener="#{seguimienTecnProyectoController.onRowEditResulP4}" partialSubmit="true"/>
                                        <p:ajax event="rowEditCancel" listener="#{seguimienTecnProyectoController.onRowCancelResulP4}" partialSubmit="true"/>
                                        <p:column headerText="Ord." style="width: 2%">
                                            <h:outputText value="#{index + 1}"/>
                                        </p:column>
                                        <p:column headerText="Actividad" style="width: 50%; text-align: justify; white-space: pre-line">
                                            <h:outputText value="#{actObjG.szdtaobjproyDescr}" style="white-space: pre-line; text-transform: uppercase; text-align: left"/>
                                        </p:column>
                                        <p:column headerText="Resultados" style="width: 50%; text-align: justify; white-space: pre-line">
                                            <p:cellEditor>
                                                <f:facet name="output"><h:outputText value="#{actObjG.szdtaobjproyResult}" style="white-space: pre-line; text-transform: uppercase; text-align: left"/></f:facet>
                                                <f:facet name="input"><p:inputText id="modelInput41" value="#{actObjG.szdtaobjproyResult}" style="width: 100%"/></f:facet>
                                            </p:cellEditor>
                                        </p:column>
                                        <p:column headerText="Editar" style="width: 5%">
                                             <p:rowEditor/>
                                        </p:column>
                                    </p:dataTable>
                                </p:panelGrid>
                            </p:rowExpansion>
                            <f:facet name="footer">
                                <h:outputLabel value="Comentar y justificar eventuales alteraciones ocurridas con relación a los objetivos específicos propuestos inicialmente. "/>
                                <p:panel  style="font-size: 11px; text-align: left; border: hidden; font-weight: bold">
                                    <h:panelGrid columns="1" cellpadding="7" id="h4">
                                        <p:commandButton id="btnGrabarP4" value="Grabar" icon="ui-icon-locked" style="margin: 0; font-size: 11px; float: left" disabled="#{seguimienTecnProyectoController.validaVaciosP4}"
                                                         onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                         title="Graba Información" update=":formPrincipal:tabP:dtTObjetivoProy:h4,:formPrincipal:tabP:dtTObjetivoProy:pInput4"  action="#{seguimienTecnProyectoController.registraP4()}">
                                        </p:commandButton>
                                    </h:panelGrid>
                                    <h:panelGrid columns="2" cellpadding="7" cellspacing="0" id="pInput4" style="text-align: left">
                                        <h:outputLabel for="jutif" style="text-align: left">
                                            <p:inputTextarea id="jutif" rows="3" cols="150" autoResize="false" value="#{seguimienTecnProyectoController.justificacion}">
                                                <p:ajax event="keyup" update=":formPrincipal:tabP:dtTObjetivoProy:btnGrabarP4" listener="#{seguimienTecnProyectoController.validarVaciosP4}"/>
                                            </p:inputTextarea>
                                        </h:outputLabel>
                                    </h:panelGrid>
                                </p:panel>
                            </f:facet>
                        </p:dataTable>
                    </p:tab>
                    <p:tab title="5. Presupuesto del Proyecto" id="tabP5">
                        <p:dataTable id="dTPartidaF" value="#{seguimienTecnProyectoController.presupXPartidaList}" var="partF" 
                                     paginator="true" rows="10" rowIndexVar="index" resizableColumns="true" editable="true"
                                     emptyMessage="No se encontraron Resultados">
                            
                            <p:ajax event="rowEditCancel" listener="#{seguimienTecnProyectoController.onRowCancelP5}" partialSubmit="true"/>
                            <p:ajax event="rowEdit" listener="#{seguimienTecnProyectoController.onRowEditP5}" partialSubmit="true"/>
                            <p:column headerText="Ord." style="width:5%">
                                <h:outputText value="#{index + 1}"/>
                            </p:column>
                            <p:column headerText="Partida" style="width: 20%; white-space: pre-line">
                                <h:outputText value="#{partF.scpId.scpNombre}" style="text-transform: uppercase"/>
                            </p:column>
                            <p:column headerText="Valor" style="width: 5%; white-space: pre-line; text-align: right">
                                <h:outputText value="#{partF.spxpValor}" style="text-transform: uppercase">
                                    <f:convertNumber minFractionDigits="2" />
                                </h:outputText>
                            </p:column>
                            <p:column headerText="Presupuesto Devengado" style="width: 5%; white-space: pre-line; text-align: right">
                                <p:cellEditor>
                                    <f:facet name="output"><h:outputText value="#{partF.spxpDevengado}" style="text-transform: uppercase; text-align: right"><f:convertNumber minFractionDigits="2" /></h:outputText> </f:facet>
                                    <f:facet name="input"><p:inputText id="modelInput51" value="#{partF.spxpDevengado}" style="width: 78%; white-space: pre-line; font-size: xx-small; text-align: right"/></f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column headerText="Factores que facilitaron o dificultaron la ejecución presupuestaria" style="width: 30%; white-space: pre-line">
                                <p:cellEditor>
                                    <f:facet name="output"><h:outputText value="#{partF.spxpFactorD}" style="text-transform: uppercase"/></f:facet>
                                    <f:facet name="input"><p:inputTextarea id="modelInput52" maxlength="500" rows="2" style="width: 97%" value="#{partF.spxpFactorD}"/></f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column headerText="Editar" style="width: 5%">
                                <p:rowEditor/>
                            </p:column>
                            <p:column headerText="Eliminar" style="width: 3%;text-align: center">
                                <p:commandButton id="btnEliminarP5" style="margin: 0" title="Eliminar el registro" icon="ui-icon-trash"
                                                 onclick="PF('deleteDialog5').show();" process="@this" disabled="true" >
                                    <f:setPropertyActionListener value="#{partF}" target="#{seguimienTecnProyectoController.presupXPartidaSelected}"/>
                                </p:commandButton>
                            </p:column>
                        </p:dataTable>
                    </p:tab>
                    <p:tab title="6. Informe del Director del Proyecto" id="tabP6" disabled="#{seguimienTecnProyectoController.habilitaTab}">
                        <h:panelGrid columns="1" cellspacing="0" cellpadding="5" id="h6">
                            <p:commandButton id="btnAgregarP6" value="Agregar" icon="ui-icon-plus" style="margin: 0; font-size: 11px; float: left"
                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                             title="Agregar Información" update=":formPrincipal:tabP:p6,:formPrincipal:tabP:h6" action="#{seguimienTecnProyectoController.agregarP6()}" rendered="#{!seguimienTecnProyectoController.controlGrabarP6}">
                            </p:commandButton>
                        </h:panelGrid>
                        <p:panel id="p6" visible="#{seguimienTecnProyectoController.controlGrabarP6}" style="font-size: 11px; text-align: left; border: hidden; font-weight: bold">
                            <h:panelGrid columns="2" cellpadding="5" cellspacing="0">
                                <p:commandButton id="btnGrabarP6" value="Grabar" icon="ui-icon-locked" style="margin: 0; font-size: 11px; float: left" disabled="#{seguimienTecnProyectoController.validaVaciosP6}"
                                                 onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                 title="Graba Información" update=":formPrincipal:tabP:p6,:formPrincipal:tabP:h6,:formPrincipal:tabP:dtInformeDirector,:formPrincipal:tabP:pInput6" action="#{seguimienTecnProyectoController.registraP6()}">
                                </p:commandButton>
                                <p:commandButton id="btnCancelarP6" value="Cancelar" icon="ui-icon-arrowreturnthick-1-w" style="margin: 0;font-size: 11px;float: left"
                                                 onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                 title="Cancela Información" update=":formPrincipal:tabP:p6,:formPrincipal:tabP:h6" action="#{seguimienTecnProyectoController.cancelarP6}">
                                </p:commandButton>
                            </h:panelGrid>
                            <h:panelGrid columns="2" cellpadding="5" cellspacing="0" id="pInput6" style="text-align: left">
                                <h:outputLabel for="ejecu" value="Tipo de Ejecución:"/>
                                <p:selectOneMenu id="ejec" value="#{seguimienTecnProyectoController.ejecucion}" required="false" style="width: 200px">
                                    <f:selectItem itemLabel="Seleccione Tipo de Ejecución" itemValue="" noSelectionOption="true"/>
                                    <f:selectItems value="#{seguimienTecnProyectoController.parametrosDetList}" var="paramEjec" itemLabel="#{paramEjec.prdDescripcion}" itemValue="#{paramEjec.prdId}"/>
                                    <p:ajax event="change" update=":formPrincipal:tabP:btnGrabarP6" listener="#{seguimienTecnProyectoController.validarVaciosP6}"/>
                                </p:selectOneMenu>
                                <h:outputLabel for="porcEjecPrg" value="Porcentaje de ejecución programada %:" style=" float: left"/>
                                <p:spinner id="porcEjecPrg" size="1" value="#{seguimienTecnProyectoController.porcEjePrgd}" min="0" style="float: left">
                                    <p:ajax event="change" update=":formPrincipal:tabP:btnGrabarP6" listener="#{seguimienTecnProyectoController.validarVaciosP6}"/>
                                </p:spinner>
                                <h:outputLabel for="porcEjecReald" value="Porcentaje de ejecución realizada %:" style=" float: left"/>
                                <p:spinner id="porcEjecReald" size="1" value="#{seguimienTecnProyectoController.porcEjeReald}" min="0" style="float: left">
                                    <p:ajax event="change"  update=":formPrincipal:tabP:btnGrabarP6" listener="#{seguimienTecnProyectoController.validarVaciosP6}"/>
                                </p:spinner>
                                <h:outputLabel for="observ" value="Observaciones:" style=" float: left"/>
                                <p:inputText id="observ" value="#{seguimienTecnProyectoController.observacion}" required="false" autocomplete="off" style="width: 550px" >
                                    <p:ajax event="keyup" update=":formPrincipal:tabP:btnGrabarP6" listener="#{seguimienTecnProyectoController.validarVaciosP6}"/>
                                </p:inputText>
                                <h:outputLabel for="analisis" value="Análisis:" style=" float: left"/>    
                                <p:inputTextarea id="analisis" rows="2" cols="104" autoResize="false" value="#{seguimienTecnProyectoController.analisis}">
                                    <p:ajax event="keyup" update=":formPrincipal:tabP:btnGrabarP6" listener="#{seguimienTecnProyectoController.validarVaciosP6}"/>
                                </p:inputTextarea>
                            </h:panelGrid>
                        </p:panel>
                        <p:dataTable id="dtInformeDirector" value="#{seguimienTecnProyectoController.informeDirectorFormatoList}" var="infDirect"
                                     editable="true" style="width: auto" paginator="true" rows="10" rowIndexVar="index" resizableColumns="true"
                                     emptyMessage="No se encontraron resultados">
                            <p:ajax event="rowEdit" listener="#{seguimienTecnProyectoController.onRowEditP6}" partialSubmit="true"/>
                            <p:ajax event="rowEditCancel" listener="#{seguimienTecnProyectoController.onRowCancelP6}" partialSubmit="true"/>
                            <p:column headerText="Ord." style="width: 3%">
                                <h:outputText value="#{index + 1}"/>
                            </p:column>
                            <p:column headerText="Tipo de Ejecución" style="white-space: pre-line; width: 8%; font-size: x-small">
                                <p:cellEditor>
                                    <f:facet name="output"><h:outputText value="#{infDirect.prdId.prdDescripcion}" style="text-transform: uppercase; font-size: x-small"/></f:facet>
                                    <f:facet name="input">
                                        <h:selectOneMenu value="#{seguimienTecnProyectoController.ejecucionEdit}" style="width: 100%">
                                            <f:selectItems value="#{seguimienTecnProyectoController.parametrosDetList}" var="ej" itemLabel="#{ej.prdDescripcion}" itemValue="#{ej.prdId}"/>
                                        </h:selectOneMenu>
                                    </f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column headerText="Porcentaje de Ejecución Programada" style="white-space: pre-line; width: 5%; font-size: x-small">
                                <h:outputText value="#{infDirect.sidfPorcentajeProgram}" style="width: 100%; font-size: x-small"/>
                            </p:column>
                            <p:column headerText="Porcentaje de Ejecución Realizada" style="white-space: pre-line; width: 5%; font-size: x-small">
                                <h:outputText value="#{infDirect.sidfPorcetajeRealizada}" style="width: 100%; font-size: x-small"/>
                            </p:column>
                            <p:column headerText="Observaciones" style="white-space: pre-line; width: 25%; font-size: x-small">
                                <p:cellEditor>
                                    <f:facet name="output"><h:outputText value="#{infDirect.sidfObservacion}" style="text-transform: uppercase; white-space: pre-line; width: 100%; font-size: x-small"/></f:facet>
                                    <f:facet name="input"><p:inputText id="modelInput64" value="#{infDirect.sidfObservacion}" style="width: 100%"/></f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column headerText="Análisis" style="white-space: pre-line; width: 25%; font-size: x-small">
                                <p:cellEditor>
                                    <f:facet name="output"><h:outputText value="#{infDirect.sidfAnalisis}" style="text-transform: uppercase; white-space: pre-line; width: 100%; font-size: x-small"/></f:facet>
                                    <f:facet name="input"><p:inputTextarea id="modelInput65" maxlength="500" autoResize="true" rows="2" style="width: 97%" value="#{infDirect.sidfAnalisis}"/></f:facet>
                                </p:cellEditor>
                            </p:column>
                            <p:column headerText="Editar" style="width: 5%">
                                <p:rowEditor/>
                            </p:column>

                            <p:column headerText="Eliminar" style="width: 5%;text-align:center">
                                <p:commandButton id="btnEliminarP6" style="margin: 0" title="Eliminar el registro" icon="ui-icon-trash"
                                                 process="@this" update=":formPrincipal:tabP:dtInformeDirector"
                                                 action="#{seguimienTecnProyectoController.eliminarP6()}">
                                    <f:setPropertyActionListener value="#{infDirect}" target="#{seguimienTecnProyectoController.informeDirectorFormatoSelected}"/>
                                    <p:confirm header="Confirmation" message="¿Está seguro que desea eliminar el registro.?" icon="ui-icon-alert" />
                                </p:commandButton>
                            </p:column>
                        </p:dataTable>
                    </p:tab>
                    <!--<p:tab title="7. Análisis Informe del Director" id="tabP7" disabled="#{seguimienTecnProyectoController.habilitaTab}">
                        <h:panelGrid columns="1" cellpadding="7" id="h7">
                            <p:commandButton id="btnGrabarP7" value="Grabar" icon="ui-icon-locked" style="margin: 0; font-size: 11px; float: left" disabled="#{seguimienTecnProyectoController.validaVaciosP7}"
                                             title="Graba Información" update=":formPrincipal:tabP:h7,:formPrincipal:tabP,:formPrincipal:tabP:pInput7" action="#{seguimienTecnProyectoController.registraP7()}">
                            </p:commandButton>
                        </h:panelGrid>
                        <h:panelGrid columns="2" cellpadding="7" cellspacing="0" id="pInput7" style="text-align: left">
                            <h:outputLabel for="analisis" value="Análisis Informe del Director:" style="text-align: left"/>
                                <p:inputTextarea id="analisis" rows="2" cols="104" autoResize="false" value="#{seguimienTecnProyectoController.analisis}">
                                    <p:ajax event="keyup" update=":formPrincipal:tabP:btnGrabarP7" listener="#{seguimienTecnProyectoController.validarVaciosP7}"/>
                                </p:inputTextarea>
                        </h:panelGrid>
                    </p:tab>-->
                </p:tabView>
            </p:panel>

        <p:dialog id="deleteDlg3" header="Eliminar Registro" widgetVar="deleteDialog3" resizable="false" width="500" modal="true" style="font-size: 11px; text-align: left; font-weight: bold" appendTo="@(body)">
            <h:form id="deleteForm3">
                <p:outputPanel id="panelDeleteRegistro3">
                    <center>
                        <h:panelGrid id="displayDelete3" columns="1">
                            <h:outputLabel value="¿Está seguro que desea eliminar el registro.?" style="font-size: 11px"/>
                        </h:panelGrid>
                    </center>
                    <p:spacer height="10"></p:spacer>
                    <h:panelGroup>
                        <center>
                            <p:commandButton id="btnEliminarP3" value="Eliminar" style="margin: 0"
                                             onclick="PF('deleteDialog3').hide();">
                                <p:ajax update=":formPrincipal:tabP:dtEstudiantesVinculado" listener="#{seguimienTecnProyectoController.eliminarP3()}"/>
                            </p:commandButton>
                        </center>
                    </h:panelGroup>
                </p:outputPanel>
            </h:form>
        </p:dialog>
        <p:dialog id="deleteDlg5" header="Eliminar Registro" widgetVar="deleteDialog5" resizable="false" width="500" modal="true" style="font-size: 11px; text-align: left; font-weight: bold" appendTo="@(body)">
            <h:form id="deleteForm5">
                <p:outputPanel id="panelDeleteRegistro5">
                    <center>
                        <h:panelGrid id="displayDelete5" columns="1">
                            <h:outputLabel value="¿Está seguro que desea eliminar el registro.?" style="font-size: 11px"/>
                        </h:panelGrid>
                    </center>
                    <p:spacer height="10"></p:spacer>
                    <h:panelGroup>
                        <center>
                            <p:commandButton id="btnEliminarP5" value="Eliminar" style="margin: 0"
                                             onclick="PF('deleteDialog5').hide();">
                                <p:ajax update=":formPrincipal:tabP:dTPartidaF" listener="#{seguimienTecnProyectoController.eliminarP5()}"/>
                            </p:commandButton>
                        </center>
                    </h:panelGroup>
                </p:outputPanel>
            </h:form>
        </p:dialog>
            </ui:define>
        </ui:composition>
    </h:body>
</html>
