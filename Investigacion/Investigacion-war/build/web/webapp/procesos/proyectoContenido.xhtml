<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:pe="http://primefaces.org/ui/extensions"
      >
    <h:body>    
        <ui:composition template="/vista/template-sistema2.xhtml">   
            <ui:define name="content">
                <style>
                    .col1_datosGenerales {
                        width: 150px;
                    }
                    .col1_institucionParticipante {
                        width: 150px;
                    }
                    .col1_identificacionPoblacion {
                        width: 200px;
                        text-align: left;
                        border: solid;
                        border-width: 1px;
                    }
                    .col2_identificacionPoblacion {
                        width: 70px;
                        text-align: center;
                        border: solid;
                        border-width: 1px;
                    }
                    .col1_viablidad {
                        width: 150px;
                    }
                    .inputNumber2 input
                    {
                        width: 50px;
                    }
                    .col1_puntaje {
                        width: 190px ;
                    }                    
                    .col1_objetivos {
                        width: 80px;
                    }
                    .col1_difusionEvento {
                        width: 130px;
                    }
                    
                </style>     
                <p:panel style="border: hidden; margin-bottom: 35px">
                    <h:panelGrid id="panelTitulo" columns="1" width="100%" columnClasses="centrado" style="background: rgb(39, 124, 75) none repeat">
                        <p:outputLabel value="PROYECTO: #{proyectoContenidoController.proyectoSelected.datgeproyId.datgeproyTitulo}" style="color: white; font-weight: bold;" ></p:outputLabel>
                        <p:outputLabel value="ESTADO ACTUAL: #{proyectoContenidoController.proyectoSelected.datgeproyId.estado}" style="color: white; font-weight: bold;" ></p:outputLabel>
                    </h:panelGrid>


                    <p:tabView scrollable="false" dynamic="true" id="tabP">
                        <p:ajax event="tabChange" onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                update=":formPrincipal:tabP" listener="#{proyectoContenidoController.onTabChange}" />

                        <p:tab title="Datos del Proyecto" id="tabP1" >

                            <h:panelGrid columns="3" columnClasses="menu, alineadoSuperior, alineadoSuperior" style="width: 100%">
                                <h:panelGrid id="panelMenuPerfil" columns="1">
                                    <p:tree value="#{proyectoContenidoController.menuPerfil}" var="nodePerfil"
                                            selectionMode="single"
                                            selection="#{proyectoContenidoController.selectedNodePerfil}"
                                            style="width: 220px"
                                            >
                                        <p:ajax event="select" listener="#{proyectoContenidoController.onNodeSelectPerfil}" update=":formPrincipal:tabP:panelMenuPerfil, :formPrincipal:tabP:panelCentral, :formPrincipal:panelTitulo"
                                                onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()" process=":formPrincipal:tabP:panelCentral, :formPrincipal:tabP:panelMenuPerfil, :formPrincipal:panelTitulo"/>
                                        <p:ajax event="expand" listener="#{proyectoContenidoController.onNodeExpand}" update=":formPrincipal:tabP:panelMenuPerfil"/>
                                        <p:ajax event="collapse" listener="#{proyectoContenidoController.onNodeCollapse}" update=":formPrincipal:tabP:panelMenuPerfil"/>


                                        <p:treeNode styleClass="menuOpciones">
                                            <h:outputText value="#{nodePerfil.nombre}" title="#{nodePerfil.nombre}" style="white-space: pre-line"/>
                                        </p:treeNode>
                                    </p:tree>

                                </h:panelGrid>

                                <p:panel id="panelCentral" style="width: 98%; border: hidden; ">


                                    <!--panelDatosGenerales-->
                                    <p:panel id="panelDatosGenerales" rendered="#{proyectoContenidoController.selectedNodeCode=='1.1'}" style="border: hidden; padding-left: 20px; ">
                                        <h:panelGrid columns="1" cellpadding="7" id="h1">
                                            <p:commandButton id="btnGrabarP1" value="Grabar" icon="ui-icon-locked" style="margin: 0 ; font-size: 11px; float: left" disabled="#{proyectoContenidoController.validaVaciosP1}" 
                                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                             title="Graba Información" update=":formPrincipal:tabP:panelMenuPerfil, :formPrincipal:tabP:panelCentral, :formPrincipal:message1"  action="#{proyectoContenidoController.registraP1()}">
                                            </p:commandButton>
                                        </h:panelGrid>
                                        <h:outputText value="DATOS GENERALES" style="text-align: left;font-size: small"/>
                                        <h:panelGrid columns="2" cellpadding="5"  id="pInput1"  style="width: 100%" columnClasses="col1_datosGenerales">
                                            <h:outputLabel  for="convoc" value="Convocatoria:" style="text-align: left"/>
                                            <p:selectOneMenu id="convoc" value="#{proyectoContenidoController.convocaProy}" required="false" disabled="#{!proyectoContenidoController.permitirEdicionPerfil || proyectoContenidoController.proyectoSelected.datgeproyId.datgeproyId!=null}">
                                                <f:selectItem itemLabel="Seleccione Convocatoria" itemValue="" noSelectionOption="true"/>
                                                <f:selectItems value="#{proyectoContenidoController.convocaList}" var="convocat" itemLabel="#{convocat.convocaTitulo}" itemValue="#{convocat.convocaId}"/>
                                                <p:ajax event="change" update=":formPrincipal:tabP:btnGrabarP1" listener="#{proyectoContenidoController.validarVaciosP1}"/>
                                            </p:selectOneMenu>

                                            <h:outputLabel  for="prgInves" value="Programa de Investigación:" style="text-align: left"/>
                                            <p:selectOneMenu id="prgInves" value="#{proyectoContenidoController.progInvestiga}" required="false" 
                                                             disabled="#{!proyectoContenidoController.permitirEdicionPerfil}">
                                                <f:selectItem itemLabel="Seleccione Programa" itemValue="" noSelectionOption="true"/>
                                                <f:selectItems value="#{proyectoContenidoController.prgInvestigaList}" var="programa" itemLabel="#{programa.progDescrip}" itemValue="#{programa.progId}"/>
                                                <p:ajax event="change" update=":formPrincipal:tabP:btnGrabarP1" listener="#{proyectoContenidoController.validarVaciosP1}"/>
                                            </p:selectOneMenu>
                                            <h:outputLabel  for="tipologia" value="Tipo de Investigación:" style="text-align: left"/>
                                            <p:selectOneRadio id="tipologia" value="#{proyectoContenidoController.tipologia}" required="false"
                                                              disabled="#{!proyectoContenidoController.permitirEdicionPerfil}">
                                                <f:selectItems value="#{proyectoContenidoController.tipoInvestigaList}" var="tipoIn" itemLabel="#{tipoIn.prdDescripcion}" itemValue="#{tipoIn.prdId}"/>
                                                <p:ajax event="change" update=":formPrincipal:tabP:btnGrabarP1" listener="#{proyectoContenidoController.validarVaciosP1}"/>
                                            </p:selectOneRadio>
                                            <h:outputLabel  for="tProy" value="Título del Proyecto:"/>
                                            <p:inputTextarea id="tProy" value="#{proyectoContenidoController.tituloProy}" required="false" style="width: 100%"
                                                             disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"  rows="3">
                                                <p:ajax event="keyup" update=":formPrincipal:tabP:btnGrabarP1" listener="#{proyectoContenidoController.validarVaciosP1}"/>
                                            </p:inputTextarea>

                                            <p:outputLabel for="nomIng" value="Nombre o Título del proyecto (Inglés):">
                                            </p:outputLabel>
                                            <p:inputTextarea id="nomIng" value="#{proyectoContenidoController.proyectoSelected.sflTituloIngles}" rows="3" 
                                                             disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                             required="#{not empty param['formPrincipal:tabP:btnGrabarP1']}" style="width: 100%">
                                                <p:ajax event="keyup" update=":formPrincipal:tabP:btnGrabarP1" listener="#{proyectoContenidoController.validarVaciosP1}"/>
                                            </p:inputTextarea>



                                        </h:panelGrid>
                                    </p:panel>


                                    <!--panelAreasInvestigacion-->
                                    <p:panel id="panelAreasInvestigacion" rendered="#{proyectoContenidoController.selectedNodeCode=='1.2'}" style="border: hidden; padding-left: 20px; ">
                                        <h:panelGrid columns="1" cellpadding="5" id="h12">
                                            <p:commandButton id="btnAgregarP12" value="Agregar" icon="ui-icon-plus" style="margin: 0; font-size: 11px; float: left"
                                                             disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                             title="Agregar Información" update=":formPrincipal:tabP:p12,:formPrincipal:tabP:h12" action="#{proyectoContenidoController.agregarP12()}" rendered="#{!proyectoContenidoController.controlGrabarP12}">
                                            </p:commandButton>
                                        </h:panelGrid>
                                        <p:panel id="p12" visible="#{proyectoContenidoController.controlGrabarP12}" style="font-size: 11px; text-align: left; border: hidden; font-weight: bold">
                                            <h:panelGrid columns="2" cellpadding="5">
                                                <p:commandButton id="btnGrabarP12" value="Grabar" icon="ui-icon-locked" style="margin: 0; font-size: 11px; float: left " disabled="#{proyectoContenidoController.validaVaciosP12}"
                                                                 onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                 title="Graba Información" update=":formPrincipal:tabP:p12,:formPrincipal:tabP:h12,:formPrincipal:tabP:dtAreasInvest,:formPrincipal:tabP:pInput12" action="#{proyectoContenidoController.registraAreaInvestigacion()}">
                                                </p:commandButton>
                                                <p:commandButton id="btnCancelarP12" value="Cancelar" icon="ui-icon-arrowreturnthick-1-w" style="margin: 0; font-size: 11px; float: left "
                                                                 onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                 title="Cancela Información" update=":formPrincipal:tabP:panelAreasInvestigacion" action="#{proyectoContenidoController.cancelarAreaInvestigacion()}">
                                                </p:commandButton>
                                            </h:panelGrid>
                                            <h:panelGrid columns="2" cellpadding="5" cellspacing="0" id="pInput12" rendered="#{proyectoContenidoController.controlGrabarP12}">
                                                <h:outputLabel for="areasInvest" value="Áreas de Investigación"/>
                                                <p:selectManyCheckbox id="areasInvest"  layout="grid" columns="1" value="#{proyectoContenidoController.aaInvest}">
                                                    <f:selectItems value="#{proyectoContenidoController.aaInvList}" var="arIn" itemLabel="#{arIn.sztaainvDescripcion}" itemValue="#{arIn.sztaainvCode}"/>
                                                    <p:ajax event="change" update=":formPrincipal:tabP:btnGrabarP12" listener="#{proyectoContenidoController.validarVaciosP12}"/>
                                                </p:selectManyCheckbox>
                                            </h:panelGrid>
                                        </p:panel>
                                        <p:dataTable id="dtAreasInvest" value="#{proyectoContenidoController.taincoList}" var="areaNotaC"
                                                     editable="false" style="width: auto" paginator="true" rows="10" rowIndexVar="index" resizableColumns="true"
                                                     emptyMessage="No se encontraron resultados">
                                            <p:column headerText="Ord." style="width:5%">
                                                <h:outputText value="#{index + 1}"/>
                                            </p:column>
                                            <p:column headerText="Áreas de Investigación" style="width: 20%; white-space: pre-line">
                                                <h:outputText value="#{areaNotaC.sztaainvCode.sztaainvDescripcion}" style="text-transform: uppercase; font-size: xx-small"/>
                                            </p:column>
                                            <p:column headerText="Proyecto de Investigación" style="width: 20%; white-space: pre-line">
                                                <h:outputText value="#{areaNotaC.datgeproyId.datgeproyTitulo}" style="text-transform: uppercase; font-size: xx-small"/>
                                            </p:column>
                                            <p:column headerText="Eliminar" style="width: 5%;text-align: center">
                                                <p:commandButton id="btnEliminarP12" style="margin: 0" title="Eliminar el registro" icon="ui-icon-trash" 
                                                                 disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                 action="#{proyectoContenidoController.eliminarAreaInvestigacion}"
                                                                 update=":formPrincipal:tabP:dtAreasInvest"
                                                                 >
                                                    <p:confirm header="Confirmación" message="Confirma que desea eliminar el item seleccionado ?" icon="ui-icon-alert" />
                                                    <f:setPropertyActionListener value="#{areaNotaC}" target="#{proyectoContenidoController.taincoSelected}" />
                                                </p:commandButton>
                                            </p:column>
                                        </p:dataTable>
                                    </p:panel>


                                    <!--panelLocalizacionGeografica-->
                                    <p:panel id="panelLocalizacionGeografica" rendered="#{proyectoContenidoController.selectedNodeCode=='2'}" style="border: hidden; padding-left: 20px; ">
                                        <h:panelGrid id="panelLocalizacion">
                                            <p:commandButton value="Editar" title="Editar" icon="ui-icon-pencil"
                                                             update=":formPrincipal:tabP:panelLocalizacion" 
                                                             actionListener="#{proyectoContenidoController.editarP2}" 
                                                             disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                             rendered="#{!proyectoContenidoController.modoEdicion}"
                                                             >
                                            </p:commandButton>
                                            <p:selectOneRadio value="#{proyectoContenidoController.proyectoSelected.datgeproyId.cobertura.localId}"
                                                              rendered="#{!proyectoContenidoController.modoEdicion}"
                                                              disabled="true"
                                                              converter="omnifaces.SelectItemsConverter">
                                                <f:selectItems value="#{proyectoContenidoController.localizaList}" var="l" itemLabel="#{l.localDescrip}" itemValue="#{l}" />
                                            </p:selectOneRadio>
                                            <h:panelGrid id="panelEdicionLocalizacion" rendered="#{proyectoContenidoController.modoEdicion}" style="width: 100%">
                                                <h:panelGrid columns="2">
                                                    <p:commandButton id="btnGuardarP2" value="Grabar" icon="ui-icon-locked"
                                                                     onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                     title="Graba Información" update=":formPrincipal:tabP:panelLocalizacion, :formPrincipal:message1" 
                                                                     action="#{proyectoContenidoController.registraP2()}">
                                                    </p:commandButton>
                                                    <p:commandButton value="Cancelar" icon="ui-icon-arrowreturnthick-1-w"
                                                                     onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                     title="Cancela Información" update=":formPrincipal:tabP:panelLocalizacion" action="#{proyectoContenidoController.cancelarLocalizacionGeografica}">
                                                    </p:commandButton>                               
                                                </h:panelGrid> 
                                                <p:selectOneRadio value="#{proyectoContenidoController.proyectoSelected.datgeproyId.cobertura.localId}"
                                                                  converter="omnifaces.SelectItemsConverter">
                                                    <f:selectItems value="#{proyectoContenidoController.localizaList}" var="l" itemLabel="#{l.localDescrip}" itemValue="#{l}" />
                                                    <p:ajax event="change" update=":formPrincipal:tabP:panelEdicionLocalizacion"/>
                                                </p:selectOneRadio>


                                                <p:fieldset legend="Selección de localización geográfica" rendered="#{proyectoContenidoController.proyectoSelected.datgeproyId.cobertura.localId.localId.toString()!='3'}">
                                                    <p:panel id="pCobertura" style="font-size: 11px; text-align: left; border: hidden; font-weight: bold">
                                                        <h:panelGrid columns="2" id="pZonas" rendered="#{proyectoContenidoController.proyectoSelected.datgeproyId.cobertura.localId.localId.toString()=='4'}" >
                                                            <h:outputLabel for="zonasPlanificacion"/>
                                                            <p:selectManyCheckbox id="zonasPlanificacion" layout="grid" columns="1" value="#{proyectoContenidoController.zonaPlafinicacionSelected}" >
                                                                <f:selectItems value="#{proyectoContenidoController.zonaPlanifList}" var="z" itemLabel="#{z.zopNombreLargo}" itemValue="#{z.zopId}"/>
                                                            </p:selectManyCheckbox>
                                                        </h:panelGrid>
                                                    </p:panel>
                                                    <h:panelGrid columns="2" id="pProvincias" 
                                                                 rendered="#{proyectoContenidoController.proyectoSelected.datgeproyId.cobertura.localId.localId.toString()=='2'}">
                                                        <h:outputLabel for="provincia" />
                                                        <p:selectManyCheckbox id="provincia" layout="grid" columns="5" value="#{proyectoContenidoController.provinciaSelected}">
                                                            <f:selectItems value="#{proyectoContenidoController.provinciaList}" var="c" itemLabel="#{c.proNombre}" itemValue="#{c.proId}"/>
                                                        </p:selectManyCheckbox>
                                                    </h:panelGrid>
                                                    <p:panel rendered="#{proyectoContenidoController.proyectoSelected.datgeproyId.cobertura.localId.localId.toString()=='1'}">
                                                        <p:tree id="treeLocalizacion" value="#{proyectoContenidoController.root3}" var="doc"
                                                                selectionMode="checkbox"
                                                                selection="#{proyectoContenidoController.selectedNodes2}">
                                                            <p:treeNode>
                                                                <h:outputText value="#{doc.nombre}" />
                                                            </p:treeNode>
                                                            <p:treeNode>
                                                                <h:outputText value="#{doc.nombre}" />
                                                            </p:treeNode>
                                                        </p:tree>
                                                    </p:panel>                                            

                                                </p:fieldset>

                                            </h:panelGrid>

                                            <p:dataTable id="dtDatosCobertura" value="#{proyectoContenidoController.proyectoSelected.datgeproyId.cobertura.zonaDetalleList}" var="zona" editable="false" style="width: 100%"
                                                         rendered="#{proyectoContenidoController.proyectoSelected.datgeproyId.cobertura.localId.localId.toString()!='3'}"
                                                         paginator="true" rows="10" rowIndexVar="index" resizableColumns="true"
                                                         emptyMessage="No se encontraron resultados">
                                                <p:column headerText="Ord." style="width: 20px">
                                                    <h:outputText value="#{index + 1}" />
                                                </p:column>
                                                <p:column headerText="Zona de Planificación" rendered="#{proyectoContenidoController.proyectoSelected.datgeproyId.cobertura.localId.localId.toString()=='4'}">
                                                    <h:outputText value="#{zona.zopId.zopNombreLargo}"/>
                                                </p:column>
                                                <p:column headerText="Provincia" rendered="#{proyectoContenidoController.proyectoSelected.datgeproyId.cobertura.localId.localId.toString()=='2'}">
                                                    <h:outputText value="#{zona.proId.proNombre}"/>
                                                </p:column>
                                                <p:column headerText="Provincia" rendered="#{proyectoContenidoController.proyectoSelected.datgeproyId.cobertura.localId.localId.toString()=='1'}">
                                                    <h:outputText value="#{zona.canId.proId.proNombre}"/>
                                                </p:column>
                                                <p:column headerText="Cantón" rendered="#{proyectoContenidoController.proyectoSelected.datgeproyId.cobertura.localId.localId.toString()=='1'}">
                                                    <h:outputText value="#{zona.canId.canNombre}"/>
                                                </p:column>
                                            </p:dataTable>   
                                        </h:panelGrid>
                                    </p:panel>


                                    <!--panelDatosDepartamento-->
                                    <p:panel id="panelDatosDepartamento" rendered="#{proyectoContenidoController.selectedNodeCode=='3'}" style="border: hidden; padding-left: 20px; ">
                                        <h:panelGrid columns="1" cellpadding="5" id="h3">
                                            <p:commandButton id="btnAgregarP3" value="Agregar" icon="ui-icon-plus" style="margin: 0; font-size: 11px; float: left "
                                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                             disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                             title="Agregar Información" update=":formPrincipal:tabP:p3,:formPrincipal:tabP:h3" action="#{proyectoContenidoController.aregarP3()}" rendered="#{!proyectoContenidoController.controlGrabarP3}">
                                            </p:commandButton>
                                        </h:panelGrid>
                                        <p:panel id="p3" visible="#{proyectoContenidoController.controlGrabarP3}" style="font-size: 11px; text-align: left; border: hidden; font-weight: bold">
                                            <h:panelGrid columns="2" cellpadding="5">
                                                <p:commandButton id="btnGrabarP3" value="Grabar" icon="ui-icon-locked" style="margin: 0; font-size: 11px; float: left " disabled="#{proyectoContenidoController.validaVaciosP3}"
                                                                 onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                 title="Graba Información" update=":formPrincipal:tabP:p3,:formPrincipal:tabP:h3,:formPrincipal:tabP:dataTableDepartamento,:formPrincipal:tabP:pInput3" action="#{proyectoContenidoController.registraDatosDepartamento()}">
                                                </p:commandButton>
                                                <p:commandButton id="btnCancelarP3" value="Cancelar" icon="ui-icon-arrowreturnthick-1-w" style="margin: 0; font-size: 11px; float: left "
                                                                 onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                 title="Cancela Información" update=":formPrincipal:tabP:p3,:formPrincipal:tabP:h3" action="#{proyectoContenidoController.cancelarDatosDepartamento()}">
                                                </p:commandButton>
                                            </h:panelGrid>
                                            <h:panelGrid columns="2" cellpadding="5" cellspacing="0" id="pInput3" rendered="#{proyectoContenidoController.controlGrabarP3}">
                                                <p:outputLabel for="camp" value="Campus:" /> 
                                                <p:selectOneMenu id="camp" value="#{proyectoContenidoController.campus}" required="false" style="width: 450px; text-align: left">
                                                    <f:selectItem itemLabel="Seleccione Campus" noSelectionOption="true"/>
                                                    <f:selectItems value="#{proyectoContenidoController.campList}" var="campus" itemLabel="#{campus.stvcampDesc}" itemValue="#{campus.stvcampCode}"/>
                                                    <p:ajax event="change" update=":formPrincipal:tabP:centResp" listener="#{proyectoContenidoController.onCentRespChange}"/>
                                                </p:selectOneMenu>
                                                <p:outputLabel for="centResp" value="Departamento/Centro Responsable:" />
                                                <p:selectOneMenu id="centResp" value="#{proyectoContenidoController.centroResp}" required="false" style="width: 450px; text-align: left">
                                                    <f:selectItem itemLabel="Seleccione Centro Responsable" noSelectionOption="true"/>
                                                    <f:selectItems value="#{proyectoContenidoController.centroRespList}" var="cenP" itemLabel="#{cenP.stvsubjDesc}" itemValue="#{cenP.id}"/>
                                                    <p:ajax event="change" update=":formPrincipal:tabP:btnGrabarP3" listener="#{proyectoContenidoController.validarVaciosP3}"/>
                                                </p:selectOneMenu>
                                                <p:outputLabel for="carrera" value="Carrera:" />
                                                <p:selectOneMenu id="carrera" value="#{proyectoContenidoController.carrera}" required="false" style="width: 450px; text-align: left">
                                                    <f:selectItem itemLabel="Seleccione Carrera" noSelectionOption="true"/>
                                                    <f:selectItems value="#{proyectoContenidoController.majrList}" var="carr" itemLabel="#{carr.stvmajrDesc}" itemValue="#{carr.stvmajrCode}"/>
                                                    <p:ajax event="change" update=":formPrincipal:tabP:btnGrabarP3" listener="#{proyectoContenidoController.validarVaciosP3}"/>
                                                </p:selectOneMenu>
                                                <p:outputLabel for="progPost" value="Programa de Posgrado:" /> 
                                                <p:selectOneMenu id="progPost" value="#{proyectoContenidoController.programaPost}" required="false" style="width: 450px; text-align: left">
                                                    <f:selectItem itemLabel="Seleccione Programa Posgrado" noSelectionOption="true"/>
                                                    <f:selectItems value="#{proyectoContenidoController.progPostgradoList}" var ="progP" itemLabel="#{progP.postprogDescrip}" itemValue="#{progP.postprogId}"/>
                                                    <p:ajax event="change" update=":formPrincipal:tabP:btnGrabarP3" listener="#{proyectoContenidoController.validarVaciosP3}"/>
                                                </p:selectOneMenu>
                                                <p:outputLabel for="lineaIn" value="Líneas de Investigación:" />
                                                <p:selectOneMenu id="lineaIn" value="#{proyectoContenidoController.lineaInvst}" required="false" style="width: 450px; text-align: left">
                                                    <f:selectItem itemLabel="Seleccione Línea" itemValue="" noSelectionOption="true"/>
                                                    <f:selectItems value="#{proyectoContenidoController.lineaInvestList}" var="lin" itemLabel="#{lin.lineaDescip}" itemValue="#{lin.lineaId}"/>
                                                    <p:ajax event="change" update=":formPrincipal:tabP:sublinea" listener="#{proyectoContenidoController.onSublineaChange}"/>
                                                </p:selectOneMenu>
                                                <p:outputLabel for="sublinea" value="Sub Línea:" />
                                                <p:selectOneMenu id="sublinea" value="#{proyectoContenidoController.sublinea}" required="false" style="width: 450px; text-align: left">
                                                    <f:selectItem itemLabel="Seleccione Sub Línea" noSelectionOption="true"/>
                                                    <f:selectItems value="#{proyectoContenidoController.sublineaList}" var ="subl" itemLabel="#{subl.lineaUnesco}  #{subl.lineaDescip}" itemValue="#{subl.lineaId}"/>
                                                    <p:ajax event="change" update=":formPrincipal:tabP:btnGrabarP3" listener="#{proyectoContenidoController.validarVaciosP3}"/>
                                                </p:selectOneMenu>
                                                <p:outputLabel for="grupInvest" value="Grupos de Investigación Asociados: (Op)" /> 
                                                <p:selectOneMenu id="grupInvest" value="#{proyectoContenidoController.grupoInvest}" required="false" style="width: 450px; text-align: left">
                                                    <f:selectItem itemLabel="Seleccione Grupo de Investigación" noSelectionOption="true"/>
                                                    <f:selectItems value="#{proyectoContenidoController.grupInvestigaList}" var ="grp" itemLabel="#{grp.grupiDescrip}" itemValue="#{grp.grupiId}"/>
                                                    <p:ajax event="change" update=":formPrincipal:tabP:btnGrabarP3" listener="#{proyectoContenidoController.validarVaciosP3}"/>
                                                </p:selectOneMenu>
                                            </h:panelGrid>
                                        </p:panel>
                                        <p:dataTable id="dataTableDepartamento" value="#{proyectoContenidoController.depcenproyList}" var="departCent"
                                                     editable="false" style="width: auto" paginator="true" rows="10" rowIndexVar="index" resizableColumns="true"
                                                     emptyMessage="No se encontraron resultados">
                                            <p:ajax event="rowEdit" listener="#{proyectoContenidoController.onRowEditP3}" update=":formPrincipal:tabP:dataTableDepartamento"/>
                                            <p:ajax event="rowEditCancel" listener="#{proyectoContenidoController.onRowCancelP3}" update=":formPrincipal:tabP:dataTableDepartamento"/>

                                            <p:column headerText="Ord." style="width:3%">
                                                <h:outputText value="#{index + 1}"/>
                                            </p:column>
                                            <p:column headerText="Campus" style="width: 10%;white-space: pre-line">
                                                <h:outputText value="#{departCent.stvcampCode.stvcampDesc}" style="text-transform: uppercase; font-size: xx-small"/>
                                            </p:column>
                                            <p:column headerText="Departamento/Centro Responsable " style="width: 10%;white-space: pre-line">
                                                <h:outputText value="#{departCent.stvsubjCode.stvsubjDesc}" style="text-transform: uppercase; font-size: xx-small"/>
                                            </p:column>
                                            <p:column headerText="Carrera" style="width: 10%;white-space: pre-line">
                                                <h:outputText value="#{departCent.stvmajrCode.stvmajrDesc}" style="text-transform: uppercase; font-size: xx-small"/>
                                            </p:column>
                                            <p:column headerText="Programa de Posgrado " style="width: 10%;white-space: pre-line">
                                                <p:cellEditor>
                                                    <f:facet name="output"><h:outputText value="#{departCent.postprogId.postprogDescrip}" style="text-transform: uppercase; font-size: xx-small"/></f:facet>
                                                    <f:facet name="input">
                                                        <h:selectOneMenu value="#{proyectoContenidoController.progPostEdit}" style="width: 100%">
                                                            <f:selectItems value="#{proyectoContenidoController.progPostgradoList}" var="pP" itemLabel="#{pP.postprogDescrip}" itemValue="#{pP.postprogId}"/>
                                                        </h:selectOneMenu>
                                                    </f:facet>
                                                </p:cellEditor>
                                            </p:column>
                                            <p:column headerText="No. Convocatoria" style="width: 10%;white-space: pre-line">
                                                <p:cellEditor>
                                                    <f:facet name="output"><h:outputText value="#{departCent.convocaId.convocaCodigo}" style="text-transform: uppercase; font-size: xx-small"/></f:facet>
                                                    <f:facet name="input">
                                                        <h:selectOneMenu value="#{proyectoContenidoController.convocatoriaEdit}" style="width: 100%">
                                                            <f:selectItems value="#{proyectoContenidoController.convocaList}" var="convoct" itemLabel="#{convoct.convocaTitulo}" itemValue="#{convoct.convocaId}"/>
                                                        </h:selectOneMenu>
                                                    </f:facet>
                                                </p:cellEditor>
                                            </p:column>
                                            <p:column headerText="Sub Línea " style="width: 10%;white-space: pre-line">
                                                <h:outputText value="#{departCent.lineaId.lineaUnesco} #{departCent.lineaId.lineaDescip}" style="text-transform: uppercase; font-size: xx-small"/>
                                            </p:column>
                                            <p:column headerText="Grupos de Investigación Asociados" style="width: 10%;white-space: pre-line">
                                                <p:cellEditor>
                                                    <f:facet name="output"><h:outputText value="#{departCent.grupiId.grupiDescrip}" style="text-transform: uppercase; font-size: xx-small"/></f:facet>
                                                    <f:facet name="input">
                                                        <h:selectOneMenu value="#{proyectoContenidoController.grupoInvestEdit}" style="width: 100%">
                                                            <f:selectItems value="#{proyectoContenidoController.grupInvestigaList}" var="gI" itemLabel="#{gI.grupiDescrip}" itemValue="#{gI.grupiId}"/>
                                                        </h:selectOneMenu>
                                                    </f:facet>
                                                </p:cellEditor>
                                            </p:column>
                                            <p:column headerText="Eliminar" style="width: 5%;text-align: center">
                                                <p:commandButton id="btnEliminarP3" style="margin: 0" title="Eliminar el registro" icon="ui-icon-trash" 
                                                                 action="#{proyectoContenidoController.eliminarDatosDepartamento}"
                                                                 disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                 update=":formPrincipal:tabP:dataTableDepartamento"
                                                                 >
                                                    <p:confirm header="Confirmación" message="Confirma que desea eliminar el item seleccionado ?" icon="ui-icon-alert" />
                                                    <f:setPropertyActionListener value="#{departCent}" target="#{proyectoContenidoController.depcenproySelected}" />
                                                </p:commandButton>
                                            </p:column>
                                        </p:dataTable>
                                    </p:panel>

                                    <!--panelInstitucionesParticipantes-->
                                    <p:panel id="panelInstitucionesParticipantes" rendered="#{proyectoContenidoController.selectedNodeCode=='4'}" style="border: hidden; padding-left: 20px; ">

                                        <h:panelGrid columns="1" cellpadding="5" id="h4" rendered="#{proyectoContenidoController.opcionInstSelected==null}">
                                            <p:commandButton id="btnAgregarP4" value="Agregar" icon="ui-icon-plus" style="margin: 0; font-size: 11px; float: left " 
                                                             disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                             title="Agregar Información" update=":formPrincipal:tabP:panelInstitucionesParticipantes" action="#{proyectoContenidoController.nuevoInstitucionParticipante()}" rendered="#{!proyectoContenidoController.controlGrabarP4}">
                                            </p:commandButton>
                                        </h:panelGrid>
                                        <p:panel id="p4" rendered="#{proyectoContenidoController.opcionInstSelected!=null}" style="font-size: 11px; text-align: left; border: hidden; font-weight: bold">
                                            <h:panelGrid columns="2" cellpadding="5">
                                                <p:commandButton id="btnGrabarP4" value="Grabar" icon="ui-icon-locked" style="margin: 0; font-size: 11px; float: left " disabled="#{proyectoContenidoController.validaVaciosP4}"
                                                                 onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                 title="Graba Información" update=":formPrincipal:tabP:panelInstitucionesParticipantes, :formPrincipal:message1" action="#{proyectoContenidoController.registraInstitucionParticipante()}">
                                                </p:commandButton>
                                                <p:commandButton id="btnCancelarP4" value="Cancelar" icon="ui-icon-arrowreturnthick-1-w" style="margin: 0; font-size: 11px; float: left "
                                                                 onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                 title="Cancela Información" update=":formPrincipal:tabP:panelInstitucionesParticipantes" action="#{proyectoContenidoController.cancelarInstitucionesParticipantes()}">
                                                </p:commandButton> 
                                            </h:panelGrid>
                                            <h:panelGrid columns="1" cellpadding="5" cellspacing="0" id="pInput4">
                                                <h:panelGrid columns="2" cellpadding="5" cellspacing="0" columnClasses="col1_institucionParticipante">
                                                    <p:outputLabel for="nomInst" value="* Nombre Institución Co-Ejecutora:" /> 
                                                    <p:inputText id="nomInst" value="#{proyectoContenidoController.opcionInstSelected.opinstiNombre}" autocomplete="off" required="false" size="100" maxlength="100">
                                                        <p:ajax event="keyup" update=":formPrincipal:tabP:btnGrabarP4" listener="#{proyectoContenidoController.validarVaciosP4}"/>
                                                    </p:inputText>
                                                </h:panelGrid>
                                                <h:panelGrid columns="4" cellpadding="5" cellspacing="0" columnClasses="col1_institucionParticipante">
                                                    <p:outputLabel for="repreL" value="* Representante Legal:" /> 
                                                    <p:inputText id="repreL" value="#{proyectoContenidoController.opcionInstSelected.opinstiRepresentaLegal}" autocomplete="off" required="false" size="50" maxlength="50">
                                                        <p:ajax event="keyup" update=":formPrincipal:tabP:btnGrabarP4" listener="#{proyectoContenidoController.validarVaciosP4}"/>
                                                    </p:inputText>
                                                    <p:outputLabel for="identif" value="* Cédula/Dni/Pasaporte:" style="white-space: pre-line" /> 
                                                    <p:inputText id="identif" value="#{proyectoContenidoController.opcionInstSelected.opinstiCedulaRl}" autocomplete="off" required="false">
                                                        <p:ajax event="keyup" update=":formPrincipal:tabP:btnGrabarP4" listener="#{proyectoContenidoController.validarVaciosP4}"/>
                                                    </p:inputText>

                                                    <p:outputLabel for="telef" value="* Teléfono Convencional (593)-02-9999999:" style="white-space: pre-line" /> 
                                                    <p:inputMask id="telef" value="#{proyectoContenidoController.opcionInstSelected.opinstiTelefono}" autocomplete="off" required="false" mask="(999)99-9999999">
                                                        <p:ajax event="keyup" update=":formPrincipal:tabP:btnGrabarP4" listener="#{proyectoContenidoController.validarVaciosP4}"/>
                                                    </p:inputMask>
                                                    <p:outputLabel for="fax" value="Fax (593)-02-9999999:" /> 
                                                    <p:inputMask id="fax" value="#{proyectoContenidoController.opcionInstSelected.opinstiFax}" autocomplete="off" required="false" mask="(999)99-9999999">
                                                        <p:ajax event="keyup" update=":formPrincipal:tabP:btnGrabarP4" listener="#{proyectoContenidoController.validarVaciosP4}"/>
                                                    </p:inputMask>
                                                    <p:outputLabel for="corrE" value="* Correo Electrónico:" /> 
                                                    <p:inputText id="corrE" value="#{proyectoContenidoController.opcionInstSelected.opinstiMail}" autocomplete="off" required="false">
                                                        <p:ajax event="keyup" update=":formPrincipal:tabP:btnGrabarP4" listener="#{proyectoContenidoController.validarVaciosP4}"/>
                                                    </p:inputText>

                                                    <p:outputLabel for="ciud" value="* Ciudad:" /> 
                                                    <p:inputText id="ciud" value="#{proyectoContenidoController.opcionInstSelected.opinstiCiudad}" autocomplete="off" required="false" maxlength="25">
                                                        <p:ajax event="keyup" update=":formPrincipal:tabP:btnGrabarP4" listener="#{proyectoContenidoController.validarVaciosP4}"/>
                                                    </p:inputText>

                                                </h:panelGrid>
                                                <h:panelGrid columns="2" cellpadding="5" cellspacing="0" columnClasses="col1_institucionParticipante">
                                                    <p:outputLabel for="direc" value="* Dirección:" />
                                                    <p:inputText id="direc" value="#{proyectoContenidoController.opcionInstSelected.opinstiDireccion}" autocomplete="off" required="false" size="100" maxlength="100">
                                                        <p:ajax event="keyup" update=":formPrincipal:tabP:btnGrabarP4" listener="#{proyectoContenidoController.validarVaciosP4}"/>
                                                    </p:inputText>

                                                    <p:outputLabel for="pagW" value="* Página Web Institucional:" /> 
                                                    <p:inputText id="pagW" value="#{proyectoContenidoController.opcionInstSelected.opinstiPaguinaWeb}" autocomplete="off" required="false" size="100" maxlength="50">
                                                        <p:ajax event="keyup" update=":formPrincipal:tabP:btnGrabarP4" listener="#{proyectoContenidoController.validarVaciosP4}"/>
                                                    </p:inputText>

                                                    <p:outputLabel for="orgE" value="* Órgano Ejecutor:" /> 
                                                    <p:inputText id="orgE" value="#{proyectoContenidoController.opcionInstSelected.opinstiOrganoEjecutor}" autocomplete="off" required="false" size="100" maxlength="200">
                                                        <p:ajax event="keyup" update=":formPrincipal:tabP:btnGrabarP4" listener="#{proyectoContenidoController.validarVaciosP4}"/>
                                                    </p:inputText>

                                                </h:panelGrid>                                        

                                            </h:panelGrid>

                                        </p:panel>
                                        <p:dataTable id="dataTableInstParticip" value="#{proyectoContenidoController.opInstitucionList}" var="instPart"
                                                     editable="true" style="width: auto" paginator="false" rows="10" rowIndexVar="index"  resizableColumns="true" 
                                                     emptyMessage="No se encontraron resultados">

                                            <p:column headerText="Ord." width="20">
                                                <h:outputText value="#{index + 1}"/>
                                            </p:column>
                                            <p:column headerText="Nombre Institución Co-Ejecutora" style="white-space:pre-line" >
                                                <p:cellEditor>
                                                    <f:facet name="output"><h:outputText value="#{instPart.opinstiNombre}" style="text-transform: uppercase; white-space: pre-line; width: 100%; font-size: xx-small"/></f:facet>
                                                    <f:facet name="input"><p:inputText id="modelInput41" value="#{instPart.opinstiNombre}" style="width: 100%" /></f:facet>
                                                </p:cellEditor>
                                            </p:column>
                                            <p:column headerText="Representante Legal" style="white-space:pre-line" >
                                                <p:cellEditor>
                                                    <f:facet name="output"><h:outputText value="#{instPart.opinstiRepresentaLegal}" style="text-transform: uppercase; white-space: pre-line;width: 100%; font-size: xx-small"/></f:facet>
                                                    <f:facet name="input"><p:inputText id="modelInput42" value="#{instPart.opinstiRepresentaLegal}" style="width: 100%"/></f:facet>
                                                </p:cellEditor>
                                            </p:column>
                                            <p:column headerText=" Cédula/Dni/Pasaporte " style="white-space:pre-line">
                                                <p:cellEditor>
                                                    <f:facet name="output"><h:outputText value="#{instPart.opinstiCedulaRl}" style="text-transform: uppercase; white-space: pre-line; width: 100%; font-size: xx-small"/></f:facet>
                                                    <f:facet name="input"><p:inputText id="modelInput43" value="#{instPart.opinstiCedulaRl}" style="width: 100%"/></f:facet>
                                                </p:cellEditor>
                                            </p:column>
                                            <p:column headerText="Teléfonos" style="white-space:pre-line">
                                                <p:cellEditor>
                                                    <f:facet name="output"><h:outputText value="#{instPart.opinstiTelefono}" style="text-transform: uppercase; white-space: pre-line; font-size: xx-small; width: 100%"/></f:facet>
                                                    <f:facet name="input"><p:inputText id="modelInput44" value="#{instPart.opinstiTelefono}" style="white-space: pre-line;font-size: xx-small; width: 100%"/></f:facet>
                                                </p:cellEditor>
                                            </p:column>
                                            <p:column headerText="Fax" style="white-space:pre-line">
                                                <p:cellEditor>
                                                    <f:facet name="output"><h:outputText value="#{instPart.opinstiFax}" style="text-transform: uppercase; white-space: pre-line;font-size: xx-small; width: 100%"/></f:facet>
                                                    <f:facet name="input"><p:inputText id="modelInput45" value="#{instPart.opinstiFax}" style="white-space: pre-line;font-size: xx-small; width: 100%"/></f:facet>
                                                </p:cellEditor>
                                            </p:column>
                                            <p:column headerText="Correo Electrónico" style="white-space:pre-line" >
                                                <p:cellEditor>
                                                    <f:facet name="output"><h:outputText value="#{instPart.opinstiMail}" style="white-space: pre-line; width: 100%; font-size: xx-small"/></f:facet>
                                                    <f:facet name="input"><p:inputText id="modelInput46" value="#{instPart.opinstiMail}" style="width: 100%; white-space: pre-line; font-size: xx-small"/></f:facet>
                                                </p:cellEditor>
                                            </p:column>
                                            <p:column headerText="Dirección" style="white-space:pre-line" >
                                                <p:cellEditor>
                                                    <f:facet name="output"><h:outputText value="#{instPart.opinstiDireccion}" style="text-transform: uppercase; white-space: pre-line; width: 100%; font-size: xx-small"/></f:facet>
                                                    <f:facet name="input"><p:inputText id="modelInput47" value="#{instPart.opinstiDireccion}" style="width: 100%; white-space: pre-line; font-size: xx-small"/></f:facet>
                                                </p:cellEditor>
                                            </p:column>
                                            <p:column headerText="Ciudad" style="white-space:pre-line" >
                                                <p:cellEditor>
                                                    <f:facet name="output"><h:outputText value="#{instPart.opinstiCiudad}" style="text-transform: uppercase; white-space: pre-line; width: 100%; font-size: xx-small"/></f:facet>
                                                    <f:facet name="input"><p:inputText id="modelInput48" value="#{instPart.opinstiCiudad}" style="width: 100%; white-space: pre-line; font-size: xx-small"/></f:facet>
                                                </p:cellEditor>
                                            </p:column>

                                            <p:column headerText="Página Web Institucional" style="white-space:pre-line" >
                                                <p:cellEditor>
                                                    <f:facet name="output"><h:outputText value="#{instPart.opinstiPaguinaWeb}" style="white-space: pre-line; width: 100%; font-size: xx-small"/></f:facet>
                                                    <f:facet name="input"><p:inputText id="modelInput49" value="#{instPart.opinstiPaguinaWeb}" style="width: 100%; white-space: pre-line; font-size: xx-small"/></f:facet>
                                                </p:cellEditor>
                                            </p:column>
                                            <p:column headerText="Órgano Ejecutor" style="white-space:pre-line" >
                                                <p:cellEditor>
                                                    <f:facet name="output"><h:outputText value="#{instPart.opinstiOrganoEjecutor}" style="text-transform: uppercase; white-space: pre-line; width: 100%; font-size: xx-small"/></f:facet>
                                                    <f:facet name="input"><p:inputTextarea id="modelInput50" value="#{instPart.opinstiOrganoEjecutor}" style="width: 100%; white-space: pre-line; font-size: xx-small"/></f:facet>
                                                </p:cellEditor>
                                            </p:column>
                                            <p:column headerText="Editar" rendered="#{proyectoContenidoController.permitirEdicionPerfil}" width="40" style="text-align: center">
                                                <p:commandButton icon="ui-icon-pencil"
                                                                 title="Editar el registro"
                                                                 update=":formPrincipal:tabP:panelInstitucionesParticipantes"
                                                                 disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                 >
                                                    <f:setPropertyActionListener value="#{instPart}" target="#{proyectoContenidoController.opcionInstSelected}"/>
                                                </p:commandButton>
                                            </p:column>
                                            <p:column headerText="Eliminar" style="text-align: center" width="40">
                                                <p:commandButton id="btnEliminarP4" title="Eliminar el registro" icon="ui-icon-trash" 
                                                                 disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                 update=":formPrincipal:tabP:panelInstitucionesParticipantes"
                                                                 action="#{proyectoContenidoController.eliminarInstitucionParticipante}"> 
                                                    <p:confirm header="Confirmación" message="Confirma que desea eliminar el item seleccionado ?" icon="ui-icon-alert" />
                                                    <f:setPropertyActionListener value="#{instPart}" target="#{proyectoContenidoController.opcionInstSelected}" />
                                                </p:commandButton>    
                                            </p:column>
                                        </p:dataTable>
                                    </p:panel>


                                    <!--panelPersonalProyecto-->
                                    <p:panel id="panelPersonalProyecto" rendered="#{proyectoContenidoController.selectedNodeCode=='5'}" style="border: hidden; padding-left: 20px; ">
                                        <h:panelGrid columns="1" cellpadding="5" id="h5">
                                            <p:commandButton id="btnAgregarP5" value="Agregar" icon="ui-icon-plus" style="margin: 0; font-size: 11px; float: left " title="Graba Información" 
                                                             disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                             update=":formPrincipal:tabP:p5,:formPrincipal:tabP:h5" action="#{proyectoContenidoController.agregarP5()}" rendered="#{!proyectoContenidoController.controlGrabarP5}"> </p:commandButton>
                                        </h:panelGrid>
                                        <p:panel id="p5" visible="#{proyectoContenidoController.controlGrabarP5}" style="font-size: 11px; text-align: left; border: hidden; font-weight: bold">
                                            <p:messages id="messages5"/>
                                            <h:panelGrid columns="2" cellpadding="5">
                                                <p:commandButton id="btnGrabarP5" value="Grabar" icon="ui-icon-locked" style="margin: 0; font-size: 11px; float: left " disabled="#{proyectoContenidoController.validaVaciosP5}" title="Graba Información" 
                                                                 onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                 update=":formPrincipal:tabP:p5,:formPrincipal:tabP:h5,:formPrincipal:tabP:dtResponsableProyecto,:formPrincipal:tabP:pInput5" action="#{proyectoContenidoController.registraP5()}">
                                                </p:commandButton>
                                                <p:commandButton id="btnCancelarP5" value="Cancelar" icon="ui-icon-arrowreturnthick-1-w" style="margin: 0; font-size: 11px; float: left " title="Graba Información" 
                                                                 onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                 update=":formPrincipal:tabP:p5,:formPrincipal:tabP:h5" action="#{proyectoContenidoController.cancelarP5()}">
                                                </p:commandButton>
                                            </h:panelGrid>
                                            <h:panelGrid columns="1" cellpadding="7" cellspacing="0" id="pInput5" rendered="#{proyectoContenidoController.controlGrabarP5}" style="text-align: left">
                                                <p:selectOneRadio id="personalP" value="#{proyectoContenidoController.tipoPersonal}" style="text-align: left">
                                                    <f:selectItem itemLabel="Profesor/Investigador" itemValue="D"/>
                                                    <f:selectItem itemLabel="Estudiante" itemValue="E"/>
                                                    <f:selectItem itemLabel="Externos" itemValue="I"/>
                                                    <f:selectItem itemLabel="Otros" itemValue="O"/>
                                                    <p:ajax event="change" update=":formPrincipal:tabP:p5" listener="#{proyectoContenidoController.validarVaciosP5}" />
                                                </p:selectOneRadio>
                                                <p:outputLabel for="nResProy" value="Docente:" rendered="#{proyectoContenidoController.controlTipoPersonal}"/>
                                                <p:selectOneMenu id="nResProy" value="#{proyectoContenidoController.responsableProyecto.usuIdDocente.usuId}" filter="true" filterMatchMode="contains" style="width: 260px" rendered="#{proyectoContenidoController.controlTipoPersonal}">
                                                    <f:selectItem itemLabel="Seleccione Profesor/Investigador" itemValue="" noSelectionOption="true" rendered="#{proyectoContenidoController.controlTipoPersonal}"/>
                                                    <f:selectItems value="#{proyectoContenidoController.docenteInvestigacionList}" var="ad" itemLabel="#{ad.usuApellidos} #{ad.usuNombres}" itemValue="#{ad.usuId}" rendered="#{proyectoContenidoController.controlTipoPersonal}"/>
                                                    <p:ajax event="change" update=":formPrincipal:tabP:btnGrabarP5" listener="#{proyectoContenidoController.validarVaciosP5}" /> 
                                                </p:selectOneMenu>
                                                <p:outputLabel for="nEstProy" value="Estudiante:" rendered="#{proyectoContenidoController.controlTipoEstudiante}"/>
                                                <p:autoComplete id="nEstProy" minQueryLength="5" value="#{proyectoContenidoController.nombrEstudiante}" completeMethod="#{proyectoContenidoController.completeTextP6}" size="50" scrollHeight="100" rendered="#{proyectoContenidoController.controlTipoEstudiante}">
                                                    <p:ajax event="itemSelect" update=":formPrincipal:tabP:btnGrabarP5"  listener="#{proyectoContenidoController.validarVaciosP5}"/>
                                                </p:autoComplete>
                                                <p:outputLabel for="nExtProy" value="Investigador Externo:" rendered="#{proyectoContenidoController.controlTipoExterno}"/>
                                                <p:autoComplete id="nExtProy" minQueryLength="5" value="#{proyectoContenidoController.nombrExterno}" completeMethod="#{proyectoContenidoController.completeTextExterno}" size="50" scrollHeight="100" rendered="#{proyectoContenidoController.controlTipoExterno}">
                                                    <p:ajax event="itemSelect" update=":formPrincipal:tabP:btnGrabarP5" listener="#{proyectoContenidoController.validarVaciosP5}"/>
                                                </p:autoComplete>
                                                <p:outputLabel for="nOtrosProy" value="Otros:" rendered="#{proyectoContenidoController.controlTipoOtros}"/>
                                                <p:selectOneMenu id="nOtrosProy" value="#{proyectoContenidoController.otros}" required="false" style="width: 350px" rendered="#{proyectoContenidoController.controlTipoOtros}" >
                                                    <f:selectItem itemLabel="Seleccione Personal Otros" itemValue="" noSelectionOption="true" rendered="#{proyectoContenidoController.controlTipoOtros}"/>
                                                    <f:selectItems value="#{proyectoContenidoController.otrosProyLits}" var="otroP" itemLabel="#{otroP.usuNombres} #{otroP.usuApellidos}" itemValue="#{otroP.usuId}" rendered="#{proyectoContenidoController.controlTipoOtros}"/>
                                                    <p:ajax event="change" update=":formPrincipal:tabP:btnGrabarP5" listener="#{proyectoContenidoController.validarVaciosP5}"/>
                                                </p:selectOneMenu>
                                                <p:outputLabel for="nTipRes" value="Funciones del Personal:" /> 
                                                <p:selectOneMenu id="nTipRes" value="#{proyectoContenidoController.responsableProyecto.tipresId.tipresId}" required="false" style="width: 260px">
                                                    <f:selectItem itemLabel="Seleccione Función del Personal" itemValue="" noSelectionOption="true"/> 
                                                    <f:selectItems value="#{proyectoContenidoController.tipoResponDoceList}" var="tr" itemLabel="#{tr.tipresDescrip}" itemValue="#{tr.tipresId}" /> 
                                                    <p:ajax event="change" update=":formPrincipal:tabP:btnGrabarP5" listener="#{proyectoContenidoController.validarVaciosP5}" /> 
                                                </p:selectOneMenu>
                                                <p:outputLabel for="departa" value="Nombre del Departamento/Centro Responsable:" /> 
                                                <p:selectOneMenu id="departa" value="#{proyectoContenidoController.departamento}" required="false" style="width: 350px; text-align: left">
                                                    <f:selectItem itemLabel="Seleccione Centro Responsable" noSelectionOption="true"/>
                                                    <f:selectItems value="#{proyectoContenidoController.subjList}" var="depar" itemLabel="#{depar.stvsubjDesc}" itemValue="#{depar.stvsubjCode}"/>
                                                    <p:ajax event="change" update=":formPrincipal:tabP:btnGrabarP5" listener="#{proyectoContenidoController.validarVaciosP5}" />
                                                </p:selectOneMenu>
                                            </h:panelGrid>
                                        </p:panel>
                                        <p:dataTable id="dtResponsableProyecto" value="#{proyectoContenidoController.responsableProyList}" var="resPry" 
                                                     editable="true" style="width: 100%" paginator="true" rows="10" rowIndexVar="index" resizableColumns="true"
                                                     emptyMessage="No se encontraron resultados" >
                                            <!--<p:ajax event="rowEdit" listener="#{proyectoContenidoController.onRowEditP5}" />-->
                                            <p:ajax event="rowEditCancel" listener="#{proyectoContenidoController.onRowCancelP5}" />                                                    

                                            <p:column headerText="Ord." style="width:5%">
                                                <h:outputText value="#{index + 1}"/>
                                            </p:column>
                                            <p:column headerText="Nombres y Apellidos del Responsable del Programa" style="width: 25%;white-space: pre-line">
                                                <h:outputText value="#{resPry.usuIdDocente.usuApellidos} #{resPry.usuIdDocente.usuNombres}" style="text-transform: uppercase"/>
                                            </p:column>
                                            <p:column headerText="Cargo" style="width: 10%">
                                                <p:cellEditor>
                                                    <f:facet name="output"><h:outputText value="#{resPry.tipresId.tipresDescrip}" style="text-transform: uppercase"/></f:facet>
                                                    <f:facet name="input">
                                                        <p:selectOneMenu id="nTipRes" value="#{proyectoContenidoController.tipoResponsabilidad}" rendered="false" style="width: 100%">
                                                            <f:selectItem itemLabel="#{resPry.tipresId.tipresDescrip}"  itemValue="#{resPry.tipresId.tipresId}"/>
                                                            <f:selectItems value="#{proyectoContenidoController.tipoResponDoceList}" var="tr" itemLabel="#{tr.tipresDescrip}" itemValue="#{tr.tipresId}"/>
                                                        </p:selectOneMenu>
                                                    </f:facet>
                                                </p:cellEditor>
                                            </p:column>
                                            <p:column headerText="Unidad/Dpto." style="width: 25%">
                                                <h:outputText value="#{resPry.stvsubjCode.stvsubjDesc}" style="text-transform: uppercase"/>
                                            </p:column>
                                            <p:column headerText="email" style="width: 15%">
                                                <h:outputText value="#{resPry.usuIdDocente.usuEmail}" />
                                            </p:column>
                                            <p:column headerText="Teléfonos" style="width: 10%">
                                                <h:outputText value="#{resPry.usuIdDocente.usuTelefonoFijo} #{resPry.usuIdDocente.usuTelefonoCelular}" style="text-transform: uppercase"/>
                                            </p:column>
                                            <p:column headerText="Eliminar" style="width: 5%;text-align: center">
                                                <p:commandButton id="btnEliminarP5" style="margin: 0" title="Eliminar el registro" icon="ui-icon-trash" 
                                                                 disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                 action="#{proyectoContenidoController.eliminarP5}"
                                                                 update=":formPrincipal:tabP:dtResponsableProyecto"
                                                                 >
                                                    <p:confirm header="Confirmación" message="Confirma que desea eliminar el item seleccionado ?" icon="ui-icon-alert" />
                                                    <f:setPropertyActionListener value="#{resPry}" target="#{proyectoContenidoController.responsableProyectoSelected}" />
                                                </p:commandButton>    
                                            </p:column>
                                        </p:dataTable>                                
                                    </p:panel>


                                    <!--panelResumenDescripcion-->
                                    <p:panel id="panelResumenDescripcion" rendered="#{proyectoContenidoController.selectedNodeCode=='6'}" style="border: hidden; padding-left: 20px; ">
                                        <h:panelGrid columns="1" cellpadding="5">
                                            <p:commandButton id="btnGuardarP61" value="Grabar" icon="ui-icon-locked" style="margin: 0; font-size: 11px; float: left" disabled="#{proyectoContenidoController.validaVaciosP61}"
                                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                             title="Graba Información" update=":formPrincipal:tabP:btnGuardarP61" action="#{proyectoContenidoController.registraP61()}">
                                            </p:commandButton>
                                        </h:panelGrid>
                                        <right>
                                            <h:panelGrid columns="1" cellspacing="0" cellpadding="5"  id="h61">
                                                <h:outputLabel for="resumenProy" value="Resumen del Proyecto:" />
                                                <p:inputTextarea id="resumenProy" rows="2" cols="160" autoResize="false" maxlength="3950" value="#{proyectoContenidoController.resuProy}"
                                                                 disabled="#{!proyectoContenidoController.permitirEdicionPerfil}">
                                                    <p:ajax event="keyup" update=":formPrincipal:tabP:btnGuardarP61" listener="#{proyectoContenidoController.validarVaciosP61}"/>
                                                </p:inputTextarea>
                                                <h:outputText value=""/>
                                                <h:outputLabel value="Imagen Resumen (Formato .jpg), Max(10MB):"/>
                                                <h:outputLabel value="#{proyectoContenidoController.nomFileRes}"/>
                                            </h:panelGrid>
                                            <left>
                                                <p:fileUpload fileUploadListener="#{proyectoContenidoController.handleFileUploadRes}" mode="advanced" dragDropSupport="false" style="width: 250px; text-align: left"
                                                              disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                              update=":formPrincipal:tabP:h61,:formPrincipal:tabP:dtImagenResumen" label="Seleccione Documento" sizeLimit="1000000" auto="true" allowTypes="/(\.|\/)(gif|jpe?g|png)$/"/>
                                            </left>
                                            <h:outputLabel value=""/>
                                            <h:outputLabel value=""/>
                                            <h:outputLabel value=""/>
                                            <p:spacer height="20%"/>
                                            <h:outputLabel value="Imágenes Agregadas al Resumen"/>
                                            <p:dataTable id="dtImagenResumen" value="#{proyectoContenidoController.investResumenList}" var="imgResu"  editable="false" style="width: 50%" paginator="true" rows="10" rowIndexVar="index" resizableColumns="true"
                                                         emptyMessage="No se encontraron resultados">
                                                <p:column headerText="Ord." style="width:3%">
                                                    <h:outputText value="#{index + 1}"/>
                                                </p:column>
                                                <p:column headerText="Nombre Imagen" style="width: 15%;white-space: pre-line">
                                                    <h:outputText value="#{imgResu.sztainanexAnexoNombre}"/>
                                                </p:column>  
                                                <p:column headerText="Eliminar" style="width: 5%; text-align: center">
                                                    <p:commandButton id="btnEliminarImgResu" style="margin: 0" title="Eliminar el registro" icon="ui-icon-trash" 
                                                                     disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                     onclick="PF('deleteDialog61').show();" process="@this">
                                                        <f:setPropertyActionListener value="#{imgResu}" target="#{proyectoContenidoController.investAnexoResuSelected}"/>
                                                    </p:commandButton>
                                                </p:column>
                                            </p:dataTable>
                                            <h:panelGrid columns="1" cellspacing="0" cellpadding="5">
                                                <h:outputLabel value="Descripción del Proyecto:" />
                                                <h:outputLabel for="objetivoProy" value="Objetivos y Justificación de la Investigación:" />
                                                <p:inputTextarea id="objetivoProy" rows="2" cols="160" autoResize="false" maxlength="10000" value="#{proyectoContenidoController.desObProy}"
                                                                 disabled="#{!proyectoContenidoController.permitirEdicionPerfil}">
                                                    <p:ajax event="keyup" update=":formPrincipal:tabP:btnGuardarP61" listener="#{proyectoContenidoController.validarVaciosP61}"/>
                                                </p:inputTextarea>
                                                <h:outputText value=""/>
                                                <h:outputLabel value="Imagen Objetivos (Formato .jpg), Max(10MB):"/>
                                                <h:outputLabel value="#{proyectoContenidoController.nomFileDes}"/>
                                            </h:panelGrid>
                                            <left>
                                                <p:fileUpload fileUploadListener="#{proyectoContenidoController.handleFileUploadDescObj}" mode="advanced" dragDropSupport="false" style="width: 250px; text-align: left"
                                                              disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                              update=":formPrincipal:tabP:h61,:formPrincipal:tabP:dtImagenObjetivos" label="Seleccione Documento" sizeLimit="1000000" auto="true" allowTypes="/(\.|\/)(gif|jpe?g|png)$/"/>
                                                <h:outputLabel value=""/>
                                                <h:outputLabel value=""/>
                                            </left>
                                            <h:outputLabel value=""/>
                                            <h:outputLabel value=""/>
                                            <h:outputLabel value=""/>
                                            <p:spacer height="20%"/>
                                            <h:outputLabel value="Imágenes Agregadas al Objetivo"/>
                                            <p:dataTable id="dtImagenObjetivos" value="#{proyectoContenidoController.investObjetivList}" var="imgObj"  editable="false" style="width: 50%" paginator="true" rows="10" rowIndexVar="index" resizableColumns="true"
                                                         emptyMessage="No se encontraron resultados">
                                                <p:column headerText="Ord." style="width:3%">
                                                    <h:outputText value="#{index + 1}"/>
                                                </p:column>
                                                <p:column headerText="Nombre Imagen" style="width: 15%;white-space: pre-line">
                                                    <h:outputText value="#{imgObj.sztainanexAnexoNombre}" />
                                                </p:column>
                                                <p:column headerText="Eliminar" style="width: 5%; text-align: center">
                                                    <p:commandButton id="btnEliminarImgObj" style="margin: 0" title="Eliminar Registro" icon="ui-icon-trash"
                                                                     disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                     onclick="PF('deleteDialog62').show();" process="@this">
                                                        <f:setPropertyActionListener value="#{imgObj}" target="#{proyectoContenidoController.investAnexoObjSelected}"/>
                                                    </p:commandButton>
                                                </p:column>
                                            </p:dataTable>
                                        </right>
                                    </p:panel>


                                    <!--panelMetodologiaPlan-->
                                    <p:panel id="panelMetodologiaPlan" rendered="#{proyectoContenidoController.selectedNodeCode=='7'}" style="border: hidden; padding-left: 20px; ">
                                        <h:panelGrid columns="1" cellpadding="5"   >
                                            <p:commandButton id="btnGuardarP62" value="Grabar" icon="ui-icon-locked" style="margin: 0; font-size: 11px; float: left " disabled="#{proyectoContenidoController.validaVaciosP62}" 
                                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                             title="Graba Información" update=":formPrincipal:tabP:btnGuardarP62, formPrincipal:message1" action="#{proyectoContenidoController.registraP62()}"  >
                                            </p:commandButton>
                                        </h:panelGrid>
                                        <right>
                                            <h:panelGrid columns="1" cellspacing="0" cellpadding="5"  id="h62">
                                                <h:outputLabel for="metodologiaProy" value="Metodología para la Investigación:" style="font-weight: bold" />
                                                <p:inputTextarea id="metodologiaProy" rows="20" cols="150" autoResize="false" maxlength="10000" value="#{proyectoContenidoController.metodProy}"
                                                                 disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"> 
                                                    <p:ajax event="keyup" update=":formPrincipal:tabP:btnGuardarP62" listener="#{proyectoContenidoController.validarVaciosP62}"/>
                                                </p:inputTextarea>
                                                <h:outputText value=""/>
                                            </h:panelGrid>
                                        </right>                              
                                    </p:panel> 


                                    <!--panelConsideracionGenero-->
                                    <p:panel id="panelConsideracionGenero" rendered="#{proyectoContenidoController.selectedNodeCode=='8'}" style="border: hidden; padding-left: 20px; ">
                                        <h:panelGrid columns="1" cellpadding="5"   >
                                            <p:commandButton id="btnGuardarP63" value="Grabar" icon="ui-icon-locked" style="margin: 0; font-size: 11px; float: left " disabled="#{proyectoContenidoController.validaVaciosP63}" 
                                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                             title="Graba Información" update=":formPrincipal:tabP:btnGuardarP63" action="#{proyectoContenidoController.registraP63()}"  >
                                            </p:commandButton>
                                        </h:panelGrid>
                                        <right>
                                            <h:panelGrid columns="1" cellspacing="0" cellpadding="5"  id="h63">
                                                <h:outputLabel for="consideracionesProy"  value="Consideración de Género y Conocimiento Ancestral:" />
                                                <p:inputTextarea id="consideracionesProy" rows="2" cols="150" autoResize="false" maxlength="3950" value="#{proyectoContenidoController.proyectoSelected.datgeproyId.datgeproyConsideraciones}"
                                                                 disabled="#{!proyectoContenidoController.permitirEdicionPerfil}">
                                                    <p:ajax event="keyup" update=":formPrincipal:tabP:btnGuardarP63" listener="#{proyectoContenidoController.validarVaciosP63}"/>
                                                </p:inputTextarea>                                                                

                                                <h:outputLabel for="consecuenciasProy"  value="Consecuencias No Intencionales:" />
                                                <p:inputTextarea id="consecuenciasProy" rows="2" cols="150" autoResize="false" maxlength="3950" value="#{proyectoContenidoController.proyectoSelected.datgeproyId.datgeproyConsecuencias}"
                                                                 disabled="#{!proyectoContenidoController.permitirEdicionPerfil}">
                                                    <p:ajax event="keyup" update=":formPrincipal:tabP:btnGuardarP63" listener="#{proyectoContenidoController.validarVaciosP63}"/>
                                                </p:inputTextarea>
                                            </h:panelGrid>
                                        </right>
                                    </p:panel>


                                    <!--panelTransferenciaImpacto-->
                                    <p:panel id="panelTransferenciaImpacto" rendered="#{proyectoContenidoController.selectedNodeCode=='9'}" style="border: hidden; padding-left: 20px; ">
                                        <h:panelGrid columns="1" cellpadding="5"   >
                                            <p:commandButton id="btnGuardarP64" value="Grabar" icon="ui-icon-locked" style="margin: 0; font-size: 11px; float: left " disabled="#{proyectoContenidoController.validaVaciosP64}" 
                                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                             title="Graba Información" update=":formPrincipal:tabP:btnGuardarP64" action="#{proyectoContenidoController.registraP64()}"  >
                                            </p:commandButton>
                                        </h:panelGrid>
                                        <right>
                                            <h:panelGrid columns="1" cellspacing="0" cellpadding="5"  id="h64">
                                                <h:outputLabel for="transferResultProy"  value="Transferencia de Resultados:" />
                                                <p:inputTextarea id="transferResultProy" rows="2" cols="150" autoResize="false"  maxlength="3950" value="#{proyectoContenidoController.proyectoSelected.datgeproyId.datgeproyTransferResult}"
                                                                 disabled="#{!proyectoContenidoController.permitirEdicionPerfil}">
                                                    <p:ajax event="keyup" update=":formPrincipal:tabP:btnGuardarP64" listener="#{proyectoContenidoController.validarVaciosP64}"/>
                                                </p:inputTextarea>                           
                                                <h:outputLabel for="ImpactoResultProy"  value="Impacto de Resultados:" />
                                                <p:inputTextarea id="ImpactoResultProy" rows="2" cols="150" autoResize="false" maxlength="3950" value="#{proyectoContenidoController.proyectoSelected.datgeproyId.datgeproyImpactoResult}"
                                                                 disabled="#{!proyectoContenidoController.permitirEdicionPerfil}">
                                                    <p:ajax event="keyup" update=":formPrincipal:tabP:btnGuardarP64" listener="#{proyectoContenidoController.validarVaciosP64}"/>
                                                </p:inputTextarea>
                                            </h:panelGrid>
                                        </right>
                                    </p:panel>


                                    <!--panelPaginaLegal-->
                                    <p:panel id="panelPaginaLegal" rendered="#{proyectoContenidoController.selectedNodeCode=='10'}" style="border: hidden; padding-left: 20px; ">
                                        <h:outputLabel value="Cargar Documento Legal, Declaración de Autoria del Perfil del Proyecto"/>
                                        <h:panelGrid columns="1" cellpadding="7" id="h7">
                                            <p:commandButton id="btnAgregarP7" value="Agregar" icon="ui-icon-plus" style="margin: 0; font-size: 11px; float: left"
                                                             disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                             title="Agrega Información" update=":formPrincipal:tabP:h7,:formPrincipal:tabP:p7" action="#{proyectoContenidoController.agregarP7()}" rendered="#{!proyectoContenidoController.controlGrabarP7}">
                                            </p:commandButton>
                                        </h:panelGrid>
                                        <p:panel id="p7" visible="#{proyectoContenidoController.controlGrabarP7}" style="font-size: 11px; text-align: left; border: hidden; font-weight: bold">
                                            <h:panelGrid columns="2" cellpadding="5">
                                                <p:commandButton id="btnGrabarP7" value="Grabar" icon="ui-icon-locked" style="margin: 0; font-size: 11px; float: left " disabled="#{proyectoContenidoController.validaVaciosP7}"
                                                                 onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                 title="Graba Información" update=":formPrincipal:tabP:p7,:formPrincipal:tabP:h7,:formPrincipal:tabP:pInput7,:formPrincipal:tabP:dtPaginaLegal" action="#{proyectoContenidoController.registraP7()}">
                                                </p:commandButton>
                                                <p:commandButton id="btnCancelarP7" value="Cancelar" icon="ui-icon-arrowreturnthick-1-w" style="margin: 0; font-size: 11px; float: left "
                                                                 onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                 title="Cancela Información" update=":formPrincipal:tabP:p7,:formPrincipal:tabP:h7" action="#{proyectoContenidoController.cancelarP7()}">
                                                </p:commandButton>
                                            </h:panelGrid>
                                            <h:panelGrid columns="1" cellpadding="5" cellspacing="0" id="pInput7" rendered="#{proyectoContenidoController.controlGrabarP7}">
                                                <h:outputLabel value="Página Legal / Informe de Búsquedas del Proyecto (PDF):"/>
                                                <h:outputLabel value="#{proyectoContenidoController.nomFile2}"/>
                                            </h:panelGrid>
                                            <left>
                                                <p:fileUpload fileUploadListener="#{proyectoContenidoController.handleFileUpload2}" mode="advanced" dragDropSupport="false" style="width: 250px; text-align: left"
                                                              update=":formPrincipal:tabP:btnGrabarP7, :formPrincipal:tabP:pInput7" label="Seleccione Documento" sizeLimit="10240000" auto="true"/>
                                            </left>
                                        </p:panel>
                                        <p:dataTable id="dtPaginaLegal" value="#{proyectoContenidoController.datGenProyPagLegList}" var="pagL" editable="false" style="width: 100%"
                                                     paginator="true" rows="10" rowIndexVar="index" resizableColumns="true"
                                                     emptyMessage="No se encontraron resultados">
                                            <p:column headerText="Ord." width="20">
                                                <h:outputText value="#{index + 1}" />
                                            </p:column>
                                            <p:column headerText="Página Legal">
                                                <h:outputText value="#{pagL.datgeproyPagilegNombre}"/>
                                            </p:column>
                                            <p:column headerText="Descargar" width="50" style="text-align: center">

                                                <p:commandButton icon="ui-icon-arrowthick-1-s"  title="Descargar documento" ajax="false" actionListener="#{proyectoContenidoController.descargarArchivo}"
                                                                 onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()">
                                                    <p:fileDownload value="#{proyectoContenidoController.fileLegal}" />
                                                </p:commandButton>
                                            </p:column>
                                        </p:dataTable>                                

                                    </p:panel>                            


                                    <!--panelAnexosVarios-->
                                    <p:panel id="panelAnexosVarios" rendered="#{proyectoContenidoController.selectedNodeCode=='11'}" style="border: hidden; padding-left: 20px; ">

                                        <h:panelGrid columns="1" cellpadding="7" id="h9">
                                            <p:commandButton id="btnAgregarP9" value="Agregar" icon="ui-icon-plus" style="margin: 0; font-size: 11px; float: left"
                                                             disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                             title="Agrega Información" update=":formPrincipal" action="#{proyectoContenidoController.agregarP9()}" rendered="#{proyectoContenidoController.anexoProyectoSelected==null}">
                                            </p:commandButton>
                                        </h:panelGrid>
                                        <p:fieldset id="p9" legend="Nuevo archivo adjunto" rendered="#{proyectoContenidoController.anexoProyectoSelected!=null}">
                                            <h:panelGrid columns="2" cellpadding="5" style="margin-top: 20px">
                                                <p:commandButton id="btnGrabarP9" value="Grabar" icon="ui-icon-locked" style="margin: 0; font-size: 11px; float: left " disabled="#{proyectoContenidoController.validaVaciosP9}"
                                                                 onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                 title="Graba Información" update=":formPrincipal" action="#{proyectoContenidoController.registraP9()}">
                                                </p:commandButton>
                                                <p:commandButton id="btnCancelarP9" value="Cancelar" icon="ui-icon-arrowreturnthick-1-w" style="margin: 0; font-size: 11px; float: left "
                                                                 onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                 title="Cancelar Información" update=":formPrincipal" action="#{proyectoContenidoController.cancelarP9()}">
                                                </p:commandButton>
                                            </h:panelGrid>
                                            <h:panelGrid columns="1" cellpadding="7" id="pInput9" >
                                                <h:outputLabel for="docP9"  value="Documentos / Anexos Varios (PDF):" style="width: auto"/>
                                                <h:outputText id="docP9" value="#{proyectoContenidoController.anexoProyectoSelected.sztainanexAnexoNombre}" style="font-weight: bolder" /> 
                                            </h:panelGrid>
                                            <left>
                                                <p:fileUpload fileUploadListener="#{proyectoContenidoController.handleFileUpload9}" mode="advanced" dragDropSupport="false" 
                                                              invalidFileMessage="Tipo de archivo incorrecto: "
                                                              invalidSizeMessage="Tamaño del archivo seleccionado excede el límite permitido (10MB): "
                                                              style="width: 250px; text-align:left;font-weight: bold; margin-bottom: 20px"
                                                              update=":formPrincipal:tabP:pInput9,:formPrincipal:tabP:btnGrabarP9" label="Seleccione Documento" sizeLimit="10240000" auto="true"/>
                                            </left>
                                        </p:fieldset>


                                        <h:panelGrid columns="1" style="margin-top: 10px">
                                            <h:outputLabel value="Listado de Documentos, Anexos para evidenciar el proceso:"/>
                                            <p:dataTable value="#{proyectoContenidoController.anexoProyectoList}" var="anexo"
                                                         rowIndexVar="index"  resizableColumns="true" style="margin-bottom: 10px; "
                                                         emptyMessage="No se encontraron resultados">
                                                <p:column headerText="Nro." width="20" >
                                                    <h:outputText value="#{index + 1}"/>
                                                </p:column>
                                                <p:column headerText="Nombre Anexo" sortBy="#{anexo.sztainanexAnexoNombre}">
                                                    <h:outputText value="#{anexo.sztainanexAnexoNombre}" style="white-space: pre-line"></h:outputText>
                                                </p:column>

                                                <p:column headerText="Descargar" width="50" style="text-align: center">
                                                    <p:commandButton actionListener="#{proyectoContenidoController.prepararArchivoDownload(anexo)}"
                                                                     ajax="false" icon="ui-icon-arrowthick-1-s" title="Descargar anexo">
                                                        <p:fileDownload value="#{proyectoContenidoController.archivoAdjunto}" />
                                                    </p:commandButton>
                                                </p:column>                                    
                                                <p:column headerText="Eliminar" width="50" style="text-align: center" >
                                                    <p:commandButton style="margin: 0" title="Eliminar el registro" icon="ui-icon-trash" 
                                                                     disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                     action="#{proyectoContenidoController.eliminarP9}"
                                                                     update=":formPrincipal">
                                                        <f:setPropertyActionListener value="#{anexo}" target="#{proyectoContenidoController.anexoProyectoSelected}" />
                                                        <p:confirm header="Confirmación" message="Confirma que desea eliminar el anexo seleccionado ?" icon="ui-icon-alert" />
                                                    </p:commandButton>  
                                                </p:column>

                                            </p:dataTable>       
                                        </h:panelGrid>
                                    </p:panel>                            

                                    <!--panelFinalizar-->
                                    <p:panel id="panelFinalizar" rendered="#{proyectoContenidoController.selectedNodeCode=='26'}" style="border: hidden; padding-left: 20px; ">
                                        <h:panelGrid columns="1" cellpadding="7">
                                            <p:outputLabel value="Ingreso del Proyecto finalizado." style="font-weight: bold"
                                                           rendered="#{!proyectoContenidoController.proyectoSelected.datgeproyId.estadoIngresoPerfil}"></p:outputLabel>
                                            <p:outputLabel value="Una vez finalizado el ingreso del Proyecto, no se podrá modificar la información registrada." 
                                                           style="font-weight: bold"
                                                           rendered="#{proyectoContenidoController.proyectoSelected.datgeproyId.estadoIngresoPerfil}"
                                                           ></p:outputLabel>
                                            <p:commandButton value="Finalizar" icon="ui-icon-plus"
                                                             disabled="#{!proyectoContenidoController.permitirEdicionPerfil or !proyectoContenidoController.proyectoSelected.datgeproyId.estadoIngresoPerfil}"
                                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                             title="Guardar Información" update=":formPrincipal, :formPrincipal:message1"
                                                             action="#{proyectoContenidoController.finalizarIngresoPerfil()}" 
                                                             >
                                                <p:confirm header="Confirmación" message="Confirma que desea finalizar el ingreso del Proyecto ?" icon="ui-icon-alert" />
                                            </p:commandButton>
                                        </h:panelGrid>                                
                                    </p:panel>                            


                                    <!--panelReporte-->
                                    <p:panel id="panelReporte" rendered="#{proyectoContenidoController.selectedNodeCode=='27'}" style="border: hidden; padding-left: 20px; ">
                                        <p:panel>
                                            <object type="application/pdf" data="/Investigacion-war/faces/reportes/proyecto_largo/#{proyectoContenidoController.nombreArchivoPdf}" width="100%" height="600px"></object>
                                        </p:panel>
                                    </p:panel>                            

                                    <!--panelObjetivoBuenVivir-->
                                    <p:panel id="panelObjetivoBuenVivir" rendered="#{proyectoContenidoController.selectedNodeCode=='14'}" style="border: hidden; padding-left: 20px; ">
                                        <h:panelGrid id="panelObjBuenVivir" style="width: 100%">

                                            <h:panelGrid id="panelEdicionObjBuenVivir" style="width: 100%">
                                                <p:commandButton value="Agregar" icon="ui-icon-plus"
                                                                 onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                 title="Agregar Información" update=":formPrincipal:tabP:panelEdicionObjBuenVivir" 
                                                                 action="#{proyectoContenidoController.nuevoObjetivoBuenVivir}" 
                                                                 disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                 rendered="#{proyectoContenidoController.objetivoBuenVivirProyectoSelected==null}">
                                                </p:commandButton>
                                                <h:panelGrid rendered="#{proyectoContenidoController.objetivoBuenVivirProyectoSelected!=null}" style="width: 100%">
                                                    <p:fieldset legend="Nuevo objetivo" style="width: 100%">
                                                        <h:panelGrid columns="2" cellpadding="5" cellspacing="0">
                                                            <p:commandButton id="btnGrabarObjetivoBuenVivir" value="Grabar" icon="ui-icon-locked"
                                                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                             title="Graba Información" 
                                                                             update=":formPrincipal:tabP:panelObjBuenVivir, :formPrincipal:message1" 
                                                                             action="#{proyectoContenidoController.registraObjetivoBuenVivir}">
                                                            </p:commandButton>
                                                            <p:commandButton value="Cancelar" icon="ui-icon-arrowreturnthick-1-w" 
                                                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                             title="Cancela Información" update=":formPrincipal:tabP:panelEdicionObjBuenVivir" 
                                                                             action="#{proyectoContenidoController.cancelarObjetivoBuenVivir}">
                                                            </p:commandButton>
                                                        </h:panelGrid>
                                                        <h:panelGrid columns="3" cellpadding="5" cellspacing="0">
                                                            <p:outputLabel for="objProy" value="Objetivos del Plan Nacional del Buen Vivir"/>
                                                            <p:selectOneMenu id="objProy" value="#{proyectoContenidoController.objetivoBuenVivirProyectoSelected.obplabvId}" 
                                                                             converter="omnifaces.SelectItemsConverter"
                                                                             required="#{not empty param['formPrincipal:tabP:btnGrabarObjetivoBuenVivir']}" style="width: 350px">
                                                                <f:selectItem itemLabel="[[-Seleccione un item-]]" itemValue="" noSelectionOption="true"/>
                                                                <f:selectItems value="#{proyectoContenidoController.objetivoBuenVivirList}" var="obPlan" itemLabel="#{obPlan.obplanbvDecrip}" itemValue="#{obPlan}"/>
                                                            </p:selectOneMenu>
                                                            <p:message for="objProy"></p:message>
                                                        </h:panelGrid>
                                                    </p:fieldset>
                                                </h:panelGrid>
                                            </h:panelGrid>                                    
                                            <p:dataTable id="dataTObjetivoProyL" value="#{proyectoContenidoController.proyectoSelected.objetivoBuenVivirList}" var="objProyL" paginator="true"
                                                         rows="10" rowIndexVar="index" resizableColumns="true"
                                                         editable="false" emptyMessage="No se encontraron Resultados">
                                                <p:column width="20">
                                                    <p:rowToggler/>
                                                </p:column>
                                                <p:column headerText="Ord." width="20" >
                                                    <h:outputText value="#{index + 1}"/>
                                                </p:column>
                                                <p:column headerText="Objetivo del Plan Nacional del Buen Vivir" style="white-space: pre-line">
                                                    <h:outputText value="#{objProyL.obplabvId.obplanbvDecrip}" style="text-transform: uppercase;font-size: x-small;white-space: pre-line"/>
                                                </p:column>
                                                <p:column headerText="Agregar Politica" style="white-space: pre-line;text-align: center;" width="120">
                                                    <p:commandButton icon="ui-icon-clipboard" onclick="PF('dialogPolitica').show();"
                                                                     disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                     action="#{proyectoContenidoController.nuevoPolitica}" update=":formPrincipal:fmPolitOject">
                                                        <f:setPropertyActionListener value="#{objProyL}" target="#{proyectoContenidoController.objetivoBuenVivirProyectoSelected}"/>
                                                    </p:commandButton>
                                                </p:column>
                                                <p:column headerText="Eliminar" style="text-align:center" width="50">
                                                    <p:commandButton title="Eliminar el registro" icon="ui-icon-trash" action="#{proyectoContenidoController.eliminarObjetivoBuenVivir()}"
                                                                     disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                     update=":formPrincipal:tabP:dataTObjetivoProyL, :formPrincipal:message1"
                                                                     >
                                                        <f:setPropertyActionListener value="#{objProyL}" target="#{proyectoContenidoController.objetivoBuenVivirProyectoSelected}"/>
                                                        <p:confirm header="Confirmación" message="Confirma que desea eliminar el item seleccionado?" icon="ui-icon-alert" />
                                                    </p:commandButton>
                                                </p:column>
                                                <p:rowExpansion>
                                                    <p:panelGrid columns="1" style="border:none;margin:0 auto;width:95%; text-align: left" >
                                                        <p:dataTable id="dtPolit" value="#{objProyL.politicaList}" var="polObj"
                                                                     rowIndexVar="index" style="width: 100%"
                                                                     emptyMessage="No se encontraron Resultados">
                                                            <p:column headerText="Ord." width="20">
                                                                <h:outputText value="#{index + 1}" />
                                                            </p:column>
                                                            <p:column headerText="Políticas" style="white-space: pre-line;">
                                                                <h:outputText value="#{polObj.sztapolobjbvDescrip}"/>
                                                            </p:column>
                                                            <p:column headerText="Editar" width="50" style="text-align: center">
                                                                <p:commandButton icon="ui-icon-pencil"
                                                                                 title="Editar el registro"
                                                                                 disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                                 onclick="PF('dialogPolitica').show();" update=":formPrincipal:fmPolitOject" 
                                                                                 >
                                                                    <f:setPropertyActionListener value="#{polObj}" target="#{proyectoContenidoController.politicaObjBuenVivirSelected}"/>
                                                                </p:commandButton>
                                                            </p:column>
                                                            <p:column headerText="Eliminar" style="text-align: center" width="50">
                                                                <p:commandButton title="Eliminar el registro" icon="ui-icon-trash" action="#{proyectoContenidoController.eliminarPoliticaObjetivoBuenVivir()}"
                                                                                 disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                                 update=":formPrincipal:tabP:dataTObjetivoProyL:dtPolit, :formPrincipal:message1">
                                                                    <f:setPropertyActionListener value="#{polObj}" target="#{proyectoContenidoController.politicaObjBuenVivirSelected}"/>
                                                                    <p:confirm header="Confirmación" message="Confirma que desea eliminar el item seleccionado?" icon="ui-icon-alert" />
                                                                </p:commandButton>
                                                            </p:column>
                                                        </p:dataTable>
                                                    </p:panelGrid>
                                                </p:rowExpansion>
                                            </p:dataTable>

                                        </h:panelGrid>                                
                                    </p:panel>                            

                                    <!--panelAreaConocimiento-->
                                    <p:panel id="panelAreaConocimiento" rendered="#{proyectoContenidoController.selectedNodeCode=='15'}" style="border: hidden; padding-left: 20px; ">
                                        <h:panelGrid style="width: 95%; margin-left: 20px">
                                            <p:fieldset legend="Áreas de Conocimiento" style="width: 100%">
                                                <h:panelGrid columns="2" cellpadding="5" cellspacing="0">
                                                    <p:commandButton id="btnGrabarAreaConocimiento" value="Grabar" icon="ui-icon-locked"
                                                                     onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                     disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                     title="Grabar Información" update=":formPrincipal:tabP:panelAreaConocimiento, :formPrincipal:message1"  
                                                                     action="#{proyectoContenidoController.registraProyecto()}">
                                                    </p:commandButton>
                                                    <p:commandButton value="Cancelar" icon="ui-icon-arrowreturnthick-1-w"
                                                                     disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                     onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                     title="Cancela Información" update=":formPrincipal:tabP:panelAreaConocimiento" action="#{proyectoContenidoController.cancelarProyecto}">
                                                    </p:commandButton>
                                                </h:panelGrid>

                                                <h:panelGrid columns="2">
                                                    <p:outputLabel for="areaEspe" value="Área Conocimineto Espe:"/>
                                                    <h:panelGrid columns="2">
                                                        <p:selectOneMenu id="areaEspe" value="#{proyectoContenidoController.proyectoSelected.stvtopsCode}" style="width: 300px"
                                                                         converter="omnifaces.SelectItemsConverter"
                                                                         disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                         required="#{not empty param['formPrincipal:tabP:btnGrabarAreaConocimiento']}">
                                                            <f:selectItem itemLabel="[[-Seleccione un item-]]" itemValue="" noSelectionOption="true"/>
                                                            <f:selectItems value="#{proyectoContenidoController.areaEspeList}" var="arEsp" itemLabel="#{arEsp.stvtopsDesc}" itemValue="#{arEsp}"/>
                                                        </p:selectOneMenu>
                                                        <p:message for="areaEspe"/>


                                                    </h:panelGrid>
                                                    <p:outputLabel for="areaUnesco" value="Área Conocimiento Unesco:"/>
                                                    <h:panelGrid columns="2">
                                                        <p:selectOneMenu id="areaUnesco" value="#{proyectoContenidoController.proyectoSelected.sacuId}" style="width: 300px"
                                                                         disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                         converter="omnifaces.SelectItemsConverter"
                                                                         required="#{not empty param['formPrincipal:tabP:btnGrabarAreaConocimiento']}">
                                                            <f:selectItem itemLabel="[[-Seleccione un item-]]" itemValue="" noSelectionOption="true"/>
                                                            <f:selectItems value="#{proyectoContenidoController.areaUnescoList}" var="arUnes" itemLabel="#{arUnes.sacuDecsripcion}" itemValue="#{sacuId}" />
                                                        </p:selectOneMenu>
                                                        <p:message for="areaUnesco"/>
                                                    </h:panelGrid>
                                                </h:panelGrid>
                                            </p:fieldset>




                                        </h:panelGrid>                                
                                    </p:panel>                            


                                    <!--panelMonto-->
                                    <p:panel id="panelMonto" rendered="#{proyectoContenidoController.selectedNodeCode=='16'}" style="border: hidden; padding-left: 20px; ">
                                        <h:panelGrid>
                                            <p:panel id="p6">
                                                <h:panelGrid columns="2" cellpadding="5" cellspacing="0">
                                                    <p:commandButton id="btnGrabarMonto" value="Grabar" icon="ui-icon-locked" style="margin: 0;font-size: 11px;float: left" 
                                                                     onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                     disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                     title="Graba Información" update=":formPrincipal:tabP:panelMonto, :formPrincipal:message1" action="#{proyectoContenidoController.registraMonto()}">
                                                    </p:commandButton>
                                                    <p:commandButton value="Cancelar" icon="ui-icon-arrowreturnthick-1-w" style="margin: 0; font-size: 11px; float: left"
                                                                     onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                     disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                     title="Cancela Información" update=":formPrincipal:tabP:panelMonto" action="#{proyectoContenidoController.cancelarProyecto}">
                                                    </p:commandButton>
                                                </h:panelGrid>
                                                <h:panelGrid columns="3" cellpadding="5" cellspacing="0" id="pInput6" style="text-align: left">
                                                    <p:outputLabel for="presupRies" value="Presupuesto de Riesgos (USD):" style=" float: left;white-space: pre-line"/>
                                                    <pe:inputNumber id="presupRies" value="#{proyectoContenidoController.proyectoSelected.sflPresupRiesgo}" decimalPlaces="2" minValue="0" maxValue="1000000" styleClass="inputNumber" 
                                                                    disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                    required="#{not empty param['formPrincipal:tabP:btnGrabarMonto']}">  
                                                        <p:ajax event="change" update=":formPrincipal:tabP:presupTotal"/>
                                                    </pe:inputNumber>
                                                    <p:message for="presupRies"></p:message>

                                                    <p:outputLabel for="presupEspe" value="Presupuesto aporte ESPE (USD):" style=" float: left;white-space: pre-line"/>
                                                    <pe:inputNumber id="presupEspe" value="#{proyectoContenidoController.proyectoSelected.sflPresupEspe}" decimalPlaces="2" minValue="0" maxValue="1000000" styleClass="inputNumber" 
                                                                    disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                    required="#{not empty param['formPrincipal:tabP:btnGrabarMonto']}">  
                                                        <p:ajax event="change" update=":formPrincipal:tabP:presupTotal"/>
                                                    </pe:inputNumber>
                                                    <p:message for="presupEspe"></p:message>

                                                    <p:outputLabel for="presupAusp" value="Presupuesto entidad auspiciantes/beneficiaria (USD):" style=" float: left;white-space: pre-line"/>
                                                    <pe:inputNumber id="presupAusp" value="#{proyectoContenidoController.proyectoSelected.sflPresupEntidadAuspicia}" decimalPlaces="2" minValue="0" maxValue="1000000" styleClass="inputNumber" 
                                                                    disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                    required="#{not empty param['formPrincipal:tabP:btnGrabarMonto']}">  
                                                        <p:ajax event="change" update=":formPrincipal:tabP:presupTotal"/>
                                                    </pe:inputNumber>
                                                    <p:message for="presupAusp"></p:message>

                                                    <p:outputLabel for="presupTotal" value="Presupuesto Total (USD):" style=" float: left;white-space: pre-line"/>
                                                    <pe:inputNumber id="presupTotal" value="#{proyectoContenidoController.proyectoSelected.presupuestoTotal}" decimalPlaces="2" minValue="0" maxValue="1000000" styleClass="inputNumber" required="#{not empty param['formPrincipal:tabP:btnGrabarP6']}" disabled="true">  
                                                    </pe:inputNumber>
                                                    <p:message for="presupTotal"></p:message>

                                                </h:panelGrid>
                                            </p:panel>
                                        </h:panelGrid>                         
                                    </p:panel>              



                                    <!--panelCategorizacion-->
                                    <p:panel id="panelCategorizacion" rendered="#{proyectoContenidoController.selectedNodeCode=='29'}" style="border: hidden; padding-left: 20px; ">
                                        <h:panelGrid>
                                            <p:fieldset legend="Categorización del Proyecto">
                                                <h:panelGrid columns="2" cellpadding="5" cellspacing="0" style="margin-top: 10px">
                                                    <p:commandButton id="btnGrabarCategorizacion" value="Grabar" icon="ui-icon-locked"
                                                                     onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                     disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                     title="Graba Información" update=":formPrincipal:tabP:panelCategorizacion, :formPrincipal:message1" 
                                                                     action="#{proyectoContenidoController.registraProyecto()}">
                                                    </p:commandButton>
                                                    <p:commandButton value="Cancelar" icon="ui-icon-arrowreturnthick-1-w"
                                                                     onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                     disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                     title="Cancela Información" update=":formPrincipal:tabP:panelCategorizacion" 
                                                                     action="#{proyectoContenidoController.cancelarProyecto}">
                                                    </p:commandButton>
                                                </h:panelGrid>
                                                <h:panelGrid columns="3" cellpadding="5" cellspacing="0" style="margin-top: 10px">
                                                    <p:selectOneRadio  id="selCategorizacion" value="#{proyectoContenidoController.proyectoSelected.prdIdCategoria}" 
                                                                       disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                       converter="omnifaces.SelectItemsConverter"
                                                                       >
                                                        <f:selectItems value="#{proyectoContenidoController.categoriaList}" var="catP" itemLabel="#{catP.prdDescripcion}" itemValue="#{catP}"/>
                                                    </p:selectOneRadio>
                                                </h:panelGrid>

                                            </p:fieldset>

                                        </h:panelGrid>                         
                                    </p:panel>          



                                    <!--panelPlazoEjecucion-->
                                    <p:panel id="panelPlazoEjecucion" rendered="#{proyectoContenidoController.selectedNodeCode=='17'}" style="border: hidden; padding-left: 20px; ">
                                        <p:panel rendered="#{proyectoContenidoController.modoEdicion}" style="font-size: 11px; text-align: left; border: hidden; font-weight: bold">
                                            <h:panelGrid columns="2" cellpadding="5" cellspacing="0" >
                                                <p:commandButton id="btnGrabarPlazoEjecucion" value="Grabar" icon="ui-icon-locked" style="margin: 0;font-size: 11px;float: left"
                                                                 onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                 title="Graba Información" update=":formPrincipal:tabP:panelPlazoEjecucion, :formPrincipal:message1" action="#{proyectoContenidoController.registraPlazoEjecucion()}">
                                                </p:commandButton>
                                                <p:commandButton value="Cancelar" icon="ui-icon-arrowreturnthick-1-w" 
                                                                 onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                 title="Cancela Información" update=":formPrincipal:tabP:panelPlazoEjecucion" action="#{proyectoContenidoController.cancelarPlazoEjecucion}">
                                                </p:commandButton>
                                            </h:panelGrid>
                                            <h:panelGrid columns="2" cellpadding="2" cellspacing="2" style="text-align: left">
                                                <p:outputLabel for="fechPresent" value="Fecha de Presentación (dd/mm/aaaa): "/>
                                                <h:panelGrid columns="2">
                                                    <p:calendar id="fechPresent" navigator="true" locale="es" pattern="dd/MM/yyyy" size="10" style="font-size: 10px; text-align: center" value="#{proyectoContenidoController.proyectoSelected.sflFechaPresenta}" yearRange="1960:2025"  
                                                                required="#{not empty param['formPrincipal:tabP:btnGrabarPlazoEjecucion']}"/>
                                                    <p:message for="fechPresent"/>
                                                </h:panelGrid>

                                                <p:outputLabel for="fechIni" value="Fecha de Inicio (dd/mm/aaaa): "/>
                                                <h:panelGrid columns="2">                                                
                                                    <p:calendar id="fechIni" navigator="true" locale="es" pattern="dd/MM/yyyy" size="10" style="font-size: 10px; text-align: center" value="#{proyectoContenidoController.proyectoSelected.sflFechaInicio}" yearRange="1960:2025"  
                                                                required="#{not empty param['formPrincipal:tabP:btnGrabarPlazoEjecucion']}"/>
                                                    <p:message for="fechIni"/>
                                                </h:panelGrid>

                                                <p:outputLabel for="fechFin" value="Fecha de Finalización (dd/mm/aaaa.):  "/>
                                                <h:panelGrid columns="2">                                                
                                                    <p:calendar id="fechFin" navigator="true" locale="es" pattern="dd/MM/yyyy"  size="10" style="font-size: 10px; text-align: center" value="#{proyectoContenidoController.proyectoSelected.sflFechaFinaliza}" yearRange="1960:2025"
                                                                required="#{not empty param['formPrincipal:tabP:btnGrabarPlazoEjecucion']}"/>
                                                    <p:message for="fechFin"/>
                                                </h:panelGrid>

                                                <p:outputLabel for="txtDuracion" value="Duración en meses:"/>
                                                <h:panelGrid columns="2">                                                                                                
                                                    <pe:inputNumber id="txtDuracion" value="#{proyectoContenidoController.proyectoSelected.datgeproyId.datgeproyTiempoEjecucion}" decimalPlaces="0" minValue="0" maxValue="999" styleClass="inputNumber"
                                                                    required="#{not empty param['formPrincipal:tabP:btnGrabarPlazoEjecucion']}"/>
                                                    <p:message for="txtDuracion"/>
                                                </h:panelGrid>

                                                <p:outputLabel for="estado" value="Estado :"/>
                                                <h:panelGrid columns="2">                                                
                                                    <p:selectOneRadio id="estado" value="#{proyectoContenidoController.proyectoSelected.prdId}" required="false" style="text-align: left"
                                                                      converter="omnifaces.SelectItemsConverter">
                                                        <f:selectItems value="#{proyectoContenidoController.paramDetPlazoEjecList}" var="est" itemLabel="#{est.prdDescripcion}" itemValue="#{est}"/>
                                                    </p:selectOneRadio>
                                                </h:panelGrid>

                                            </h:panelGrid>
                                        </p:panel>
                                        <p:dataTable id="dataTPlazoProyL" value="#{proyectoContenidoController.proyectoList}" var="plazo" editable="true"
                                                     style="width: auto" paginator="false" rows="10" rowIndexVar="index" resizableColumns="true" lazy="true"
                                                     emptyMessage="No se encontraron Resultados">
                                            <p:column headerText="Fecha de Presentación" style="white-space: pre-line; text-align: center" width="100">
                                                <h:outputText value="#{plazo.sflFechaPresenta}"><f:convertDateTime pattern="dd/MM/yyyy" /></h:outputText>
                                            </p:column>
                                            <p:column headerText="Fecha de Inicio" style="white-space: pre-line; ;text-align: center" width="100">
                                                <h:outputText value="#{plazo.sflFechaInicio}"><f:convertDateTime pattern="dd/MM/yyyy" /></h:outputText>
                                            </p:column>
                                            <p:column headerText="Fecha de Finalización" style="white-space: pre-line; text-align: center" width="100">
                                                <h:outputText value="#{plazo.sflFechaFinaliza}"><f:convertDateTime pattern="dd/MM/yyyy" /></h:outputText>
                                            </p:column>
                                            <p:column headerText="Duración en meses" style="white-space: pre-line; text-align: center" width="100">
                                                <h:outputText value="#{plazo.datgeproyId.datgeproyTiempoEjecucion}"/>
                                            </p:column>
                                            <p:column headerText="Estado" style="text-align: center" > 
                                                <h:outputText value="#{plazo.prdId.prdDescripcion}" style="text-transform: uppercase; font-size: xx-small"/>
                                            </p:column>
                                            <p:column headerText="Editar" width="50" style="text-align: center">
                                                <p:commandButton icon="ui-icon-pencil"
                                                                 disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                 title="Editar el registro"
                                                                 update=":formPrincipal:tabP:panelPlazoEjecucion" 
                                                                 >
                                                    <f:setPropertyActionListener value="#{true}" target="#{proyectoContenidoController.modoEdicion}"/>
                                                </p:commandButton>
                                            </p:column>
                                        </p:dataTable>                       
                                    </p:panel>  


                                    <!--panelDiagnosticoProblema-->
                                    <p:panel id="panelDiagnosticoProblema" rendered="#{proyectoContenidoController.selectedNodeCode=='18.1'}" style="border: hidden; padding-left: 20px; ">
                                        <h:panelGrid columns="2">
                                            <p:commandButton id="btnGrabarDiagnosticoProblema" value="Grabar" icon="ui-icon-locked" 
                                                             disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                             title="Graba Información" update=":formPrincipal:tabP:panelDiagnosticoProblema, :formPrincipal:message1" action="#{proyectoContenidoController.registraDiagnisticoProblema}">
                                            </p:commandButton>
                                            <p:commandButton value="Cancelar" icon="ui-icon-arrowreturnthick-1-w" 
                                                             disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                             title="Cancela Información" update=":formPrincipal:tabP:panelDiagnosticoProblema" 
                                                             action="#{proyectoContenidoController.cancelarDiagnosticoProblema}">
                                            </p:commandButton>

                                        </h:panelGrid>
                                        <h:panelGrid style="width: 100%">
                                            <p:outputLabel for="descSitAct" value="Descripción de la Situación actual del tema a Investigar:"/>
                                            <p:inputTextarea id="descSitAct" rows="4" autoResize="false" value="#{proyectoContenidoController.diagnosticoProblema.sdpSituacionActualTema}" style="width: 95%" 
                                                             disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                             required="#{not empty param['formPrincipal:tabP:btnGrabarDiagnosticoProblema']}">
                                            </p:inputTextarea>
                                            <p:message for="descSitAct"/>

                                            <p:spacer height="10"/>
                                            <p:outputLabel for="identDescDiag" value="Identificación, descripción y diagnóstico del problema:"/>
                                            <p:inputTextarea id="identDescDiag" rows="4" autoResize="false" value="#{proyectoContenidoController.diagnosticoProblema.sdpIdentificaDescripProblem}" style="width: 95%"
                                                             disabled="#{!proyectoLargoContenidoController.permitirEdicion}"
                                                             required="#{not empty param['formPrincipal:tabP:btnGrabarDiagnosticoProblema']}">
                                            </p:inputTextarea>
                                            <p:message for="identDescDiag"/>
                                        </h:panelGrid>                                
                                    </p:panel>



                                    <!--panelTablaBusqueda-->
                                    <p:panel id="panelTablaBusqueda" rendered="#{proyectoContenidoController.selectedNodeCode=='18.2'}" style="border: hidden; padding-left: 20px; ">
                                        <h:panelGrid id="panelEdicionTablaBusqueda" style="width: 100%">
                                            <p:commandButton value="Agregar" icon="ui-icon-plus"
                                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                             title="Agregar Información" update=":formPrincipal:tabP:panelEdicionTablaBusqueda" 
                                                             action="#{proyectoContenidoController.nuevoTablaBusqueda}" 
                                                             disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                             rendered="#{proyectoContenidoController.tablaContenidoSelected==null}">
                                            </p:commandButton>
                                            <h:panelGrid rendered="#{proyectoContenidoController.tablaContenidoSelected!=null}" style="width: 100%">
                                                <p:fieldset legend="#{proyectoContenidoController.tablaContenidoSelected.stcId==null?'Nueva tabla de contenido':'Edición de tabla de contenido'}" style="width: 100%">
                                                    <h:panelGrid columns="2" cellpadding="5" cellspacing="0">
                                                        <p:commandButton id="btnGrabarTablaContenido" value="Grabar" icon="ui-icon-locked"
                                                                         onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                         title="Graba Información" update=":formPrincipal:tabP:panelTablaBusqueda,:formPrincipal:message1" 
                                                                         action="#{proyectoContenidoController.registraTablaBusqueda}">
                                                        </p:commandButton>
                                                        <p:commandButton value="Cancelar" icon="ui-icon-arrowreturnthick-1-w" 
                                                                         onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                         title="Cancela Información" update=":formPrincipal:tabP:panelTablaBusqueda" 
                                                                         action="#{proyectoContenidoController.cancelarTablaBusqueda}">
                                                        </p:commandButton>
                                                    </h:panelGrid>
                                                    <h:panelGrid columns="2">
                                                        <p:outputLabel for="bdd" value="* Base de Datos:"/>
                                                        <h:panelGrid columns="2">
                                                            <p:inputText id="bdd" value="#{proyectoContenidoController.tablaContenidoSelected.stcBaseDatos}" 
                                                                         maxlength="250"
                                                                         required="#{not empty param['formPrincipal:tabP:btnGrabarTablaContenido']}"
                                                                         autocomplete="off" style="width: 250px"/>
                                                            <p:message for="bdd"/>
                                                        </h:panelGrid>

                                                        <p:outputLabel for="denom" value="* Denominación:"/>
                                                        <h:panelGrid columns="2">
                                                            <p:inputText id="denom" value="#{proyectoContenidoController.tablaContenidoSelected.stcDenominacion}" 
                                                                         maxlength="250"
                                                                         required="#{not empty param['formPrincipal:tabP:btnGrabarTablaContenido']}"
                                                                         autocomplete="off" style="width: 250px"/>
                                                            <p:message for="denom"/>
                                                        </h:panelGrid>

                                                        <p:outputLabel for="patente" value="* No. De patente: "/>
                                                        <h:panelGrid columns="2">
                                                            <p:inputText id="patente" value="#{proyectoContenidoController.tablaContenidoSelected.stcNumeroPatente}" 
                                                                         maxlength="250"
                                                                         required="#{not empty param['formPrincipal:tabP:btnGrabarTablaContenido']}"
                                                                         autocomplete="off" style="width: 250px"/>
                                                            <p:message for="patente"/>
                                                        </h:panelGrid>                                                        


                                                        <p:outputLabel for="otros" value="Otros:"/>
                                                        <h:panelGrid columns="2">
                                                            <p:inputText id="otros" value="#{proyectoContenidoController.tablaContenidoSelected.stcOtros}" 
                                                                         maxlength="250"
                                                                         autocomplete="off" style="width: 250px"/>
                                                            <p:message for="otros"/>
                                                        </h:panelGrid>




                                                    </h:panelGrid>

                                                </p:fieldset>


                                            </h:panelGrid>


                                        </h:panelGrid>
                                        <p:dataTable id="dtTablaContenido" value="#{proyectoContenidoController.diagnosticoProblema.tablaContenidoList}" var="taBus"
                                                     style="width: auto" paginator="true" rows="10" rowIndexVar="index" resizableColumns="true"
                                                     emptyMessage="No se encontraron Resultados">
                                            <p:column headerText="Ord." width="20" >
                                                <h:outputText value="#{index + 1}"/>
                                            </p:column>
                                            <p:column headerText="Base de Datos">
                                                <h:outputText value="#{taBus.stcBaseDatos}" style="white-space: pre-line"/>
                                            </p:column>
                                            <p:column headerText="Denominación" style="white-space: pre-line;text-align: center" width="200">
                                                <h:outputText value="#{taBus.stcDenominacion}" style="white-space: pre-line"/>
                                            </p:column>
                                            <p:column headerText="No.De patente" style="white-space: pre-line;text-align: center" width="200">
                                                <h:outputText value="#{taBus.stcNumeroPatente}" style="white-space: pre-line"/>
                                            </p:column>
                                            <p:column headerText="Otros" style="white-space: pre-line;text-align: center" width="200">
                                                <h:outputText value="#{taBus.stcOtros}" style="text-transform: uppercase;white-space: pre-line"/>
                                            </p:column>
                                            <p:column headerText="Editar" style="text-align:center" width="50">
                                                <p:commandButton icon="ui-icon-pencil"
                                                                 title="Editar el registro"
                                                                 update=":formPrincipal:tabP:panelEdicionTablaBusqueda"
                                                                 disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                 >
                                                    <f:setPropertyActionListener value="#{taBus}" target="#{proyectoContenidoController.tablaContenidoSelected}"/>
                                                </p:commandButton>
                                            </p:column>
                                            <p:column headerText="Eliminar" style="text-align:center" width="50">
                                                <p:commandButton title="Eliminar el registro" icon="ui-icon-trash" action="#{proyectoContenidoController.eliminarTablaBusqueda()}"
                                                                 disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                 update=":formPrincipal:tabP:panelTablaBusqueda, :formPrincipal:message1">
                                                    <f:setPropertyActionListener value="#{taBus}" target="#{proyectoContenidoController.tablaContenidoSelected}"/>
                                                    <p:confirm header="Confirmación" message="Confirma que desea eliminar el item seleccionado?" icon="ui-icon-alert" />
                                                </p:commandButton>

                                            </p:column>
                                        </p:dataTable>                                     
                                    </p:panel>    

                                    <!--panelAnalisisComparativo-->
                                    <p:panel id="panelAnalisisComparativo" rendered="#{proyectoContenidoController.selectedNodeCode=='18.3'}" style="border: hidden; padding-left: 20px; ">
                                        <h:panelGrid columns="2" cellpadding="5" cellspacing="0" id="h102">
                                            <p:commandButton id="btnGrabarAnalisisComparativo" value="Grabar" icon="ui-icon-locked" 
                                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                             disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                             title="Graba Información" update=":formPrincipal:tabP:panelAnalisisComparativo, :formPrincipal:message1" action="#{proyectoContenidoController.registraAnalisisComparativo()}">
                                            </p:commandButton> 
                                            <p:commandButton value="Cancelar" icon="ui-icon-arrowreturnthick-1-w"
                                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                             disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                             title="Cancela Información" update=":formPrincipal:tabP:panelAnalisisComparativo" action="#{proyectoContenidoController.cancelarAnalisisComparativo}">
                                            </p:commandButton>                                    

                                        </h:panelGrid>
                                        <h:panelGrid columns="1" cellpadding="5" cellspacing="0" style="text-align: left">
                                            <p:outputLabel for="analComp" value="* Análisis Comparativo:"/>
                                            <h:panelGrid columns="2">
                                                <pe:ckEditor  id="analComp" value="#{proyectoContenidoController.analisisFormato.safAnalisisCompara}" width="900" height="100" 
                                                              required="#{not empty param['formPrincipal:tabP:btnGrabarAnalisisComparativo']}"
                                                              readonly="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                              toolbar="[['SelectAll','-', 'Table' ,'Image', 'HorizontalRule','-' ,'Cut','Copy','Paste','-', 'Bold','Underline',
                                                              'Italic','-','JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock' , '-' , 
                                                              'NumberedList', 'BulletedList', 'Outdent' , 'Indent', '-', 
                                                              'Styles', 'Format','Font','FontSize','TextColor','BGColor']]"/>

                                                <p:message for="analComp"></p:message>
                                            </h:panelGrid>
                                        </h:panelGrid>




                                        <h:panelGrid columns="1">
                                            <h:outputLabel value="Identificación y caracterización de la población objetivo (beneficiarios):" style="font-weight: bold"/>
                                            <h:panelGrid columns="5" cellpadding="0" cellspacing="0" columnClasses="col1_identificacionPoblacion,col2_identificacionPoblacion, col2_identificacionPoblacion, col2_identificacionPoblacion, col2_identificacionPoblacion, col2_identificacionPoblacion">

                                                <p:spacer height="1"></p:spacer>
                                                <p:outputLabel value="* Hombres" style="font-weight: bold"/>
                                                <p:outputLabel value="* Mujeres" style="font-weight: bold"/>
                                                <p:outputLabel value="* Personas con capacidades especiales" style="font-weight: bold"/>
                                                <p:outputLabel value="Total" style="font-weight: bold"/>

                                                <p:outputLabel value="* BENEFIARIOS DIRECTOS" style="font-weight: bold"/>
                                                <h:panelGrid columns="2">
                                                    <pe:inputNumber id="txtDirectosHombres" value="#{proyectoContenidoController.analisisFormato.safNumHombresD}" decimalPlaces="0" minValue="0" maxValue="100000000" styleClass="inputNumber" 
                                                                    disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                    required="#{not empty param['formPrincipal:tabP:btnGrabarAnalisisComparativo']}"
                                                                    >  
                                                        <p:ajax event="change" update="formPrincipal:tabP:txtTotalDirectos"/>
                                                    </pe:inputNumber>
                                                    <p:message for="txtDirectosHombres"></p:message>
                                                </h:panelGrid>
                                                <h:panelGrid columns="2">
                                                    <pe:inputNumber id="txtDirectosMujeres" value="#{proyectoContenidoController.analisisFormato.safNumMujeresD}" decimalPlaces="0" minValue="0" maxValue="100000000" styleClass="inputNumber" 
                                                                    disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                    required="#{not empty param['formPrincipal:tabP:btnGrabarAnalisisComparativo']}"
                                                                    >  
                                                        <p:ajax event="change" update="formPrincipal:tabP:txtTotalDirectos"/>
                                                    </pe:inputNumber>
                                                    <p:message for="txtDirectosMujeres"></p:message>
                                                </h:panelGrid>
                                                <h:panelGrid columns="2">
                                                    <pe:inputNumber id="txtDirectosDiscapac" value="#{proyectoContenidoController.analisisFormato.safNumCapacEspeciales}" decimalPlaces="0" minValue="0" maxValue="100000000" styleClass="inputNumber" 
                                                                    disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                    required="#{not empty param['formPrincipal:tabP:btnGrabarAnalisisComparativo']}"
                                                                    >
                                                        <p:ajax event="change" update="formPrincipal:tabP:txtTotalDirectos"/>
                                                    </pe:inputNumber>
                                                    <p:message for="txtDirectosDiscapac"></p:message>
                                                </h:panelGrid>
                                                <p:inputText id="txtTotalDirectos" value="#{proyectoContenidoController.analisisFormato.totalDirectos}" disabled="true" style="width: 70px">
                                                    <f:convertNumber locale="es_ES"  pattern="###,###,##0" />
                                                </p:inputText>


                                                <p:outputLabel value="* BENEFICIARIOS INDIRECTOS" style="font-weight: bold"/>
                                                <p:spacer width="1" height="1"></p:spacer>
                                                <p:spacer width="1" height="1"></p:spacer>
                                                <p:spacer width="1" height="1"></p:spacer>
                                                <h:panelGrid columns="2">
                                                    <pe:inputNumber id="txtIndirectos" value="#{proyectoContenidoController.analisisFormato.safTotalNumIndirecto}" decimalPlaces="0" minValue="0" maxValue="100000000" styleClass="inputNumber" 
                                                                    disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                    required="#{not empty param['formPrincipal:tabP:btnGrabarAnalisisComparativo']}"
                                                                    >
                                                    </pe:inputNumber>
                                                    <p:message for="txtIndirectos"></p:message>
                                                </h:panelGrid>    

                                                <p:outputLabel value="* DOCENTES PARTICIPANTES" style="font-weight: bold"/>
                                                <h:panelGrid columns="2">
                                                    <pe:inputNumber id="txtDocentesHombres" value="#{proyectoContenidoController.analisisFormato.safNumDocHombres}" decimalPlaces="0" minValue="0" maxValue="100000000" styleClass="inputNumber" 
                                                                    disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                    required="#{not empty param['formPrincipal:tabP:btnGrabarAnalisisComparativo']}"
                                                                    >
                                                        <p:ajax event="change" update="formPrincipal:tabP:txtTotalDocentes"/>
                                                    </pe:inputNumber>
                                                    <p:message for="txtDocentesHombres"></p:message>
                                                </h:panelGrid>
                                                <h:panelGrid columns="2">
                                                    <pe:inputNumber id="txtDocentesMujeres" value="#{proyectoContenidoController.analisisFormato.safNumDocMujeres}" decimalPlaces="0" minValue="0" maxValue="100000000" styleClass="inputNumber" 
                                                                    disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                    required="#{not empty param['formPrincipal:tabP:btnGrabarAnalisisComparativo']}"
                                                                    >  
                                                        <p:ajax event="change" update="formPrincipal:tabP:txtTotalDocentes"/>
                                                    </pe:inputNumber>
                                                    <p:message for="txtDocentesMujeres"></p:message>
                                                </h:panelGrid>
                                                <p:spacer width="1" height="1"></p:spacer>
                                                <p:inputText id="txtTotalDocentes" value="#{proyectoContenidoController.analisisFormato.totalDocentes}" disabled="true" style="width: 70px">
                                                    <f:convertNumber locale="es_ES"  pattern="###,###,##0" />
                                                </p:inputText>


                                                <p:outputLabel value="* ESTUDIANTES PARTICIPANTES" style="font-weight: bold"/>
                                                <h:panelGrid columns="2">
                                                    <pe:inputNumber id="txtEstudiantesHombres" value="#{proyectoContenidoController.analisisFormato.safNumEstHombres}" decimalPlaces="0" minValue="0" maxValue="100000000" styleClass="inputNumber" 
                                                                    disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                    required="#{not empty param['formPrincipal:tabP:btnGrabarAnalisisComparativo']}"
                                                                    >
                                                        <p:ajax event="change" update="formPrincipal:tabP:txtTotalEstudiantes"/>
                                                    </pe:inputNumber>
                                                    <p:message for="txtEstudiantesHombres"></p:message>
                                                </h:panelGrid>
                                                <h:panelGrid columns="2">
                                                    <pe:inputNumber id="txtEstudiantesMujeres" value="#{proyectoContenidoController.analisisFormato.safNumEstMujeres}" decimalPlaces="0" minValue="0" maxValue="100000000" styleClass="inputNumber" 
                                                                    disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                    required="#{not empty param['formPrincipal:tabP:btnGrabarAnalisisComparativo']}"
                                                                    >  
                                                        <p:ajax event="change" update="formPrincipal:tabP:txtTotalEstudiantes"/>
                                                    </pe:inputNumber>
                                                    <p:message for="txtEstudiantesMujeres"></p:message>
                                                </h:panelGrid>
                                                <p:spacer width="1" height="1"></p:spacer>
                                                <p:inputText id="txtTotalEstudiantes" value="#{proyectoContenidoController.analisisFormato.totalEstudiantes}" disabled="true" style="width: 70px">
                                                    <f:convertNumber locale="es_ES"  pattern="###,###,##0" />
                                                </p:inputText>
                                            </h:panelGrid>
                                        </h:panelGrid>


                                        <h:panelGrid rendered="false" columns="2" cellpadding="5" cellspacing="0" >
                                            <h:outputLabel for="pagiLeg" value="Página Legal : " >
                                                <p:inputText id="pagiLeg" value="#{proyectoContenidoController.analisisFormato.sflId.datgeproyId.datgeproyPagilegNombre}" required="false" autocomplete="off" style="width: 550px" readonly="true" />
                                            </h:outputLabel>
                                        </h:panelGrid>
                                        <h:panelGrid columns="1" cellpadding="5" cellspacing="0">
                                            <p:outputLabel for="factCrit" value="* Factores críticos de éxito:"/>
                                            <h:panelGrid columns="2">
                                                <p:inputTextarea id="factCrit" rows="4" cols="150" autoResize="true" value="#{proyectoContenidoController.analisisFormato.safFactoresCExito}"
                                                                 disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                 required="#{not empty param['formPrincipal:tabP:btnGrabarAnalisisComparativo']}">
                                                </p:inputTextarea>
                                                <p:message for="factCrit"></p:message>
                                            </h:panelGrid>
                                            <p:outputLabel for="restSup" value="* Restricciones/Supuestos:"/>
                                            <h:panelGrid columns="2">
                                                <p:inputTextarea id="restSup" rows="4" cols="150" autoResize="true" value="#{proyectoContenidoController.analisisFormato.safResticcionesSupuesto}"
                                                                 disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                 required="#{not empty param['formPrincipal:tabP:btnGrabarAnalisisComparativo']}">
                                                </p:inputTextarea>
                                                <p:message for="restSup"></p:message>

                                            </h:panelGrid>
                                        </h:panelGrid>                                
                                    </p:panel>                            

                                    <!--panelObjetivoProyecto-->
                                    <p:panel id="panelObjetivoProyecto" rendered="#{proyectoContenidoController.selectedNodeCode=='19'}" style="border: hidden;">
                                        <h:panelGrid id="panelObjetivoProyectoEdicion" columns="1" style="width: 100%; ">
                                            <p:focus context="panelObjetivoProyectoEdicion"/>
                                            <h:panelGrid rendered="#{proyectoContenidoController.objetivoProyectoSelected!=null}"  columns="1" style="width: 100%; ">
                                                <h:panelGrid columns="2" cellpadding="5" cellspacing="0">
                                                    <p:commandButton id="btnGrabarObjetivoProyecto" value="Grabar" title="Graba Información" icon="ui-icon-locked" 
                                                                     update=":formPrincipal:tabP:panelObjetivoProyecto, :formPrincipal:message1" 
                                                                     action="#{proyectoContenidoController.registraObjetivoProyecto}"
                                                                     onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()">
                                                    </p:commandButton>
                                                    <p:commandButton value="Cancelar" icon="ui-icon-arrowreturnthick-1-w" 
                                                                     title="Cancela Información" update=":formPrincipal:tabP:panelObjetivoProyecto" action="#{proyectoContenidoController.cancelarObjetivoProyecto(false)}">
                                                    </p:commandButton>
                                                </h:panelGrid>  
                                                <h:panelGrid  columns="3" cellpadding="5" columnClasses="col1_objetivos">
                                                    <p:outputLabel value="#{proyectoContenidoController.objetivoProyectoSelected.tipoFin ? '* Fin:':(proyectoContenidoController.objetivoProyectoSelected.tipoObjetivoGeneral?'* Objetivo General:':(proyectoContenidoController.objetivoProyectoSelected.tipoObjetivoEspecifico?'* Objetivo Específico:':'* Actividad:'))}" for="txtObjetivoProyectoDesc" style="font-weight: bold"/>
                                                    <p:inputTextarea id="txtObjetivoProyectoDesc" cols="150" rows="3" value="#{proyectoContenidoController.objetivoProyectoSelected.descripcion}" maxlength="1000" required="#{not empty param['formPrincipal:tabP:btnGrabarObjetivoProyecto']}"></p:inputTextarea>
                                                    <p:message for="txtObjetivoProyectoDesc"></p:message>
                                                </h:panelGrid>

                                                <h:panelGrid columns="9" cellpadding="5" columnClasses="col1_objetivos">

                                                    <p:outputLabel for="selObjetivoProyectoIndicadorTipo" value="* Tipo Indicador:" style="font-weight: bold"/>
                                                    <p:selectOneMenu id="selObjetivoProyectoIndicadorTipo" 
                                                                     required="#{not empty param['formPrincipal:tabP:btnGrabarObjetivoProyecto']}" 
                                                                     style="width:70px;" 
                                                                     value="#{proyectoContenidoController.objetivoProyectoSelected.indicadorTipo}" 
                                                                     >
                                                        <f:selectItem itemLabel="Valor" itemValue="1"/>
                                                        <f:selectItem itemLabel="Porcentaje" itemValue="2"/>
                                                    </p:selectOneMenu>
                                                    <p:message for="selObjetivoProyectoIndicadorTipo"></p:message>

                                                    <p:outputLabel for="txtObjetivoProyectoIndicadorValor" value="* Valor Indicador:" style="font-weight: bold"/>
                                                    <pe:inputNumber id="txtObjetivoProyectoIndicadorValor" value="#{proyectoContenidoController.objetivoProyectoSelected.indicadorValor}" decimalPlaces="0" minValue="0" maxValue="1000000" styleClass="inputNumber" required="#{not empty param['formPrincipal:tabP:btnGrabarObjetivoProyecto']}"/>  
                                                    <p:message for="txtObjetivoProyectoIndicadorValor"></p:message>

                                                    <p:outputLabel for="txtObjetivoProyectoIndicadorDesc" value="* Descripción Indicador:" style="font-weight: bold"/>
                                                    <p:inputTextarea id="txtObjetivoProyectoIndicadorDesc" cols="60" rows="3" value="#{proyectoContenidoController.objetivoProyectoSelected.indicadorDescripcion}" maxlength="1000" required="#{not empty param['formPrincipal:tabP:btnGrabarObjetivoProyecto']}"></p:inputTextarea>                             
                                                    <p:message for="txtObjetivoProyectoIndicadorDesc"/>
                                                </h:panelGrid>

                                                <h:panelGrid columns="3" cellpadding="5" columnClasses="col1_objetivos">
                                                    <p:outputLabel value="* Medio de verificación:" for="txtObjetivoProyectoMedioVerif" style="font-weight: bold"/>
                                                    <p:inputTextarea id="txtObjetivoProyectoMedioVerif" cols="150" rows="3" value="#{proyectoContenidoController.objetivoProyectoSelected.medioVerificacion}" maxlength="1000" required="#{not empty param['formPrincipal:tabP:btnGrabarObjetivoProyecto']}"></p:inputTextarea>                             
                                                    <p:message for="txtObjetivoProyectoMedioVerif"></p:message>

                                                    <p:outputLabel for="txtObjetivoProyectoSupuestos" value="* Supuestos:" style="font-weight: bold"/>
                                                    <p:inputTextarea id="txtObjetivoProyectoSupuestos" cols="150" rows="3" value="#{proyectoContenidoController.objetivoProyectoSelected.supuestos}" maxlength="1000" required="#{not empty param['formPrincipal:tabP:btnGrabarObjetivoProyecto']}"></p:inputTextarea>                             
                                                    <p:message for="txtObjetivoProyectoSupuestos"></p:message>

                                                </h:panelGrid>
                                            </h:panelGrid>
                                        </h:panelGrid>

                                        <h:outputLabel for="dataTObjetivos" value="Matriz del Marco Lógico:" style="font-weight: bold"/>
                                        <p:dataTable id="dataTObjetivos" value="#{proyectoContenidoController.proyectoSelected.objetivoProyectoPadreList}" var="objetivoProyecto" paginator="false"
                                                     expandedRow="#{objetivoProyecto.expanded}" rows="10" rowIndexVar="index" resizableColumns="false"
                                                     emptyMessage="No se encontraron Resultados"> 
                                            <p:ajax event="rowToggle" listener="#{proyectoContenidoController.onRowToggleObjetivoProyecto}"/> 
                                            <p:column style="width: 20px" rendered="false">
                                                <p:rowToggler rendered="#{!objetivoProyecto.tipoFin}"/>
                                            </p:column>
                                            <p:column headerText="Nro." width="20" rendered="false" >
                                                <h:outputText value="#{objetivoProyecto.orden}"/>
                                            </p:column>
                                            <p:column headerText="" width="70">
                                                <h:outputText value="#{objetivoProyecto.tipoStr}" style="white-space: pre-line"/>
                                            </p:column>
                                            <p:column headerText="Descripción" width="140"> 
                                                <h:outputText value="#{objetivoProyecto.descripcion}" style="white-space: pre-line;"/>
                                            </p:column>
                                            <p:column headerText="Tipo Indicador" width="50">
                                                <h:outputText value="#{objetivoProyecto.indicadorTipo==1?'Valor':(objetivoProyecto.indicadorTipo==2?'Porcentaje':'')}" style="white-space: pre-line;"/>
                                            </p:column>
                                            <p:column headerText="Valor Indicador" width="50">
                                                <h:outputText value="#{objetivoProyecto.indicadorValor}" style="white-space: pre-line;">
                                                    <f:convertNumber locale="es_ES"  pattern="#,##0" />
                                                </h:outputText>
                                            </p:column>
                                            <p:column headerText="Descripción Indicador" width="140">
                                                <h:outputText value="#{objetivoProyecto.indicadorDescripcion}" style="white-space: pre-line;"/>
                                            </p:column>
                                            <p:column headerText="Medio de verificación" width="140">
                                                <h:outputText value="#{objetivoProyecto.medioVerificacion}" style="white-space: pre-line;"/>
                                            </p:column>
                                            <p:column headerText="Supuestos">
                                                <h:outputText value="#{objetivoProyecto.supuestos}" style="white-space: pre-line;"/>
                                            </p:column>
                                            <p:column headerText="Editar" width="35" style ="text-align: center">
                                                <p:commandButton icon="ui-icon-pencil"
                                                                 title="Editar el registro" 
                                                                 disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                 update=":formPrincipal:tabP:panelObjetivoProyectoEdicion">
                                                    <f:setPropertyActionListener value="#{objetivoProyecto}" target="#{proyectoContenidoController.objetivoProyectoSelected}"/>
                                                </p:commandButton>

                                            </p:column> 
                                            <p:column headerText="Eliminar" width="38" style="text-align: center" >
                                                <p:commandButton title="Eliminar el registro" icon="ui-icon-trash" 
                                                                 disabled="true"
                                                                 >
                                                </p:commandButton>   
                                            </p:column>

                                            <p:rowExpansion rendered="#{!objetivoProyecto.tipoFin}"  >
                                                <p:panel style="border:hidden; width:95%; padding-left: 40px">
                                                    <h:outputLabel value="Componentes (objetivos específicos):" style="font-weight: bold"/>
                                                    <p:commandButton value="" title="Agregar Componente (Objetivo Específico)" icon="ui-icon-plus"
                                                                     style="width: 30px; height: 20px"
                                                                     action="#{proyectoContenidoController.nuevoObjetivoProyecto}"
                                                                     disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                     update=":formPrincipal:tabP:panelObjetivoProyectoEdicion"
                                                                     >
                                                        <f:setPropertyActionListener value="#{objetivoProyecto}" target="#{proyectoContenidoController.objetivoProyectoPadreSelected}"/>
                                                    </p:commandButton>
                                                    <p:dataTable id="dataTComponentes" value="#{objetivoProyecto.objetivoHijoList}" var="componente"
                                                                 expandedRow="#{componente.expanded}" rowIndexVar="index" styleClass="hide-column-names"
                                                                 emptyMessage="No existen registros"> 
                                                        <p:ajax event="rowToggle" listener="#{proyectoContenidoController.onRowToggleObjetivoProyecto}"/>
                                                        <p:column style="width: 20px" rendered="false">
                                                            <p:rowToggler/> 
                                                        </p:column>
                                                        <p:column headerText="Nro." style="width: 20px">
                                                            <h:outputText value="#{componente.orden}" />
                                                        </p:column>
                                                        <p:column headerText="Descripción" > 
                                                            <h:outputText value="#{componente.descripcion}" style="white-space: pre-line;"/>
                                                        </p:column>
                                                        <p:column headerText="Tipo Indicador" style="width: 50px">
                                                            <h:outputText value="#{componente.indicadorTipo==1?'Valor':'Porcentaje'}" style="white-space: pre-line;"/>
                                                        </p:column>
                                                        <p:column headerText="Valor Indicador" style="width: 50px">
                                                            <h:outputText value="#{componente.indicadorValor}" style="white-space: pre-line;">
                                                                <f:convertNumber locale="es_ES"  pattern="#,##0" />
                                                            </h:outputText>
                                                        </p:column>
                                                        <p:column headerText="Descripción Indicador" >
                                                            <h:outputText value="#{componente.indicadorDescripcion}" style="white-space: pre-line;"/>
                                                        </p:column>
                                                        <p:column headerText="Medio de verificación">
                                                            <h:outputText value="#{componente.medioVerificacion}" style="white-space: pre-line;"/>
                                                        </p:column>
                                                        <p:column headerText="Supuestos">
                                                            <h:outputText value="#{componente.supuestos}" style="white-space: pre-line;"/>
                                                        </p:column>
                                                        <p:column headerText="Editar" style ="width: 30px; text-align: center">
                                                            <p:commandButton icon="ui-icon-pencil"
                                                                             title="Editar el registro"
                                                                             disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                             update=":formPrincipal:tabP:panelObjetivoProyectoEdicion"
                                                                             >
                                                                <f:setPropertyActionListener value="#{componente}" target="#{proyectoContenidoController.objetivoProyectoSelected}"/>
                                                            </p:commandButton>

                                                        </p:column>                                                    
                                                        <p:column headerText="Eliminar"  style ="width: 30px; text-align: center">
                                                            <p:commandButton title="Eliminar el registro" icon="ui-icon-trash" 
                                                                             disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                             update=":formPrincipal:tabP:panelObjetivoProyecto, :formPrincipal:message1"
                                                                             action="#{proyectoContenidoController.eliminarObjetivoProyecto()}">
                                                                <f:setPropertyActionListener value="#{componente}" target="#{proyectoContenidoController.objetivoProyectoSelected}" />
                                                                <p:confirm header="Confirmación" message="Confirma que desea eliminar el objetivo seleccionado?" icon="ui-icon-alert" />
                                                            </p:commandButton>   
                                                        </p:column>
                                                        <p:rowExpansion >
                                                            <p:panel style="border:hidden;width:98%; padding-left: 30px"  >
                                                                <h:outputLabel value="Actividades:" style="font-weight: bold"/>
                                                                <p:commandButton value="" title="Agregar Actividad" icon="ui-icon-plus"
                                                                                 style="width: 30px; height: 20px"
                                                                                 action="#{proyectoContenidoController.nuevoObjetivoProyecto}"
                                                                                 disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                                 update=":formPrincipal:tabP:panelObjetivoProyectoEdicion"
                                                                                 >
                                                                    <f:setPropertyActionListener value="#{componente}" target="#{proyectoContenidoController.objetivoProyectoPadreSelected}"/>
                                                                </p:commandButton>

                                                                <p:dataTable id="dataTActividades" value="#{componente.objetivoHijoList}" var="actividad"
                                                                             emptyMessage="No existen registros"
                                                                             rowIndexVar="index">
                                                                    <p:ajax event="rowToggle" listener="#{proyectoContenidoController.onRowToggleObjetivoProyecto}"/>
                                                                    <p:column headerText="Nro." style ="width: 40px;">
                                                                        <table style="width: 40px">
                                                                            <tr>
                                                                                <td style="padding: 0px; text-align: center; border: hidden">
                                                                                    <h:outputText value="#{actividad.orden}" />
                                                                                </td>
                                                                                <td style="padding: 0px; border: hidden">
                                                                                    <table style="width: 20px">
                                                                                        <tr>
                                                                                            <td style="padding: 0px; border: hidden">
                                                                                                <p:commandButton icon="ui-icon-triangle-1-n"
                                                                                                                 disabled="#{actividad.orden==1}"
                                                                                                                 style="width: 20px; height: 15px"
                                                                                                                 title="Cambiar orden(Subir)" action="#{proyectoContenidoController.cambiarOrdenActividad(-1)}" 
                                                                                                                 onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                                                                 update=":formPrincipal:tabP:dataTObjetivos, :formPrincipal:message1"
                                                                                                                 >
                                                                                                    <f:setPropertyActionListener value="#{actividad}" target="#{proyectoContenidoController.objetivoProyectoSelected}"/>
                                                                                                </p:commandButton>                         
                                                                                            </td>
                                                                                        </tr>
                                                                                        <tr>
                                                                                            <td style="padding: 0px; border: hidden">
                                                                                                <p:commandButton icon="ui-icon-triangle-1-s"
                                                                                                                 disabled="#{actividad.orden==componente.nroHijos}"
                                                                                                                 style="width: 20px; height: 15px"
                                                                                                                 title="Cambiar orden(Bajar)" action="#{proyectoContenidoController.cambiarOrdenActividad(1)}"
                                                                                                                 onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                                                                 update=":formPrincipal:tabP:dataTObjetivos, :formPrincipal:message1"
                                                                                                                 >
                                                                                                    <f:setPropertyActionListener value="#{actividad}" target="#{proyectoContenidoController.objetivoProyectoSelected}"/>
                                                                                                </p:commandButton>                                                        
                                                                                            </td>
                                                                                        </tr>
                                                                                    </table>
                                                                                </td>
                                                                            </tr>
                                                                        </table>                                                                    
                                                                    </p:column>
                                                                    <p:column headerText="Descripción" > 
                                                                        <h:outputText value="#{actividad.descripcion}" style="white-space: pre-line;"/>
                                                                    </p:column>
                                                                    <p:column headerText="Tipo Indicador" style ="width: 50px;">
                                                                        <h:outputText value="#{actividad.indicadorTipo==1?'Valor':'Porcentaje'}" style="white-space: pre-line;"/>
                                                                    </p:column>
                                                                    <p:column headerText="Valor Indicador" style ="width: 50px;">
                                                                        <h:outputText value="#{actividad.indicadorValor}" style="white-space: pre-line;">
                                                                            <f:convertNumber locale="es_ES"  pattern="#,##0" />
                                                                        </h:outputText>
                                                                    </p:column>
                                                                    <p:column headerText="Descripción Indicador" >
                                                                        <h:outputText value="#{actividad.indicadorDescripcion}" style="white-space: pre-line;"/>
                                                                    </p:column>
                                                                    <p:column headerText="Medio de verificación" >
                                                                        <h:outputText value="#{actividad.medioVerificacion}" style="white-space: pre-line;"/>
                                                                    </p:column>
                                                                    <p:column headerText="Supuestos">
                                                                        <h:outputText value="#{actividad.supuestos}" style="white-space: pre-line;"/>
                                                                    </p:column>
                                                                    <p:column headerText="Editar" style ="width: 30px; text-align: center">
                                                                        <p:commandButton icon="ui-icon-pencil"
                                                                                         title="Editar el registro"
                                                                                         disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                                         update=":formPrincipal:tabP:panelObjetivoProyectoEdicion"
                                                                                         >
                                                                            <f:setPropertyActionListener value="#{actividad}"  target="#{proyectoContenidoController.objetivoProyectoSelected}"/>
                                                                        </p:commandButton>

                                                                    </p:column>     
                                                                    <p:column headerText="Eliminar" style="width: 30px;text-align: center" >
                                                                        <p:commandButton title="Eliminar el registro" icon="ui-icon-trash" 
                                                                                         disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                                         update=":formPrincipal:tabP:panelObjetivoProyecto, :formPrincipal:message1" 
                                                                                         action="#{proyectoContenidoController.eliminarObjetivoProyecto()}">
                                                                            <f:setPropertyActionListener value="#{actividad}" target="#{proyectoContenidoController.objetivoProyectoSelected}" />
                                                                            <p:confirm header="Confirmación" message="Confirma que desea eliminar la actividad seleccionada?" icon="ui-icon-alert" />
                                                                        </p:commandButton>    
                                                                    </p:column>
                                                                </p:dataTable>
                                                            </p:panel>
                                                        </p:rowExpansion>                                                        
                                                    </p:dataTable>
                                                </p:panel>
                                            </p:rowExpansion>                                        
                                        </p:dataTable>                                        

                                    </p:panel>


                                    <!--panelCronograma-->
                                    <p:panel id="panelCronograma" rendered="#{proyectoContenidoController.selectedNodeCode=='28'}" style="border: hidden;">
                                        <h:panelGrid id="panelCronogramaEdicion" columns="1" style="width: 100%; ">
                                            <p:focus context="panelCronogramaEdicion"/>
                                            <p:commandButton value="Agregar" icon="ui-icon-plus"
                                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                             title="Agregar Información" update=":formPrincipal:tabP:panelCronogramaEdicion" 
                                                             action="#{proyectoContenidoController.nuevoCronograma}" 
                                                             disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                             rendered="#{proyectoContenidoController.cronogramaSelected==null and proyectoContenidoController.presupuestoPartidaSelected==null}">
                                            </p:commandButton>
                                            <p:fieldset legend="#{proyectoContenidoController.cronogramaSelected.id==null?'NUEVO CRONOGRAMA':'EDICION DE CRONOGRAMA'}"
                                                        rendered="#{proyectoContenidoController.cronogramaSelected!=null and proyectoContenidoController.presupuestoPartidaSelected==null}">
                                                <h:panelGrid columns="2" cellpadding="5" cellspacing="0">
                                                    <p:commandButton id="btnGrabarCronograma" value="Grabar" title="Graba Información" icon="ui-icon-locked" 
                                                                     update=":formPrincipal:tabP:panelCronograma, :formPrincipal:message1" 
                                                                     action="#{proyectoContenidoController.registraCronograma}"
                                                                     onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()">
                                                    </p:commandButton>
                                                    <p:commandButton value="Cancelar" icon="ui-icon-arrowreturnthick-1-w" 
                                                                     title="Cancela Información" update=":formPrincipal:tabP:panelCronograma" action="#{proyectoContenidoController.cancelarCronograma}">
                                                    </p:commandButton>
                                                </h:panelGrid>  
                                                <h:panelGrid columns="2">
                                                    <p:outputLabel value="* Actividad:" for="hidCronogramaActividad" style="font-weight: bold"></p:outputLabel>
                                                    <h:panelGrid columns="4" >
                                                        <p:commandButton title="Seleccionar Actividad" icon="ui-icon-search"
                                                                         onclick="PF('dlgActividades').show();" process="@this" 
                                                                         update=":formPrincipal:formModal"
                                                                         >
                                                        </p:commandButton>
                                                        <p:inputTextarea id="txtCronogramaActividad" value="#{proyectoContenidoController.cronogramaSelected.actividadDescripcion}"
                                                                         cols="80" rows="3" maxlength="150" disabled="true"
                                                                         required="#{not empty param['formPrincipal:tabP:btnGrabarCronograma']}">
                                                        </p:inputTextarea>
                                                        <h:inputHidden id="hidCronogramaActividad" value="#{proyectoContenidoController.cronogramaSelected.actividad.id}"
                                                                       required="#{not empty param['formPrincipal:tabP:btnGrabarCronograma']}" ></h:inputHidden> 
                                                        <p:message for="hidCronogramaActividad"></p:message>
                                                    </h:panelGrid> 


                                                    <p:outputLabel value="* Fecha Inicio (dd/mm/aaaa):" for="calCronogramaFechaInicio" style="font-weight: bold"/>
                                                    <h:panelGrid columns="2">
                                                        <p:calendar id="calCronogramaFechaInicio" navigator="true" value="#{proyectoContenidoController.cronogramaSelected.fechaInicio}" yearRange="2015:2030" size="10" locale="es" pattern="dd/MM/yyyy"
                                                                    required="#{not empty param['formPrincipal:tabP:btnGrabarCronograma']}">
                                                        </p:calendar>
                                                        <p:message for="calCronogramaFechaInicio"></p:message>

                                                    </h:panelGrid>

                                                    <p:outputLabel value="* Fecha Fin (dd/mm/aaaa):" for="calCronogramaFechaFin" style="font-weight: bold"/>
                                                    <h:panelGrid columns="2">
                                                        <p:calendar id="calCronogramaFechaFin" navigator="true" value="#{proyectoContenidoController.cronogramaSelected.fechaFin}" yearRange="2015:2030" size="10" locale="es" pattern="dd/MM/yyyy"
                                                                    required="#{not empty param['formPrincipal:tabP:btnGrabarCronograma']}">
                                                        </p:calendar>
                                                        <p:message for="calCronogramaFechaFin"></p:message>
                                                    </h:panelGrid>
                                                </h:panelGrid>
                                            </p:fieldset>
                                            <p:fieldset legend="#{proyectoContenidoController.presupuestoPartidaSelected.id==null?'NUEVO PRESUPUESTO':'EDICION DE PRESUPUESTO'}"
                                                        rendered="#{proyectoContenidoController.presupuestoPartidaSelected!=null}">
                                                <h:panelGrid columns="2" cellpadding="5" cellspacing="0">
                                                    <p:commandButton id="btnGrabarPresupuestoPartida" value="Grabar" title="Graba Información" icon="ui-icon-locked" 
                                                                     update=":formPrincipal:tabP:panelCronograma, :formPrincipal:message1" 
                                                                     action="#{proyectoContenidoController.registraCronogramaPresupuesto}"
                                                                     onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()">
                                                    </p:commandButton>
                                                    <p:commandButton value="Cancelar" icon="ui-icon-arrowreturnthick-1-w" 
                                                                     title="Cancela Información" update=":formPrincipal:tabP:panelCronograma" action="#{proyectoContenidoController.cancelarCronograma}">
                                                    </p:commandButton>
                                                </h:panelGrid>  
                                                <h:panelGrid columns="2">
                                                    <p:outputLabel value="* Partida:" for="hidCronogramaPartida" style="font-weight: bold"></p:outputLabel>
                                                    <h:panelGrid columns="4" >
                                                        <p:commandButton title="Seleccionar Partida" icon="ui-icon-search"
                                                                         onclick="PF('dlgPartidaPresupuestaria').show();" process="@this" 
                                                                         update=":formPrincipal:tabP:formNuevo"
                                                                         >
                                                        </p:commandButton>
                                                        <p:inputTextarea id="txtCronogramaPartida" value="#{proyectoContenidoController.presupuestoPartidaSelected.partidaNombreCompleto}"
                                                                         cols="80" rows="3" maxlength="150" disabled="true"
                                                                         required="#{not empty param['formPrincipal:tabP:btnGrabarPresupuestoPartida']}">
                                                        </p:inputTextarea>
                                                        <h:inputHidden id="hidCronogramaPartida" value="#{proyectoContenidoController.presupuestoPartidaSelected.partida.scpId}"
                                                                       required="#{not empty param['formPrincipal:tabP:btnGrabarPresupuestoPartida']}" ></h:inputHidden> 

                                                        <p:message for="hidCronogramaPartida"></p:message>
                                                    </h:panelGrid> 
                                                    <p:outputLabel value="* Especificaciones Técnicas:" for="txtCronocramaEspecifTecn" style="font-weight: bold"></p:outputLabel>
                                                    <h:panelGrid columns="2" >
                                                        <p:inputText id="txtCronocramaEspecifTecn" size="80" maxlength="100" value="#{proyectoContenidoController.presupuestoPartidaSelected.especificacionesTecnicas}"
                                                                     required="#{not empty param['formPrincipal:tabP:btnGrabarPresupuestoPartida']}" />
                                                        <p:message for="txtCronocramaEspecifTecn"></p:message>

                                                    </h:panelGrid>

                                                    <p:outputLabel value="* Código Categoría CPC:" for="txtCronocramaCodCatCPC" style="font-weight: bold"></p:outputLabel>
                                                    <h:panelGrid columns="2" >
                                                        <p:inputText id="txtCronocramaCodCatCPC" size="80" maxlength="100" value="#{proyectoContenidoController.presupuestoPartidaSelected.codigoCategoriaCPC}"
                                                                     required="#{not empty param['formPrincipal:tabP:btnGrabarPresupuestoPartida']}" />
                                                        <p:message for="txtCronocramaCodCatCPC"></p:message>

                                                    </h:panelGrid>
                                                    <p:outputLabel value="* Institución:" for="selCronogramaInstitucionTipo"  style="font-weight: bold"></p:outputLabel>
                                                    <p:selectOneMenu id="selCronogramaInstitucionTipo"  value="#{proyectoContenidoController.presupuestoPartidaSelected.institucionTipo}" 
                                                                     required="#{not empty param['formPrincipal:tabP:btnGrabarPresupuestoPartida']}" 
                                                                     style="width: 100px">
                                                        <f:selectItem itemLabel="ESPE" itemValue="1" />
                                                        <f:selectItem itemLabel="Otro" itemValue="2" />
                                                        <p:ajax event="change" update=":formPrincipal:tabP:panelCronogramaEdicion" process=":formPrincipal:tabP:panelCronogramaEdicion" listener="#{proyectoContenidoController.cambiarTipoInstitucion}" />
                                                    </p:selectOneMenu>
                                                    <p:outputLabel value="* Nombre: Institución" for="txtCronocramaInstitucion" style="font-weight: bold"
                                                                   rendered="#{proyectoContenidoController.presupuestoPartidaSelected.institucionTipo==2}"></p:outputLabel>
                                                    <h:panelGrid columns="2" rendered="#{proyectoContenidoController.presupuestoPartidaSelected.institucionTipo==2}">
                                                        <p:inputText id="txtCronocramaInstitucion" size="30" maxlength="100" value="#{proyectoContenidoController.presupuestoPartidaSelected.institucionNombre}"
                                                                     required="#{not empty param['formPrincipal:tabP:btnGrabarPresupuestoPartida']}"/>
                                                        <p:message for="txtCronocramaInstitucion"></p:message>

                                                    </h:panelGrid>

                                                    <p:outputLabel value="* Valor (USD):" for="txtCronogramaValor" style="font-weight: bold"></p:outputLabel>
                                                    <h:panelGrid columns="2">
                                                        <pe:inputNumber id="txtCronogramaValor" value="#{proyectoContenidoController.presupuestoPartidaSelected.valor}" decimalPlaces="2" minValue="0" maxValue="1000000" styleClass="inputNumber" required="#{not empty param['formPrincipal:tabP:btnGrabarPresupuestoPartida']}">  
                                                        </pe:inputNumber>
                                                        <p:message for="txtCronogramaValor"></p:message>
                                                    </h:panelGrid>



                                                </h:panelGrid>                                 

                                            </p:fieldset>

                                        </h:panelGrid>
                                        <p:dataTable value="#{proyectoContenidoController.proyectoSelected.cronogramaList}" var="cron"
                                                     style="width: auto" paginator="false" rows="10" rowIndexVar="index" resizableColumns="true"
                                                     emptyMessage="No se encontraron resultados">
                                            <p:column width="20">
                                                <p:rowToggler/>
                                            </p:column>
                                            <p:column headerText="Ord." width="20">
                                                <h:outputText value="#{index + 1}"/>
                                            </p:column>

                                            <p:column headerText="Actividad" >
                                                <h:outputText value="#{cron.actividadDescripcion}" style="white-space: pre-line;" />
                                            </p:column>
                                            <p:column headerText="Entregable" >
                                                <h:outputText value="#{cron.actividadMedioVerificacion}" style="white-space: pre-line;" />
                                            </p:column>
                                            <p:column headerText="Fecha Inicio" width="60">
                                                <h:outputText value="#{cron.fechaInicio}">
                                                    <f:convertDateTime pattern="dd/MM/yyyy"/> 
                                                </h:outputText>
                                            </p:column>
                                            <p:column headerText="Fecha Fin" width="60">
                                                <h:outputText value="#{cron.fechaFin}">
                                                    <f:convertDateTime pattern="dd/MM/yyyy"/> 
                                                </h:outputText>
                                            </p:column>
                                            <p:column headerText="Total Presupuesto (USD)" width="70" style="white-space: pre-line">
                                                <h:outputText value="#{cron.totalPresupuesto}" style="white-space: pre-line; float:right">  
                                                    <f:convertNumber locale="es_ES"  pattern="#,###,##0.00" />
                                                </h:outputText>
                                            </p:column>                                        

                                            <p:column headerText="Editar" style ="text-align: center" width="40">
                                                <p:commandButton icon="ui-icon-pencil"
                                                                 title="Editar el registro"
                                                                 disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                 update=":formPrincipal:tabP:panelCronogramaEdicion"
                                                                 >
                                                    <f:setPropertyActionListener value="#{cron}"  target="#{proyectoContenidoController.cronogramaSelected}"/>
                                                </p:commandButton>

                                            </p:column>     
                                            <p:column headerText="Eliminar" style="text-align: center" width="40">
                                                <p:commandButton title="Eliminar el registro" icon="ui-icon-trash" 
                                                                 disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                 update=":formPrincipal:tabP:panelCronograma, :formPrincipal:message1" 
                                                                 action="#{proyectoContenidoController.eliminarCronograma()}">
                                                    <f:setPropertyActionListener value="#{cron}" target="#{proyectoContenidoController.cronogramaSelected}" />
                                                    <p:confirm header="Confirmación" message="Confirma que desea eliminar el item seleccionado ?" icon="ui-icon-alert" />
                                                </p:commandButton>    
                                            </p:column>

                                            <p:rowExpansion >
                                                <p:panel style="border:hidden;width:98%; padding-left: 30px"  >
                                                    <h:outputLabel value="Presupuesto:" style="font-weight: bold"/>
                                                    <p:commandButton value="" title="Agregar Presupuesto" icon="ui-icon-plus"
                                                                     style="width: 30px; height: 20px"
                                                                     action="#{proyectoContenidoController.nuevoCronogramaPresupuesto}"
                                                                     disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                     update=":formPrincipal:tabP:panelCronogramaEdicion"
                                                                     >
                                                        <f:setPropertyActionListener value="#{cron}" target="#{proyectoContenidoController.cronogramaSelected}"/>
                                                    </p:commandButton>

                                                    <p:dataTable value="#{cron.presupuestoList}" var="presup"
                                                                 emptyMessage="No existen registros"
                                                                 rowIndexVar="index">
                                                        <p:column headerText="Ord." style ="width: 20px;">
                                                            <h:outputText value="#{index + 1}"/>
                                                        </p:column>
                                                        <p:column headerText="Partida" > 
                                                            <h:outputText value="#{presup.partidaNombreCompleto}" style="white-space: pre-line;"/>
                                                        </p:column>
                                                        <p:column headerText="Especificaciones Técnicas" style ="width: 90px; white-space: pre-line"> 
                                                            <h:outputText value="#{presup.especificacionesTecnicas}" style="white-space: pre-line;"/>
                                                        </p:column>
                                                        <p:column headerText="Código Categoría CPC" style ="width: 90px; white-space: pre-line"> 
                                                            <h:outputText value="#{presup.codigoCategoriaCPC}" style="white-space: pre-line;"/>
                                                        </p:column>
                                                        <p:column headerText="Institución" style ="width: 100px;">
                                                            <h:outputText value="#{presup.institucionNombre}" style="white-space: pre-line;"/>
                                                        </p:column>
                                                        <p:column headerText="Valor (USD)" style ="width: 50px;">
                                                            <h:outputText value="#{presup.valor}" style="white-space: pre-line; float:right">  
                                                                <f:convertNumber locale="es_ES"  pattern="#,###,##0.00" />
                                                            </h:outputText>
                                                        </p:column>                                        

                                                        <p:column headerText="Editar" style ="width: 40px; text-align: center">
                                                            <p:commandButton icon="ui-icon-pencil"
                                                                             title="Editar el registro"
                                                                             disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                             update=":formPrincipal:tabP:panelCronogramaEdicion"
                                                                             >
                                                                <f:setPropertyActionListener value="#{presup}"  target="#{proyectoContenidoController.presupuestoPartidaSelected}"/>
                                                            </p:commandButton>

                                                        </p:column>     
                                                        <p:column headerText="Eliminar" style="width: 40px;text-align: center" >
                                                            <p:commandButton title="Eliminar el registro" icon="ui-icon-trash" 
                                                                             disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                             update=":formPrincipal:tabP:panelCronograma, :formPrincipal:message1" 
                                                                             action="#{proyectoContenidoController.eliminarCronogramaPresupuesto()}">
                                                                <f:setPropertyActionListener value="#{presup}" target="#{proyectoContenidoController.presupuestoPartidaSelected}" />
                                                                <p:confirm header="Confirmación" message="Confirma que desea eliminar el item seleccionado ?" icon="ui-icon-alert" />
                                                            </p:commandButton>    
                                                        </p:column>
                                                    </p:dataTable>
                                                </p:panel>
                                            </p:rowExpansion>    

                                        </p:dataTable>
                                        <p:dialog modal="true"
                                                  closeOnEscape="true"
                                                  widgetVar="dlgPartidaPresupuestaria"
                                                  header="Partidas Presupuestarias"
                                                  width="600" 
                                                  height="420"
                                                  id="dlgPartidaPresupuestaria"
                                                  appendTo="@(body)">

                                            <h:form id="formNuevo">

                                                <h:panelGrid columns="1"
                                                             style="width: 90%">
                                                    <p:fieldset style="width: 550px;" 
                                                                legend="Selección de Partidas Presupuestarias">
                                                        <div style="overflow: auto;">
                                                            <p:tree  value="#{proyectoContenidoController.nodoRaizPartidas}"
                                                                     var="node" 
                                                                     dynamic="true" 
                                                                     cache="false" 
                                                                     selectionMode="single"
                                                                     animate="true" 
                                                                     id="treePartidas"
                                                                     selection="#{proyectoContenidoController.nodoPartidaSelected}"
                                                                     style="width: 500px;height:350px;border: none">  

                                                                <p:ajax event="select" listener="#{proyectoContenidoController.onNodePartidasSelect}" update=":formPrincipal:tabP:txtCronogramaPartida, :formPrincipal:tabP:hidCronogramaPartida"/>
                                                                <p:treeNode>  
                                                                    <h:outputText value="#{node.scpId} #{node.scpNombre}" />  
                                                                </p:treeNode>  
                                                            </p:tree>
                                                        </div>

                                                    </p:fieldset>
                                                    <h:panelGrid columns="1" style="width: 100%" columnClasses="alineadoCentro">
                                                        <h:panelGroup>
                                                            <p:commandButton value="Cancelar" 
                                                                             onclick="PF('dlgPartidaPresupuestaria').hide();" process="@this"
                                                                             />

                                                        </h:panelGroup>

                                                    </h:panelGrid>

                                                </h:panelGrid>
                                            </h:form>
                                        </p:dialog>                                              
                                    </p:panel>

                                    <!--panelDetalleEntregables-->
                                    <p:panel id="panelDetalleEntregables" rendered="#{proyectoContenidoController.selectedNodeCode=='20'}" style="border: hidden; padding-left: 20px; ">

                                        <h:panelGrid id="paneEdicionlEntregables" style="width: 100%">
                                            <p:commandButton value="Agregar" icon="ui-icon-plus"
                                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                             disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                             title="Agregar Información" update=":formPrincipal:tabP:panelDetalleEntregables" 
                                                             action="#{proyectoContenidoController.nuevoEntregable()}" 
                                                             rendered="#{proyectoContenidoController.entregableSelected==null}">
                                            </p:commandButton>
                                            <p:panel rendered="#{proyectoContenidoController.entregableSelected!=null}" style="font-size: 11px; text-align: left; border: hidden; font-weight: bold">
                                                <p:fieldset legend="#{proyectoContenidoController.entregableSelected.soeId==null?'Nuevo entregable':'Edición de entregable'}" style="width: 100%">

                                                    <h:panelGrid columns="2" cellpadding="5">
                                                        <p:commandButton id="btnGrabarEntregable" value="Grabar" icon="ui-icon-locked" style="margin: 0; font-size: 11px; float: left"
                                                                         onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                         title="Graba Información" update=":formPrincipal:tabP:panelDetalleEntregables, :formPrincipal:message1" action="#{proyectoContenidoController.registraEntregable}">
                                                        </p:commandButton>
                                                        <p:commandButton value="Cancelar" icon="ui-icon-arrowreturnthick-1-w" style="margin: 0; font-size: 11px; float: left "
                                                                         onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                         title="Cancelar Información"  update=":formPrincipal:tabP:panelDetalleEntregables" action="#{proyectoContenidoController.cancelarEntregable}">
                                                        </p:commandButton>
                                                    </h:panelGrid>
                                                    <h:panelGrid columns="2" cellpadding="7">
                                                        <p:outputLabel for="bienServ" value="* Bienes / Servicios : "/>
                                                        <h:panelGrid columns="2">
                                                            <p:selectOneRadio id="bienServ" value="#{proyectoContenidoController.entregableSelected.prdId}" style="text-align: left"
                                                                              converter="omnifaces.SelectItemsConverter"
                                                                              required="#{not empty param['formPrincipal:tabP:btnGrabarEntregable']}" 
                                                                              > 
                                                                <f:selectItems value="#{proyectoContenidoController.bienesList}" var="bS" itemLabel="#{bS.prdDescripcion}" itemValue="#{bS}"/>
                                                            </p:selectOneRadio>
                                                            <p:message for="bienServ"></p:message>                                            
                                                        </h:panelGrid>

                                                        <p:outputLabel for="descrip" value="* Detalle de entregables del proyecto:"/>
                                                        <h:panelGrid columns="2">
                                                            <p:inputText id="descrip" value="#{proyectoContenidoController.entregableSelected.soeDescripcion}" style="width: 250px"
                                                                         required="#{not empty param['formPrincipal:tabP:btnGrabarEntregable']}" >
                                                            </p:inputText>
                                                            <p:message for="descrip"></p:message>                                                                                        
                                                        </h:panelGrid>

                                                    </h:panelGrid>
                                                </p:fieldset>

                                            </p:panel>
                                        </h:panelGrid>

                                        <p:dataTable id="dataTObjEntregables" value="#{proyectoContenidoController.proyectoSelected.entregableList}" var="objEntr"
                                                     editable="true" style="width: 100%" paginator="true" rows="10" rowIndexVar="index" resizableColumns="true"
                                                     emptyMessage="No se encontraron resultados">
                                            <p:column width="20">
                                                <p:rowToggler/>
                                            </p:column>
                                            <p:column headerText="Ord." width="20">
                                                <h:outputText value="#{index + 1}"/>
                                            </p:column>
                                            <p:column headerText="Bienes/Servicios" style="white-space: pre-line" width="140">
                                                <h:outputText value="#{objEntr.prdId.prdDescripcion}" style="white-space: pre-line"/>
                                            </p:column>
                                            <p:column headerText="Detalles de Entregables del proyecto" style="white-space: pre-line" >
                                                <h:outputText value="#{objEntr.soeDescripcion}" style="white-space: pre-line"/>
                                            </p:column>
                                            <p:column headerText="Agregar detalle de Adquisiciones" style="white-space: pre-line; text-align: center" width="100">
                                                <p:commandButton id="btnNuevoAdq" icon="ui-icon-clipboard" onclick="PF('dialogAdquisiciones').show();" action="#{proyectoContenidoController.nuevoAdquisicion}" update=":formPrincipal:fmDetAdquisiciones" 
                                                                 disabled="#{!proyectoContenidoController.permitirEdicionPerfil}">
                                                    <f:setPropertyActionListener value="#{objEntr}" target="#{proyectoContenidoController.entregableSelected}"/>
                                                </p:commandButton>
                                            </p:column>
                                            <p:column headerText="Editar" width="40" style="text-align: center">
                                                <p:commandButton icon="ui-icon-pencil"
                                                                 title="Editar el registro"
                                                                 disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                 update=":formPrincipal:tabP:paneEdicionlEntregables"
                                                                 >
                                                    <f:setPropertyActionListener value="#{objEntr}" target="#{proyectoContenidoController.entregableSelected}"/>
                                                </p:commandButton>

                                            </p:column>                                                

                                            <p:column headerText="Eliminar" style="text-align: center" width="50">
                                                <p:commandButton title="Eliminar el registro" icon="ui-icon-trash" 
                                                                 onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                 disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                 update=":formPrincipal:tabP:dataTObjEntregables, :formPrincipal:message1"
                                                                 action="#{proyectoContenidoController.eliminarEntregable()}"
                                                                 >
                                                    <p:confirm header="Confirmación" message="Confirma que desea eliminar el item seleccionado ?" icon="ui-icon-alert" />
                                                    <f:setPropertyActionListener value="#{objEntr}" target="#{proyectoContenidoController.entregableSelected}" />
                                                </p:commandButton>                                          
                                            </p:column>

                                            <p:rowExpansion>
                                                <p:panelGrid columns="1" style="border:hidden;margin:0 auto;width:95%; text-align: left" >
                                                    <h:outputLabel value="Adquisiciones:"></h:outputLabel>
                                                    <p:dataTable id="dataTAdquisProy" value="#{objEntr.adquisicionList}" var="adqui"
                                                                 rowIndexVar="index" style="width: 100%" editable="true"
                                                                 emptyMessage="No se encontraron resultados">

                                                        <p:column headerText="Ord." style="width:20px">
                                                            <h:outputText value="#{index + 1}"/>
                                                        </p:column>
                                                        <p:column headerText="% Nacional" style="width: 80px;white-space: pre-line">
                                                            <h:outputText value="#{adqui.soaNacional}"/>
                                                        </p:column>
                                                        <p:column headerText="% Importado" style="width: 80px;white-space: pre-line">
                                                            <h:outputText value="#{adqui.soaImportado}"/>
                                                        </p:column>
                                                        <p:column headerText="Detalles insumo nacional" style="width: 200px;white-space: pre-line">
                                                            <h:outputText value="#{adqui.soaDestalleNacional}" style="text-transform: uppercase;white-space: pre-line"/>
                                                        </p:column>
                                                        <p:column headerText="Detalles insumo importado" style="white-space: pre-line">
                                                            <h:outputText value="#{adqui.soaDetalleImportado}" style="text-transform: uppercase;white-space: pre-line"/>
                                                        </p:column>
                                                        <p:column headerText="Editar" width="40" style="text-align: center">
                                                            <p:commandButton icon="ui-icon-pencil"
                                                                             title="Editar el registro"
                                                                             disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                             onclick="PF('dialogAdquisiciones').show();" update=":formPrincipal:fmDetAdquisiciones" 
                                                                             >
                                                                <f:setPropertyActionListener value="#{adqui}" target="#{proyectoContenidoController.objAdquisisioneSelected}"/>
                                                            </p:commandButton>

                                                        </p:column>                                                    
                                                        <p:column headerText="Eliminar" style="text-align: center; width: 50px"> 
                                                            <p:commandButton style="margin: 0" title="Eliminar el registro" icon="ui-icon-trash" 
                                                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                             disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                             update=":formPrincipal:tabP:dataTObjEntregables:dataTAdquisProy, :formPrincipal:message1 "
                                                                             action="#{proyectoContenidoController.eliminarAdquisicion()}"
                                                                             >
                                                                <p:confirm header="Confirmación" message="Confirma que desea eliminar el item seleccionado ?" icon="ui-icon-alert" />
                                                                <f:setPropertyActionListener value="#{adqui}" target="#{proyectoContenidoController.objAdquisisioneSelected}" />
                                                            </p:commandButton>   

                                                        </p:column>
                                                    </p:dataTable>
                                                </p:panelGrid>
                                            </p:rowExpansion>
                                        </p:dataTable>                                
                                    </p:panel>

                                    <!--panelFinanciamiento-->
                                    <p:panel id="panelFinanciamiento" rendered="#{proyectoContenidoController.selectedNodeCode=='21'}" style="border: hidden; padding-left: 20px; ">
                                        <p:panel id="panelFinanciamientoEdicion" rendered="#{proyectoContenidoController.modoEdicion}">
                                            <h:panelGrid columns="2" cellpadding="5" cellspacing="0">
                                                <p:commandButton id="btnGrabarFinanciamiento" value="Grabar" icon="ui-icon-locked"
                                                                 onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                 title="Graba Información" update=":formPrincipal:tabP:panelFinanciamiento, :formPrincipal:message1" action="#{proyectoContenidoController.registraFinanciamiento}">
                                                </p:commandButton>
                                                <p:commandButton id="btnCancelarP23" value="Cancelar" icon="ui-icon-arrowreturnthick-1-w" style="margin: 0; font-size: 11px; float: left"
                                                                 onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                 title="Cancela Información" update=":formPrincipal:tabP:panelFinanciamiento" action="#{proyectoContenidoController.cancelarFinanciamiento}">
                                                </p:commandButton>
                                            </h:panelGrid>
                                            <h:panelGrid columns="2" cellpadding="5" cellspacing="0" id="pInput23" style="text-align: left">
                                                <h:outputLabel value="Nombre Archivo Digital Financiamiento:" style="font-weight: bold"/>
                                                <h:outputLabel value="#{proyectoContenidoController.proyectoSelected.sflNombreFinan}"/>
                                            </h:panelGrid>
                                            <left>
                                                <p:fileUpload fileUploadListener="#{proyectoContenidoController.subirDocumentoFinanciamiento}" mode="advanced" dragDropSupport="false" style="width: 28%; text-align: left"
                                                              update=":formPrincipal:tabP:panelFinanciamientoEdicion" label="Seleccione Documento Habilitante" sizeLimit="10000000" auto="true"/>
                                            </left>
                                        </p:panel>
                                        <p:dataTable id="dTFinanciamiento" value="#{proyectoContenidoController.proyectoList}" var="financ"
                                                     editable="true" style="width: auto" paginator="false" rows="10" rowIndexVar="index" resizableColumns="true"
                                                     emptyMessage="No se encontraron resultados">
                                            <p:column headerText="Documento Financiamiento" >
                                                <h:outputText value="#{financ.sflNombreFinan}" style="white-space: pre-line;" />
                                            </p:column>
                                            <p:column headerText="Descargar" width="80" style="text-align: center">
                                                <p:commandButton actionListener="#{proyectoContenidoController.prepararDocumentoFinanciamientoDownload}"
                                                                 ajax="false" icon="ui-icon-arrowthick-1-s" title="Descargar documento">
                                                    <p:fileDownload value="#{proyectoContenidoController.documentoFinanciamiento}" />
                                                </p:commandButton>
                                            </p:column>                                      
                                            <p:column headerText="Editar" width="80" style="text-align: center">
                                                <p:commandButton icon="ui-icon-pencil"
                                                                 disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                 title="Editar el registro"
                                                                 update=":formPrincipal:tabP:panelFinanciamiento" 
                                                                 >
                                                    <f:setPropertyActionListener value="#{true}" target="#{proyectoContenidoController.modoEdicion}"/>
                                                </p:commandButton>
                                            </p:column>
                                        </p:dataTable>                                


                                    </p:panel>
                                    <!--panelViabilidad-->
                                    <p:panel id="panelViabilidad" rendered="#{proyectoContenidoController.selectedNodeCode=='22'}" style="border: hidden; padding-left: 20px; ">
                                        <h:panelGrid columns="2" cellpadding="5">
                                            <p:commandButton id="btnGrabarViabilidad" value="Grabar" icon="ui-icon-locked" style="margin: 0;font-size: 11px;float: left" 
                                                             disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                             title="Graba Información" update=":formPrincipal:tabP:panelViabilidad, :formPrincipal:message1" action="#{proyectoContenidoController.registraViabilidad()}">
                                            </p:commandButton>
                                            <p:commandButton value="Cancelar" icon="ui-icon-arrowreturnthick-1-w" style="margin: 0; font-size: 11px; float: left "
                                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                             title="Cancela ingreso de Información" update=":formPrincipal:tabP:panelViabilidad" action="#{proyectoContenidoController.cancelarViabilidad}">
                                            </p:commandButton>
                                        </h:panelGrid>
                                        <right>
                                            <h:panelGrid columns="4" cellspacing="0" cellpadding="5" columnClasses="col1_viablidad, ,col1_viablidad">
                                                <p:outputLabel for="viabTec" value="Viabilidad Técnica:"/>
                                                <h:panelGrid>
                                                    <p:inputTextarea id="viabTec" rows="4" cols="50" autoResize="false" value="#{proyectoContenidoController.formatoViabilidadSelected.sfaViavilidadTec}"
                                                                     required="#{not empty param['formPrincipal:tabP:btnGrabarViabilidad']}" 
                                                                     disabled="#{!proyectoContenidoController.permitirEdicionPerfil}">
                                                    </p:inputTextarea>
                                                    <p:message for="viabTec"></p:message>
                                                </h:panelGrid>

                                                <h:outputLabel for="equipTec" value="Equipamiento Tecnológico Disponible:"/>
                                                <h:panelGrid>
                                                    <p:inputTextarea id="equipTec" rows="4" cols="50" autoResize="false" value="#{proyectoContenidoController.formatoViabilidadSelected.sfaEquipamientoTec}"
                                                                     required="#{not empty param['formPrincipal:tabP:btnGrabarViabilidad']}" 
                                                                     disabled="#{!proyectoContenidoController.permitirEdicionPerfil}">
                                                    </p:inputTextarea>
                                                    <p:message for="equipTec"></p:message>
                                                </h:panelGrid>

                                                <p:outputLabel for="perP" value="Qué perdería el país si el proyecto no se ejecuta en este periodo?:"/>
                                                <h:panelGrid>
                                                    <p:inputTextarea id="perP" rows="4" cols="50" autoResize="false" value="#{proyectoContenidoController.formatoViabilidadSelected.sfaPerderPais}"
                                                                     required="#{not empty param['formPrincipal:tabP:btnGrabarViabilidad']}" 
                                                                     disabled="#{!proyectoContenidoController.permitirEdicionPerfil}">
                                                    </p:inputTextarea>
                                                    <p:message for="perP"></p:message>
                                                </h:panelGrid>

                                                <p:outputLabel for="impE" value="¿Cuáles son los resultados o impactos esperados del proyecto:"/>
                                                <h:panelGrid>
                                                    <p:inputTextarea id="impE" rows="4" cols="50" autoResize="false" value="#{proyectoContenidoController.formatoViabilidadSelected.sfaImpactosEsperados}"
                                                                     required="#{not empty param['formPrincipal:tabP:btnGrabarViabilidad']}" 
                                                                     disabled="#{!proyectoContenidoController.permitirEdicionPerfil}">
                                                    </p:inputTextarea>
                                                    <p:message for="impE"></p:message>                                            
                                                </h:panelGrid>

                                                <p:outputLabel for="dispMetod" value="¿Dispone de alguna metodología específica para valorar el retorno de inversión de su proyecto:"/>
                                                <h:panelGrid>
                                                    <p:selectOneRadio id="dispMetod" value="#{proyectoContenidoController.formatoViabilidadSelected.sfaDisponeMetodologia}"
                                                                      required="#{not empty param['formPrincipal:tabP:btnGrabarViabilidad']}" 
                                                                      disabled="#{!proyectoContenidoController.permitirEdicionPerfil}">
                                                        <f:selectItem itemLabel="Si" itemValue="S"/>
                                                        <f:selectItem itemLabel="No" itemValue="N"/>
                                                    </p:selectOneRadio>
                                                    <p:message for="dispMetod"></p:message>                                                                                        
                                                </h:panelGrid>

                                                <p:outputLabel for="impAm" value="Análisis de impacto ambiental:"/>
                                                <h:panelGrid>
                                                    <p:inputTextarea id="impAm" rows="4" cols="50" autoResize="false" value="#{proyectoContenidoController.formatoViabilidadSelected.sfaImpactoAmbiental}"
                                                                     required="#{not empty param['formPrincipal:tabP:btnGrabarViabilidad']}" 
                                                                     disabled="#{!proyectoContenidoController.permitirEdicionPerfil}">
                                                    </p:inputTextarea>
                                                    <p:message for="impAm"></p:message>
                                                </h:panelGrid>

                                                <p:outputLabel for="sostSoc" value="Sostenibilidad social: equidad, género, participación ciudadana:"/>
                                                <h:panelGrid>
                                                    <p:inputTextarea id="sostSoc" rows="4" cols="50" autoResize="false" value="#{proyectoContenidoController.formatoViabilidadSelected.sfaSostenibilidadSocial}"
                                                                     required="#{not empty param['formPrincipal:tabP:btnGrabarViabilidad']}" 
                                                                     disabled="#{!proyectoContenidoController.permitirEdicionPerfil}">
                                                    </p:inputTextarea>
                                                    <p:message for="sostSoc"></p:message>
                                                </h:panelGrid>

                                                <p:outputLabel for="transTe" value="Transferencia Tecnológica:"/>
                                                <h:panelGrid>
                                                    <p:inputTextarea id="transTe" rows="4" cols="50" autoResize="false" value="#{proyectoContenidoController.formatoViabilidadSelected.sfaTranferenciaTecno}"
                                                                     required="#{not empty param['formPrincipal:tabP:btnGrabarViabilidad']}" 
                                                                     disabled="#{!proyectoLargoContenidoController.permitirEdicion}">
                                                    </p:inputTextarea>
                                                    <p:message for="transTe"></p:message>
                                                </h:panelGrid>

                                                <p:outputLabel for="artiCi" value="Artículo Científicos:"/>
                                                <h:panelGrid>
                                                    <p:inputTextarea id="artiCi" rows="4" cols="50" autoResize="false" value="#{proyectoContenidoController.formatoViabilidadSelected.sfaArticulosCientificos}"
                                                                     required="#{not empty param['formPrincipal:tabP:btnGrabarViabilidad']}" 
                                                                     disabled="#{!proyectoContenidoController.permitirEdicionPerfil}">
                                                    </p:inputTextarea>
                                                    <p:message for="artiCi"></p:message>
                                                </h:panelGrid>

                                                <p:outputLabel for="protot" value="Prototipos:"/>
                                                <h:panelGrid>
                                                    <p:inputTextarea id="protot" rows="4" cols="50" autoResize="false" value="#{proyectoContenidoController.formatoViabilidadSelected.sfaPrototipos}"
                                                                     required="#{not empty param['formPrincipal:tabP:btnGrabarViabilidad']}" 
                                                                     disabled="#{!proyectoContenidoController.permitirEdicionPerfil}">
                                                    </p:inputTextarea>
                                                    <p:message for="protot"></p:message>                                            
                                                </h:panelGrid>

                                                <p:outputLabel for="regProI" value="Registro de Propiedad Intelectual:"/>
                                                <h:panelGrid>
                                                    <p:inputTextarea id="regProI" rows="4" cols="50" autoResize="false" value="#{proyectoContenidoController.formatoViabilidadSelected.sfaPropiedadIntelecto}"
                                                                     required="#{not empty param['formPrincipal:tabP:btnGrabarViabilidad']}" 
                                                                     disabled="#{!proyectoContenidoController.permitirEdicionPerfil}">
                                                    </p:inputTextarea>
                                                    <p:message for="regProI"></p:message>                                                                                        
                                                </h:panelGrid>

                                                <p:outputLabel for="spOff" value="Empresas Spin OffS:"/>
                                                <h:panelGrid>
                                                    <p:inputTextarea id="spOff" rows="4" cols="50" autoResize="false" value="#{proyectoContenidoController.formatoViabilidadSelected.sfaEmpresaSpin}"
                                                                     required="#{not empty param['formPrincipal:tabP:btnGrabarViabilidad']}" 
                                                                     disabled="#{!proyectoContenidoController.permitirEdicionPerfil}">
                                                    </p:inputTextarea>
                                                    <p:message for="spOff"></p:message>                                                                                        
                                                </h:panelGrid>

                                                <p:outputLabel for="ot" value="Otros:"/>
                                                <h:panelGrid>
                                                    <p:inputTextarea id="ot" rows="4" cols="50" autoResize="false" value="#{proyectoContenidoController.formatoViabilidadSelected.sfaOtros}"
                                                                     required="#{not empty param['formPrincipal:tabP:btnGrabarViabilidad']}" 
                                                                     disabled="#{!proyectoContenidoController.permitirEdicionPerfil}">
                                                    </p:inputTextarea>
                                                    <p:message for="ot"></p:message>                                                                                        
                                                </h:panelGrid>
                                            </h:panelGrid>
                                        </right>
                                    </p:panel>
                                    <!--panelEstrategiaEjecucion-->
                                    <p:panel id="panelEstrategiaEjecucion" rendered="#{proyectoContenidoController.selectedNodeCode=='23'}" style="border: hidden; padding-left: 20px; ">
                                        <p:panel id="panelEstrategiaEjecucionEdicion" rendered="#{proyectoContenidoController.formatoEstrategiaSelected!=null}">
                                            <h:panelGrid columns="2" cellpadding="5" cellspacing="0">
                                                <p:commandButton id="btnGrabarEstrategia" value="Grabar" icon="ui-icon-locked" 
                                                                 onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                 title="Graba Información" update=":formPrincipal:tabP:panelEstrategiaEjecucion, :formPrincipal:message1" action="#{proyectoContenidoController.registraEstrategiaEjecucion}">
                                                </p:commandButton>
                                                <p:commandButton value="Cancelar" icon="ui-icon-arrowreturnthick-1-w"
                                                                 onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                 title="Cancela Información" update=":formPrincipal:tabP:panelEstrategiaEjecucion" action="#{proyectoContenidoController.cancelarEstrategiaEjecucion}">
                                                </p:commandButton>
                                            </h:panelGrid>
                                            <h:panelGrid columns="2" cellpadding="5" cellspacing="0" id="pInput17" style="text-align: left">
                                                <h:outputLabel value="Documento Habilitante:"/>
                                                <h:outputLabel value="#{proyectoContenidoController.formatoEstrategiaSelected.sfeNombreArchivo}"/>
                                            </h:panelGrid>
                                            <left>
                                                <p:fileUpload fileUploadListener="#{proyectoContenidoController.subirDocumentoEstrategiaEjecucion}" mode="advanced" dragDropSupport="false" style="width: 28%;text-align: left"
                                                              update=":formPrincipal:tabP:panelEstrategiaEjecucionEdicion" label="Seleccione Documento Habilitante" sizeLimit="10000000" auto="true"/>
                                            </left>
                                        </p:panel>
                                        <p:dataTable id="dataTEstratEjec" value="#{proyectoContenidoController.formatoEstrategiaList}" var="estratEjec"
                                                     editable="true" style="width: auto" paginator="false" rows="10" rowIndexVar="index" resizableColumns="true"
                                                     emptyMessage="No se encontraron resultados">
                                            <p:column headerText="Documento Estrategia de Ejecución">
                                                <h:outputText value="#{estratEjec.sfeNombreArchivo}" style="white-space: pre-line; text-transform: uppercase;text-align: left" />
                                            </p:column>
                                            <p:column headerText="Editar" width="80" style="text-align: center">
                                                <p:commandButton icon="ui-icon-pencil"
                                                                 title="Editar el registro"
                                                                 update=":formPrincipal:tabP:panelEstrategiaEjecucion"
                                                                 disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                 >
                                                    <f:setPropertyActionListener value="#{estratEjec}" target="#{proyectoContenidoController.formatoEstrategiaSelected}"/>
                                                </p:commandButton>
                                            </p:column>
                                            <p:column headerText="Descargar" width="80" style="text-align: center">
                                                <p:commandButton actionListener="#{proyectoContenidoController.prepararDocumentoEstrategiaEjecucionDownload(estratEjec)}"
                                                                 ajax="false" icon="ui-icon-arrowthick-1-s" title="Descargar anexo">
                                                    <p:fileDownload value="#{proyectoContenidoController.documentoEstrategiaEjecucion}" />
                                                </p:commandButton>
                                            </p:column>

                                        </p:dataTable>                                
                                    </p:panel>
                                    <!--panelDifusionEvento-->
                                    <p:panel id="panelDifusionEvento" rendered="#{proyectoContenidoController.selectedNodeCode=='24'}" style="border: hidden; padding-left: 20px; ">
                                        <h:panelGrid columns="1" cellspacing="0" cellpadding="5" rendered="#{proyectoContenidoController.difusionEventoSelected==null and proyectoContenidoController.formatoDifusionSelected==null}">
                                            <p:commandButton value="Agregar" icon="ui-icon-plus" 
                                                             disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                             title="Agregar Evento" update=":formPrincipal:tabP:panelDifusionEvento" action="#{proyectoContenidoController.nuevoDifusionEvento()}">
                                            </p:commandButton>
                                        </h:panelGrid>
                                        <p:fieldset legend="#{proyectoContenidoController.difusionEventoSelected.sfdeId==null?'NUEVO EVENTO':'EDICION DE EVENTO'}"
                                                    rendered="#{proyectoContenidoController.difusionEventoSelected!=null and proyectoContenidoController.formatoDifusionSelected==null}">


                                            <h:panelGrid columns="2" cellpadding="5" cellspacing="0">
                                                <p:commandButton id="btnGrabarDifusionEvento" value="Grabar" icon="ui-icon-locked"
                                                                 onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                 title="Graba Información" update=":formPrincipal:tabP:panelDifusionEvento, :formPrincipal:message1" action="#{proyectoContenidoController.registraDifusionEvento()}">
                                                </p:commandButton>
                                                <p:commandButton value="Cancelar" icon="ui-icon-arrowreturnthick-1-w" 
                                                                 onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                 title="Cancela Información" update=":formPrincipal:tabP:panelDifusionEvento" action="#{proyectoContenidoController.cancelarDifusionEvento}">
                                                </p:commandButton>
                                            </h:panelGrid>
                                            <h:panelGrid columns="2" cellpadding="5" cellspacing="0" id="pInput19" style="text-align: left; width: 100%" columnClasses="col1_difusionEvento"> 
                                                <p:outputLabel for="descEvent" value="Descripción del Evento:" style=" float: left;white-space: pre-line"/>
                                                <p:inputText id="descEvent" value="#{proyectoContenidoController.difusionEventoSelected.sfdeDescripcion}" autocomplete="off" maxlength="500" style="width: 100%"
                                                             required="#{not empty param['formPrincipal:tabP:btnGrabarEntregable']}" >
                                                </p:inputText>
                                                <p:message for="descEvent"/>
                                            </h:panelGrid>
                                        </p:fieldset>


                                        <p:fieldset legend="#{proyectoContenidoController.formatoDifusionSelected.sfdId==null?'NUEVA ACTIVIDAD':'EDICION DE ACTIVIDAD'}"
                                                    rendered="#{proyectoContenidoController.formatoDifusionSelected!=null}">
                                            <h:panelGrid columns="2" cellpadding="5" cellspacing="0">
                                                <p:commandButton id="btnGrabarFormatoDifusion" value="Grabar" icon="ui-icon-locked"
                                                                 onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                 title="Graba Información" update=":formPrincipal:tabP:panelDifusionEvento, :formPrincipal:message1" action="#{proyectoContenidoController.registraFormatoDifusion()}">
                                                </p:commandButton>
                                                <p:commandButton value="Cancelar" icon="ui-icon-arrowreturnthick-1-w" 
                                                                 onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                 title="Cancela Información" update=":formPrincipal:tabP:panelDifusionEvento" action="#{proyectoContenidoController.cancelarDifusionEvento}">
                                                </p:commandButton>
                                            </h:panelGrid>
                                            <h:panelGrid columns="2" cellpadding="5" cellspacing="0" style="text-align: left">
                                                <p:outputLabel for="activid" value="Actividad:"/>
                                                <h:panelGrid columns="2">
                                                    <p:inputTextarea id="activid" rows="4" cols="90" autoResize="true" value="#{proyectoContenidoController.formatoDifusionSelected.sfdActividad}"
                                                                     required="#{not empty param['formPrincipal:tabP:btnGrabarFormatoDifusion']}"/>

                                                    <p:message for="activid"/>                                        
                                                </h:panelGrid>

                                                <p:outputLabel for="costo" value="USD.Costo:" />
                                                <h:panelGrid columns="2">
                                                    <pe:inputNumber id="costo" value="#{proyectoContenidoController.formatoDifusionSelected.sfdCosto}" decimalPlaces="2" minValue="0" maxValue="1000000" styleClass="inputNumber" 
                                                                    required="#{not empty param['formPrincipal:tabP:btnGrabarFormatoDifusion']}">  
                                                    </pe:inputNumber>
                                                    <p:message for="costo"/>                                        
                                                </h:panelGrid>

                                            </h:panelGrid>
                                        </p:fieldset>
                                        <p:dataTable id="dataTDifusionEvento"  value="#{proyectoContenidoController.difusionEveantoList}" var="difuEven"
                                                     editable="true" style="width: auto" paginator="false" rows="10" rowIndexVar="index" resizableColumns="true"
                                                     expandedRow="true"
                                                     emptyMessage="No se encontraron resultados">
                                            <p:column width="20" rendered="false" >
                                                <p:rowToggler/>
                                            </p:column>
                                            <p:column headerText="Ord." width="20">
                                                <h:outputText value="#{index + 1}"/>
                                            </p:column>
                                            <p:column headerText="Descripción Evento">
                                                <h:outputText value="#{difuEven.sfdeDescripcion}" style="text-transform: uppercase;font-size: x-small;white-space: pre-line;width: 100%"/>
                                            </p:column>
                                            <p:column rendered="false" headerText="Agregar Actividad" style="white-space: pre-line; text-align: center;" width="80">
                                                <p:commandButton icon="ui-icon-plus"
                                                                 disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                 title="Agregar Actividad"
                                                                 action="#{proyectoContenidoController.nuevoFormatoDifusion}"
                                                                 update=":formPrincipal:tabP:panelDifusionEvento">
                                                    <f:setPropertyActionListener value="#{difuEven}" target="#{proyectoContenidoController.difusionEventoSelected}"/>
                                                </p:commandButton>
                                            </p:column>
                                            <p:column headerText="Editar" width="80" style="text-align: center">
                                                <p:commandButton icon="ui-icon-pencil"
                                                                 title="Editar el registro"
                                                                 update=":formPrincipal:tabP:panelDifusionEvento"
                                                                 disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                 >
                                                    <f:setPropertyActionListener value="#{difuEven}" target="#{proyectoContenidoController.difusionEventoSelected}"/>
                                                    <f:setPropertyActionListener value="#{null}" target="#{proyectoContenidoController.formatoDifusionSelected}"/>
                                                </p:commandButton>
                                            </p:column>
                                            <p:column headerText="Eliminar" style="text-align:center" width="80">
                                                <p:commandButton title="Eliminar el registro" icon="ui-icon-trash"
                                                                 disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                 action="#{proyectoContenidoController.eliminarDifusionEvento}"
                                                                 update=":formPrincipal:tabP:panelDifusionEvento, :formPrincipal:message1">
                                                    <p:confirm header="Confirmación" message="Confirma que desea eliminar el item seleccionado ?" icon="ui-icon-alert" />
                                                    <f:setPropertyActionListener value="#{difuEven}" target="#{proyectoContenidoController.difusionEventoSelected}"/>
                                                </p:commandButton>
                                            </p:column>
                                            <p:rowExpansion rendered="false">
                                                <p:panelGrid columns="1" style="border:none;margin:0 auto;width:95%; text-align: left" >
                                                    <p:dataTable id="dataTFormatoDifusion"  value="#{difuEven.seaFormatoDifusionList}" var="formDif"
                                                                 editable="true" style="width: auto" paginator="false" rows="10" rowIndexVar="index" resizableColumns="true"
                                                                 emptyMessage="No se encontraron resultados">
                                                        <p:column headerText="Ord." width="20">
                                                            <h:outputText value="#{index + 1}"/>
                                                        </p:column>
                                                        <p:column headerText="Actividad" style="white-space: pre-line">
                                                            <h:outputText value="#{formDif.sfdActividad}" style="white-space: pre-line;width: 100%"/>
                                                        </p:column>
                                                        <p:column headerText="Costo (USD.)" width="100">
                                                            <h:outputText value="#{formDif.sfdCosto}">
                                                                <f:convertNumber locale="es"  pattern="#,###,##0.00" />
                                                            </h:outputText>
                                                        </p:column>
                                                        <p:column headerText="Editar" width="80" style="text-align: center">
                                                            <p:commandButton icon="ui-icon-pencil"
                                                                             title="Editar el registro"
                                                                             update=":formPrincipal:tabP:panelDifusionEvento"
                                                                             disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                             >
                                                                <f:setPropertyActionListener value="#{formDif}" target="#{proyectoContenidoController.formatoDifusionSelected}"/>
                                                            </p:commandButton>
                                                        </p:column>
                                                        <p:column headerText="Eliminar" style="text-align:center" width="80">
                                                            <p:commandButton title="Eliminar el registro" icon="ui-icon-trash"
                                                                             disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                             action="#{proyectoContenidoController.eliminarFormatoDifusion}"
                                                                             update=":formPrincipal:tabP:panelDifusionEvento, :formPrincipal:message1">
                                                                <p:confirm header="Confirmación" message="Confirma que desea eliminar el item seleccionado ?" icon="ui-icon-alert" />
                                                                <f:setPropertyActionListener value="#{formDif}" target="#{proyectoContenidoController.formatoDifusionSelected}"/>
                                                            </p:commandButton>
                                                        </p:column>
                                                    </p:dataTable>
                                                </p:panelGrid>
                                            </p:rowExpansion>
                                        </p:dataTable>

                                    </p:panel>

                                    <!--panelBibliografia-->
                                    <p:panel id="panelBibliografia" rendered="#{proyectoContenidoController.selectedNodeCode=='25'}" style="border: hidden; padding-left: 20px; ">
                                        <h:panelGrid style="width: 95%; margin-left: 20px">
                                                <h:panelGrid columns="2" cellpadding="5" cellspacing="0">
                                                    <p:commandButton id="btnGrabarBibliografia" value="Grabar" icon="ui-icon-locked"
                                                                     onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                     disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                     title="Grabar Información" update=":formPrincipal:tabP:panelBibliografia, :formPrincipal:message1"  
                                                                     action="#{proyectoContenidoController.registraProyecto()}">
                                                    </p:commandButton>
                                                    <p:commandButton value="Cancelar" icon="ui-icon-arrowreturnthick-1-w"
                                                                     disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"
                                                                     onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                     title="Cancela Información" update=":formPrincipal:tabP:panelBibliografia" action="#{proyectoContenidoController.cancelarProyecto}">
                                                    </p:commandButton>
                                                </h:panelGrid>

                                                <h:panelGrid columns="1">
                                                    <p:outputLabel for="txtBibliografia" value="Bibliografía y Otra Producción Científica:" style="font-weight: bold"/>
                                                    <p:inputTextarea id="txtBibliografia" rows="20" cols="150" autoResize="false" maxlength="4000" 
                                                                     value="#{proyectoContenidoController.proyectoSelected.bibliografia}"
                                                                     required="#{not empty param['formPrincipal:tabP:btnGrabarBibliografia']}"
                                                                     disabled="#{!proyectoContenidoController.permitirEdicionPerfil}"> 
                                                    </p:inputTextarea>
                                                    <p:message for="txtBibliografia"/>
                                                </h:panelGrid>
                                        </h:panelGrid>                                              
                                    </p:panel>
                                </p:panel>
                            </h:panelGrid>

                        </p:tab>
                        <p:tab title="Aceptación Director Departamento" id="tabP2" disabled="#{!proyectoContenidoController.permitirVerAceptacionDirDep}">
                            <h:panelGrid columns="3" columnClasses="menu, alineadoSuperior, alineadoSuperior" style="width: 100%">
                                <h:panelGrid id="panelMenuAceptacionDirDep" columns="1">
                                    <p:tree value="#{proyectoContenidoController.menuAprobacionDirectorDepartamento}" var="nodeAcepDirDep"
                                            selectionMode="single"
                                            selection="#{proyectoContenidoController.selectedNodeAprobDirDepartamento}"
                                            style="width: 150px;"
                                            >
                                        <p:ajax event="select" listener="#{proyectoContenidoController.onNodeSelectAprobDirDepartamento}" update=":formPrincipal:tabP:panelMenuAceptacionDirDep, :formPrincipal:tabP:panelCentralAprobacionDirDep, :formPrincipal:panelTitulo"
                                                onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()" process=":formPrincipal:tabP:panelCentralAprobacionDirDep, :formPrincipal:tabP:panelMenuAceptacionDirDep, :formPrincipal:panelTitulo"/>
                                        <p:ajax event="expand" listener="#{proyectoContenidoController.onNodeExpand}" update=":formPrincipal:tabP:panelMenuAceptacionDirDep"/>
                                        <p:ajax event="collapse" listener="#{proyectoContenidoController.onNodeCollapse}" update=":formPrincipal:tabP:panelMenuAceptacionDirDep"/>


                                        <p:treeNode>
                                            <h:outputText value="#{nodeAcepDirDep.nombre}" title="#{nodeAcepDirDep.nombre}" style="white-space: pre-line"/>
                                        </p:treeNode>
                                    </p:tree>

                                </h:panelGrid>

                                <p:panel id="panelCentralAprobacionDirDep" style="width: 98%; border: hidden; ">


                                    <!--panelAprobacionDirectorDepartamento-->
                                    <p:panel id="panelAprobacionDirectorDepartamento" rendered="#{proyectoContenidoController.selectedNodeCodeAprobDirDepartamento=='1'}" style="border: hidden; padding-left: 20px; ">
                                        <p:fieldset legend="Registro de aceptación">

                                            <h:panelGrid columns="2" cellpadding="5" >
                                                <p:commandButton id="btnGrabarAprobacionDirectorDepartamento" value="Grabar" icon="ui-icon-locked"
                                                                 rendered="#{proyectoContenidoController.proyectoSelected.datgeproyId.aprobacionDirectorDepartamento.id==null}"
                                                                 disabled="#{!proyectoContenidoController.permitirEditarAceptacionDirDep}"
                                                                 onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                                 title="Graba Información" update=":formPrincipal:tabP, :formPrincipal:panelTitulo, :formPrincipal:message1" 
                                                                 action="#{proyectoContenidoController.guardarAprobacionDirDepartamento()}">
                                                </p:commandButton>
                                            </h:panelGrid>
                                            <h:panelGrid columns="2" cellpadding="0" cellspacing="0" >
                                                <p:outputLabel value="* Fecha:" style="font-weight: bold"/>
                                                <p:outputLabel value="#{proyectoContenidoController.proyectoSelected.datgeproyId.aprobacionDirectorDepartamento.fecha}">
                                                    <f:convertDateTime pattern="dd/MM/yyyy"/> 
                                                </p:outputLabel>

                                                <p:outputLabel for="selAprobacion" value="* Estado:" style="font-weight: bold"/>
                                                <h:panelGrid columns="2">
                                                    <p:selectOneMenu id="selAprobacion" value="#{proyectoContenidoController.proyectoSelected.datgeproyId.aprobacionDirectorDepartamento.estado}" 
                                                                     disabled="#{!proyectoContenidoController.permitirEditarAceptacionDirDep}"
                                                                     required="#{not empty param['formPrincipal:tabP:btnGrabarAprobacionDirectorDepartamento']}" >
                                                        <f:selectItem itemLabel="[[-Seleccione un item-]]" noSelectionOption="true"/>
                                                        <f:selectItem itemLabel="Aceptado" itemValue="A" />
                                                        <f:selectItem itemLabel="Negado" itemValue="N" />
                                                    </p:selectOneMenu>
                                                    <p:message for="selAprobacion"></p:message>

                                                </h:panelGrid>

                                                <p:outputLabel for="txtJustificacion" value="Observaciones:" style="font-weight: bold"/>
                                                <h:panelGrid columns="2">

                                                    <p:inputTextarea id="txtJustificacion" value="#{proyectoContenidoController.proyectoSelected.datgeproyId.aprobacionDirectorDepartamento.observacion}" 
                                                                     rows="4"  cols="120" maxlength="250"
                                                                     disabled="#{!proyectoContenidoController.permitirEditarAceptacionDirDep}"
                                                                     >
                                                        <p:message for="txtJustificacion"></p:message>
                                                    </p:inputTextarea>

                                                </h:panelGrid>

                                                <p:outputLabel for="hidNombreDocumento" value="* Documento habilitante:" style="font-weight: bold"
                                                               >
                                                </p:outputLabel>
                                                <h:panelGrid columns="2" cellpadding="0" cellspacing="0">
                                                    <h:panelGrid columns="1" cellpadding="0" cellspacing="0">
                                                        <h:panelGrid id="panelNombreDocumento" >
                                                            <p:commandLink value="#{proyectoContenidoController.proyectoSelected.datgeproyId.aprobacionDirectorDepartamento.archivoNombre}" 
                                                                           ajax="false"  style="color: blue">
                                                                <p:fileDownload value="#{proyectoContenidoController.archivoAceptacionDirDepartamento}" />
                                                            </p:commandLink>
                                                        </h:panelGrid>
                                                        <p:fileUpload id="fileDocumento" fileUploadListener="#{proyectoContenidoController.subirArchivoAprobacionDirDepartamento}" 
                                                                      rendered="#{proyectoContenidoController.proyectoSelected.datgeproyId.aprobacionDirectorDepartamento.id==null}"
                                                                      disabled="#{!proyectoContenidoController.permitirEditarAceptacionDirDep}"
                                                                      mode="advanced"
                                                                      label="Seleccionar"
                                                                      invalidFileMessage="Tipo de archivo incorrecto: "
                                                                      invalidSizeMessage="Tamaño del archivo seleccionado excede el límite permitido (10MB): "
                                                                      update=":formPrincipal:tabP:panelNombreDocumento, :formPrincipal:tabP:hidNombreDocumento, :formPrincipal:messages" auto="true" sizeLimit="10240000"/>

                                                    </h:panelGrid>
                                                    <h:inputHidden id="hidNombreDocumento" value="#{proyectoContenidoController.proyectoSelected.datgeproyId.aprobacionDirectorDepartamento.archivoNombre}"
                                                                   required="#{not empty param['formPrincipal:tabP:btnGrabarAprobacionDirectorDepartamento']}" ></h:inputHidden> 
                                                    <p:message for="hidNombreDocumento"></p:message>
                                                </h:panelGrid>                                    

                                            </h:panelGrid>

                                        </p:fieldset>

                                    </p:panel>

                                    <!--panelCertAprobacionDirectorDepartamento-->
                                    <p:panel id="panelCertAprobacionDirectorDepartamento" rendered="#{proyectoContenidoController.selectedNodeCodeAprobDirDepartamento=='2'}" style="border: hidden; padding-left: 20px; ">
                                        <p:panel id="pdfCert">
                                            <object type="application/pdf" data="/Investigacion-war/faces/reportes/#{proyectoContenidoController.nombreCertificadoPdf}" width="90%" height="600px" ></object>
                                        </p:panel>

                                    </p:panel>

                                </p:panel>
                            </h:panelGrid>
                        </p:tab>
                        <p:tab title="Aprobación Comisión" id="tabP3" disabled="#{!proyectoContenidoController.permitirVerAprobacionComision}">
                            <p:fieldset legend="Registro de aprobación de comisión">

                                <h:panelGrid columns="2" cellpadding="5" >
                                    <p:commandButton id="btnGrabarAprobacionComision" value="Grabar" icon="ui-icon-locked"
                                                     rendered="#{proyectoContenidoController.proyectoSelected.estadoAprobacionComision}"
                                                     disabled="#{!proyectoContenidoController.permitirEditarAprobacionComision}"
                                                     onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                     title="Graba Información" update=":formPrincipal:tabP, :formPrincipal:panelTitulo, :formPrincipal:message1" 
                                                     action="#{proyectoContenidoController.guardarAprobacionComision()}">
                                    </p:commandButton>
                                </h:panelGrid>
                                <h:panelGrid columns="2" cellpadding="0" cellspacing="0" >

                                    <p:outputLabel value="* Fecha:" style="font-weight: bold"/>
                                    <p:outputLabel value="#{proyectoContenidoController.proyectoSelected.datgeproyId.calificacionComision.fecha}">
                                        <f:convertDateTime pattern="dd/MM/yyyy"/> 
                                    </p:outputLabel>

                                    <p:outputLabel for="selAprobacionComision" value="* Estado:" style="font-weight: bold"/>
                                    <h:panelGrid columns="2">

                                        <p:selectOneMenu id="selAprobacionComision" value="#{proyectoContenidoController.proyectoSelected.datgeproyId.calificacionComision.estado}" 
                                                         disabled="#{!proyectoContenidoController.permitirEditarAprobacionComision}"
                                                         required="#{not empty param['formPrincipal:tabP:btnGrabarAprobacionComision']}" >
                                            <f:selectItem itemLabel="[[-Seleccione un item-]]" noSelectionOption="true"/>
                                            <f:selectItem itemLabel="Aprobado" itemValue="A" />
                                            <f:selectItem itemLabel="Negado" itemValue="N" />
                                        </p:selectOneMenu>
                                        <p:message for="selAprobacionComision"></p:message>


                                    </h:panelGrid>

                                    <p:outputLabel for="txtJustificacionComision" value="Observaciones:" style="font-weight: bold"/>
                                    <h:panelGrid columns="2">

                                        <p:inputTextarea id="txtJustificacionComision" value="#{proyectoContenidoController.proyectoSelected.datgeproyId.calificacionComision.justificacion}" 
                                                         rows="4"  cols="120" maxlength="250"
                                                         disabled="#{!proyectoContenidoController.permitirEditarAprobacionComision}"
                                                         >
                                            <p:message for="txtJustificacionComision"></p:message>
                                        </p:inputTextarea>

                                    </h:panelGrid>

                                </h:panelGrid>

                            </p:fieldset>




                        </p:tab>
                        <p:tab title="Asignación de Pares" id="tabP4" disabled="#{!proyectoContenidoController.permitirVerAprobacionComision}">
                            <p:fieldset id="fsPares" legend="Pares Asignados">
                                <p:commandButton value="Agregar" icon="ui-icon-plus"  style="margin-top: 10px"                                             
                                                 onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                 rendered="#{proyectoContenidoController.parSelected==null and proyectoContenidoController.permitirEditarAsignacionPares}"
                                                 title="Agregar par" update=":formPrincipal:tabP:fsPares" action="#{proyectoContenidoController.nuevoPar()}" >
                                </p:commandButton>
                                <p:commandButton value="Finalizar" icon="ui-icon-plus"  style="margin-top: 10px"                                             
                                                 onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                 rendered="#{proyectoContenidoController.parSelected==null and proyectoContenidoController.permitirEditarAsignacionPares}"
                                                 disabled="#{proyectoContenidoController.proyectoSelected.datgeproyId.parEvaluacionList==null or proyectoContenidoController.proyectoSelected.datgeproyId.parEvaluacionList.size()==0}"
                                                 title="Finalizar asignación de pares" update=":formPrincipal:tabP, :formPrincipal:panelTitulo, :formPrincipal:message1"  action="#{proyectoContenidoController.finalizarAsignacionPar()}" >
                                    <p:confirm header="Confirmación" message="Confirma que desea finalizar la asignacion de pares ?" icon="ui-icon-alert" />
                                </p:commandButton> 

                                <h:panelGrid id="panelEdicionPar" rendered ="#{proyectoContenidoController.parSelected!=null}" >
                                    <h:panelGrid columns="2" cellpadding="5"  >
                                        <p:commandButton id="btnGrabarPar" value="Grabar" icon="ui-icon-locked" 
                                                         onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                         title="Graba Información" update=":formPrincipal:tabP:fsPares, :formPrincipal:message1" 
                                                         action="#{proyectoContenidoController.grabarPar()}">
                                        </p:commandButton>
                                        <p:commandButton value="Cancelar" icon="ui-icon-arrowreturnthick-1-w"
                                                         onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                         title="Cancelar ingreso de información" update=":formPrincipal:tabP:fsPares" action="#{proyectoContenidoController.cancelarPar}"   >
                                        </p:commandButton>
                                    </h:panelGrid>
                                    <h:panelGrid columns="2" cellpadding="5">
                                        <p:selectOneRadio value="#{proyectoContenidoController.tipoPar}" style="text-align: left">
                                            <f:selectItem itemLabel="Pares Espe" itemValue="L"/>
                                            <f:selectItem itemLabel="Pares Externos" itemValue="I"/>
                                            <p:ajax event="change" update=":formPrincipal:tabP:panelSeleccionInvestigador"/>
                                        </p:selectOneRadio>
                                    </h:panelGrid>
                                    <h:panelGrid id="panelSeleccionInvestigador">
                                        <h:panelGrid columns="2" cellpadding="5" cellspacing="0" rendered="#{proyectoContenidoController.tipoPar=='L'}">
                                            <p:outputLabel value="Investigador:" for="investigadorEspe"/>
                                            <h:panelGrid columns="1" cellpadding="0" cellspacing="0">
                                                <h:panelGrid columns="2" cellpadding="0" cellspacing="0">
                                                    <p:autoComplete id="investigadorEspe" minQueryLength="1" value="#{proyectoContenidoController.investigadorEspe}" completeMethod="#{proyectoContenidoController.completeTextParEspe}" size="55" 
                                                                    >
                                                        <p:ajax event="itemSelect" listener="#{proyectoContenidoController.onItemSelectParEspe}"/>
                                                    </p:autoComplete>
                                                    <p:message for="investigadorEspe"/>
                                                </h:panelGrid>
                                                <h:outputLabel value="(Digite los apellidos y/o nombres a buscar)"></h:outputLabel>
                                            </h:panelGrid>
                                        </h:panelGrid>

                                        <h:panelGrid columns="2" cellpadding="5" cellspacing="0" rendered="#{proyectoContenidoController.tipoPar=='I'}">
                                            <p:outputLabel value="Investigador:" for="investigadorExterno"/>
                                            <h:panelGrid columns="1" cellpadding="0" cellspacing="0">
                                                <h:panelGrid columns="2" cellpadding="0" cellspacing="0">
                                                    <p:autoComplete id="investigadorExterno" minQueryLength="1" value="#{proyectoContenidoController.investigadorExterno}" completeMethod="#{proyectoContenidoController.completeTextParExterno}" size="55" 
                                                                    >
                                                        <p:ajax event="itemSelect" listener="#{proyectoContenidoController.onItemSelectParExterno}"/>
                                                    </p:autoComplete>
                                                    <p:message for="investigadorExterno"/>
                                                </h:panelGrid>
                                                <h:outputLabel value="(Digite los apellidos y/o nombres a buscar)"></h:outputLabel>
                                            </h:panelGrid>
                                        </h:panelGrid>
                                    </h:panelGrid>

                                </h:panelGrid>
                                <p:dataTable id="dtComisionPar" value="#{proyectoContenidoController.proyectoSelected.datgeproyId.parEvaluacionList}" var="par" editable="true" style="width: 100%"
                                             paginator="true" rows="10" rowIndexVar="index" resizableColumns="true"
                                             emptyMessage="No se encontraron resultados"   >
                                    <p:column headerText="Ord." width="20">
                                        <h:outputText value="#{index + 1}" />
                                    </p:column>
                                    <p:column headerText="Investigador" width="200">
                                        <h:outputText value="#{par.usuId.usuCc}-#{par.usuId.usuApellidos} #{par.usuId.usuNombres}" style="text-transform: uppercase"/>
                                    </p:column>
                                    <p:column headerText="Fecha Asignación" width="100" style="text-align: center">
                                        <h:outputText value="#{par.spcFechaCrea}" style="text-transform: uppercase">
                                            <f:convertDateTime pattern="dd/MM/yyyy" />
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="Eliminar" width="80" style="text-align: center">
                                        <p:commandButton title="Eliminar el registro" icon="ui-icon-trash"
                                                         onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                         update=":formPrincipal:tabP:fsPares"
                                                         disabled="#{!proyectoContenidoController.permitirEditarAsignacionPares}"
                                                         action="#{proyectoContenidoController.eliminarPar}" >
                                            <f:setPropertyActionListener value="#{par}" target="#{proyectoContenidoController.parSelected}" />
                                            <p:confirm header="Confirmación" message="Confirma que desea eliminar el item seleccionado ?" icon="ui-icon-alert" />
                                        </p:commandButton>   
                                    </p:column>                                
                                </p:dataTable>                        
                            </p:fieldset>
                        </p:tab>

                        <p:tab title="Evaluación Pares" id="tabP5" disabled="#{!proyectoContenidoController.permitirVerEvaluacionPar}">
                            <h:panelGrid columns="3" columnClasses="menu, alineadoSuperior, alineadoSuperior" style="width: 100%;" cellpadding="0" cellspacing="0">
                                <h:panelGrid id="panelMenuEvaluacionPar" columns="1" cellpadding="0" cellspacing="0">
                                    <p:tree value="#{proyectoContenidoController.menuEvaluacionPar}" var="nodeEvaPar"
                                            selectionMode="single"
                                            selection="#{proyectoContenidoController.selectedNodeEvaluacionPar}"
                                            style="width: 150px;"
                                            >
                                        <p:ajax event="select" listener="#{proyectoContenidoController.onNodeSelectEvaluacionPar}" update=":formPrincipal:tabP:panelMenuEvaluacionPar, :formPrincipal:tabP:panelCentralEvaluacionPar, :formPrincipal:panelTitulo"
                                                onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()" process=":formPrincipal:tabP:panelCentralEvaluacionPar, :formPrincipal:tabP:panelMenuEvaluacionPar, :formPrincipal:panelTitulo"/>
                                        <p:ajax event="expand" listener="#{proyectoContenidoController.onNodeExpand}" update=":formPrincipal:tabP:panelMenuEvaluacionPar"/>
                                        <p:ajax event="collapse" listener="#{proyectoContenidoController.onNodeCollapse}" update=":formPrincipal:tabP:panelMenuEvaluacionPar"/>


                                        <p:treeNode>
                                            <h:outputText value="#{nodeEvaPar.nombre}" title="#{nodeEvaPar.nombre}" style="white-space: pre-line"/>
                                        </p:treeNode>
                                    </p:tree>

                                </h:panelGrid>
                                <p:panel id="panelCentralEvaluacionPar" style="width: 100%; border: hidden; ">
                                    <!--panelEvaluacionPar-->
                                    <p:panel id="panelEvaluacionPar" rendered="#{proyectoContenidoController.selectedNodeCodeEvaluacionPar=='1'}" style="border: hidden; ">
                                        <h:panelGrid rendered="#{!proyectoContenidoController.modoEdicion and proyectoContenidoController.permitirEditarEvaluacionPar}" columns="2">
                                            <p:commandButton value="Editar evaluación" title="Editar" icon="ui-icon-pencil"
                                                             action="#{proyectoContenidoController.editarEvaluacionPar}"
                                                             disabled="#{proyectoContenidoController.evaluacionParSelected.estadoFinalizado=='S'}"
                                                             update=":formPrincipal:tabP" >
                                            </p:commandButton>
                                            <p:commandButton value="Finalizar" title="Finalizar evaluación" icon="ui-icon-check" 
                                                             update=":formPrincipal:tabP, :formPrincipal:panelTitulo, :formPrincipal:message1"
                                                             action ="#{proyectoContenidoController.finalizarEvaluacionPar}"
                                                             disabled="#{proyectoContenidoController.evaluacionParSelected.estadoFinalizado=='S'}"
                                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()">
                                                <p:confirm header="Confirmación" message="Confirma que desea finalizar la evaluación ?" icon="ui-icon-alert" />
                                            </p:commandButton>
                                        </h:panelGrid>

                                        <h:panelGrid rendered="#{proyectoContenidoController.modoEdicion  and proyectoContenidoController.permitirEditarEvaluacionPar}" columns="2">
                                            <p:commandButton id="btnGrabarEvaluacion" value="Grabar" title="Grabar Información" icon="ui-icon-locked" 
                                                             update=":formPrincipal:tabP, :formPrincipal:message1" 
                                                             action ="#{proyectoContenidoController.grabarEvaluacionPar()}"
                                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()">
                                            </p:commandButton>
                                            <p:commandButton value="Cancelar" title="Cancela Información" icon="ui-icon-arrowreturnthick-1-w" 
                                                             update=":formPrincipal:tabP" 
                                                             onstart="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()"
                                                             action="#{proyectoContenidoController.cancelarEvaluacionPar()}">
                                            </p:commandButton>
                                        </h:panelGrid>                                          

                                        <p:dataTable id="dtParametroEvaluacion" value="#{proyectoContenidoController.configParametrosEvaluacionSelected.parametroEvaluacionList}" var="paramEvaluacion"
                                                     style="margin-bottom: 20px"
                                                     expandedRow="true"
                                                     resizableColumns="true"
                                                     emptyMessage="No se encontraron Resultados"> 
                                            <p:column width="20" >
                                                <p:rowToggler rendered="#{(paramEvaluacion.parametroEvaluacionList!=null and paramEvaluacion.parametroEvaluacionList.size()>0) or (paramEvaluacion.valoracionList!=null and paramEvaluacion.valoracionList.size()>0)}"/>
                                            </p:column>
                                            <p:column headerText="Nro." width="40" style="text-align: center">
                                                <h:outputText value="#{paramEvaluacion.orden}" />
                                            </p:column>
                                            <p:column headerText="Descripción" style="white-space: pre-line">
                                                <h:outputText value="#{paramEvaluacion.descripcion}" ></h:outputText>
                                            </p:column>
                                            <p:column headerText="Puntaje" width="220" style="text-align: center">
                                                <h:panelGroup style="border: hidden" rendered="#{paramEvaluacion.valoracionList!=null and paramEvaluacion.valoracionList.size()>0}">
                                                    <h:panelGrid columns="2" style="border: hidden" columnClasses="col1_puntaje">
                                                        <p:selectOneMenu id="selOpcionValoracion1"
                                                                         disabled="#{!proyectoContenidoController.modoEdicion or !proyectoContenidoController.permitirEditarEvaluacionPar}"
                                                                         converter="omnifaces.SelectItemsConverter"
                                                                         required="#{not empty param['formPrincipal:tabP:btnGrabarEvaluacion']}"
                                                                         value="#{paramEvaluacion.valoracionParametroEvaluacion}" 
                                                                         style="width: 93%"
                                                                         >
                                                            <f:selectItem itemLabel="[[-Seleccione un item-]]" noSelectionOption="true"/>
                                                            <f:selectItems value="#{paramEvaluacion.valoracionList}" var="valorCalificacion" itemLabel="#{valorCalificacion.descripcion}" itemValue="#{valorCalificacion}"/>
                                                            <p:ajax event="change" update=":formPrincipal:tabP:dtParametroEvaluacion" process=":formPrincipal:tabP:dtParametroEvaluacion"/>
                                                        </p:selectOneMenu>
                                                        <h:outputLabel value="#{paramEvaluacion.puntaje}"> 
                                                            <f:convertNumber locale="es"  pattern="#,###,##0.00" />
                                                        </h:outputLabel>
                                                    </h:panelGrid>
                                                    <p:message for="selOpcionValoracion1"/>
                                                </h:panelGroup>
                                                <h:panelGroup style="border: hidden" rendered="#{(paramEvaluacion.parametroEvaluacionList==null || paramEvaluacion.parametroEvaluacionList.size()==0) and (paramEvaluacion.valoracionList==null or paramEvaluacion.valoracionList.size()==0)}">
                                                    <pe:inputNumber id="txtPuntaje1"
                                                                    value="#{paramEvaluacion.puntaje}" 
                                                                    disabled="#{!proyectoContenidoController.modoEdicion  or !proyectoContenidoController.permitirEditarEvaluacionPar}"
                                                                    required="#{not empty param['formPrincipal:tabP:btnGrabarEvaluacion']}"
                                                                    decimalPlaces="2" minValue="0" maxlength="2" maxValue="99" styleClass="inputNumber2"
                                                                    >
                                                        <p:ajax event="change" update=":formPrincipal:tabP:dtParametroEvaluacion" process=":formPrincipal:tabP:dtParametroEvaluacion"/>
                                                    </pe:inputNumber>
                                                    <p:message for="txtPuntaje1"/>
                                                </h:panelGroup>
                                                <h:outputText value="#{paramEvaluacion.puntaje}" rendered="#{(paramEvaluacion.parametroEvaluacionList!=null and paramEvaluacion.parametroEvaluacionList.size()>0)}">
                                                    <f:convertNumber locale="es"  pattern="#,###,##0.00" />
                                                </h:outputText>
                                            </p:column>
                                            <p:column headerText="Justificación" width="180" style="text-align: center">
                                                <h:panelGroup style="border: hidden" rendered="#{(paramEvaluacion.parametroEvaluacionList==null || paramEvaluacion.parametroEvaluacionList.size()==0) and (paramEvaluacion.valoracionList==null or paramEvaluacion.valoracionList.size()==0)}">
                                                    <p:inputTextarea id="txtJustificacion1"
                                                                     style="width: 90%" rows="2"
                                                                     value="#{paramEvaluacion.justificacion}"
                                                                     disabled="#{!proyectoContenidoController.modoEdicion  or !proyectoContenidoController.permitirEditarEvaluacionPar}"
                                                                     required="#{not empty param['formPrincipal:tabP:btnGrabarEvaluacion']}"
                                                                     >
                                                    </p:inputTextarea>
                                                    <p:message for="txtJustificacion1"/>
                                                </h:panelGroup>

                                            </p:column>
                                            <p:rowExpansion rendered="#{(paramEvaluacion.parametroEvaluacionList!=null and paramEvaluacion.parametroEvaluacionList.size()>0) or (paramEvaluacion.valoracionList!=null and paramEvaluacion.valoracionList.size()>0)}">
                                                <p:panel style="border:hidden;width:98%; padding-left: 30px"  rendered="#{paramEvaluacion.tieneSubitems=='S'}">
                                                    <h:outputLabel value="Parámetros de evaluación:" style="font-weight: bold"/>
                                                    <p:dataTable id="dtParametroEvaluacionHijo" value="#{paramEvaluacion.parametroEvaluacionList}" var="paramEvaluacionHijo"
                                                                 resizableColumns="true"
                                                                 emptyMessage="No se encontraron Resultados"> 
                                                        <p:column headerText="Nro." width="40" style="text-align: center">
                                                            <h:outputText value="#{paramEvaluacion.orden}.#{paramEvaluacionHijo.orden}" />
                                                        </p:column>
                                                        <p:column headerText="Descripción" style="white-space: pre-line">
                                                            <h:outputText value="#{paramEvaluacionHijo.descripcion}" ></h:outputText>
                                                        </p:column>
                                                        <p:column headerText="Puntaje" width="250" style="text-align: center">
                                                            <h:panelGroup style="border: hidden" rendered="#{paramEvaluacionHijo.valoracionList!=null and paramEvaluacionHijo.valoracionList.size()>0}">
                                                                <h:panelGrid columns="2" style="border: hidden" columnClasses="col1_puntaje">
                                                                    <p:selectOneMenu id="selOpcionValoracion2"
                                                                                     required="#{not empty param['formPrincipal:tabP:btnGrabarEvaluacion']}"
                                                                                     disabled="#{!proyectoContenidoController.modoEdicion  or !proyectoContenidoController.permitirEditarEvaluacionPar}"
                                                                                     converter="omnifaces.SelectItemsConverter"
                                                                                     value="#{paramEvaluacionHijo.valoracionParametroEvaluacion}" 
                                                                                     style="width: 93%"
                                                                                     >
                                                                        <f:selectItem itemLabel="[[-Seleccione un item-]]" noSelectionOption="true"/>
                                                                        <f:selectItems value="#{paramEvaluacionHijo.valoracionList}" var="valorCalificacionHijo" itemLabel="#{valorCalificacionHijo.descripcion}" itemValue="#{valorCalificacionHijo}"/>
                                                                        <p:ajax event="change" update=":formPrincipal:tabP:dtParametroEvaluacion" process=":formPrincipal:tabP:dtParametroEvaluacion"/>
                                                                    </p:selectOneMenu>
                                                                    <h:outputLabel value="#{paramEvaluacionHijo.puntaje}">
                                                                        <f:convertNumber locale="es"  pattern="#,###,##0.00" />
                                                                    </h:outputLabel>
                                                                </h:panelGrid>
                                                                <p:message for="selOpcionValoracion2"/>
                                                            </h:panelGroup>

                                                            <h:panelGroup rendered="#{paramEvaluacionHijo.valoracionList==null or paramEvaluacionHijo.valoracionList.size()==0}">
                                                                <pe:inputNumber id="txtPuntaje2"
                                                                                value="#{paramEvaluacionHijo.puntaje}" 
                                                                                disabled="#{!proyectoContenidoController.modoEdicion  or !proyectoContenidoController.permitirEditarEvaluacionPar}"
                                                                                required="#{not empty param['formPrincipal:tabP:btnGrabarEvaluacion']}"
                                                                                decimalPlaces="2" minValue="0" maxlength="2" maxValue="99" styleClass="inputNumber2"
                                                                                >
                                                                    <p:ajax event="change" update=":formPrincipal:tabP:dtParametroEvaluacion" process=":formPrincipal:tabP:dtParametroEvaluacion"/>
                                                                </pe:inputNumber>
                                                                <p:message for="txtPuntaje2"/>
                                                            </h:panelGroup>
                                                        </p:column>
                                                        <p:column headerText="Justificación" width="180" style="text-align: center">
                                                            <h:panelGroup style="border: hidden" rendered="#{paramEvaluacionHijo.valoracionList==null or paramEvaluacionHijo.valoracionList.size()==0}">
                                                                <p:inputTextarea id="txtJustificacion2" 
                                                                                 style="width: 90%" rows="2"
                                                                                 value="#{paramEvaluacionHijo.justificacion}"
                                                                                 disabled="#{!proyectoContenidoController.modoEdicion  or !proyectoContenidoController.permitirEditarEvaluacionPar}"
                                                                                 required="#{not empty param['formPrincipal:tabP:btnGrabarEvaluacion']}"
                                                                                 >
                                                                </p:inputTextarea>
                                                                <p:message for="txtJustificacion2"/>
                                                            </h:panelGroup>

                                                        </p:column>

                                                    </p:dataTable>
                                                </p:panel>                                                               
                                            </p:rowExpansion>                                        
                                            <p:columnGroup type="footer">
                                                <p:row>
                                                    <p:column colspan="3" style="text-align:right" footerText="PUNTAJE TOTAL EVALUACION:" />
                                                    <p:column footerText="#{proyectoContenidoController.configParametrosEvaluacionSelected.puntajeStr}" style="text-align: center" >
                                                    </p:column>
                                                    <p:column/>
                                                </p:row>
                                            </p:columnGroup>                              
                                        </p:dataTable>                                        
                                    </p:panel>

                                    <!--panelConsolidacionEvaluacionPar-->
                                    <p:panel id="panelConsolidacionEvaluacionPar" rendered="#{proyectoContenidoController.selectedNodeCodeEvaluacionPar=='2'}" style="border: hidden; ">
                                        <p:dataTable id="dtProyectos" value="#{proyectoContenidoController.proyectoList}" var="proyConsolEval" 
                                                     paginator="false" rows="15" rowIndexVar="index" resizableColumns="true" expandedRow="true"
                                                     emptyMessage="No se encontraron resultados">
                                            <p:column headerText="Proyecto" style="white-space: pre-line">
                                                <h:outputText value="#{proyConsolEval.datgeproyId.datgeproyTitulo}" />
                                            </p:column>
                                            <p:column headerText="Puntaje Mínimo Requerido" style="white-space: pre-line; text-align: center" width="100">
                                                <h:outputText value="#{proyConsolEval.datgeproyId.configParametrosEvaluacion.puntajeMinimoRequerido}">
                                                    <f:convertNumber locale="es"  pattern="#,###,##0.00" />
                                                </h:outputText>
                                            </p:column>
                                            <p:column headerText="Puntaje Total" style="white-space: pre-line; text-align: center" width="100">
                                                <h:outputText value="#{proyConsolEval.datgeproyId.puntajeStr}/#{proyConsolEval.datgeproyId.puntajeMaximoStr}"/>
                                            </p:column>
                                            <p:rowExpansion>
                                                <p:dataTable value="#{proyConsolEval.datgeproyId.configParametrosEvaluacion.parametroEvaluacionList}" var="paramEvaluacionConsol"
                                                             style="margin-bottom: 20px"
                                                             expandedRow="true"
                                                             resizableColumns="true"
                                                             emptyMessage="No se encontraron Resultados"> 
                                                    <p:column width="20" >
                                                        <p:rowToggler rendered="#{(paramEvaluacionConsol.parametroEvaluacionList!=null and paramEvaluacionConsol.parametroEvaluacionList.size()>0) or (paramEvaluacion.valoracionList!=null and paramEvaluacion.valoracionList.size()>0)}"/>
                                                    </p:column>
                                                    <p:column headerText="Nro." width="40" style="text-align: center">
                                                        <h:outputText value="#{paramEvaluacionConsol.orden}" />
                                                    </p:column>
                                                    <p:column headerText="Parámetro Evaluación" style="white-space: pre-line">
                                                        <h:outputText value="#{paramEvaluacionConsol.descripcion}" ></h:outputText>
                                                    </p:column>
                                                    <p:column headerText="Puntaje" width="100" style="text-align: center">
                                                        <h:outputLabel value="#{paramEvaluacionConsol.puntajeReporteStr}/#{paramEvaluacionConsol.puntajeMaximoStr}"/> 
                                                    </p:column>
                                                    <p:rowExpansion rendered="#{(paramEvaluacionConsol.parametroEvaluacionList!=null and paramEvaluacionConsol.parametroEvaluacionList.size()>0) or (paramEvaluacionConsol.valoracionList!=null and paramEvaluacionConsol.valoracionList.size()>0)}">
                                                        <p:panel style="border:hidden;width:98%; padding-left: 30px"  rendered="#{paramEvaluacionConsol.tieneSubitems=='S'}">
                                                            <p:dataTable value="#{paramEvaluacionConsol.parametroEvaluacionList}" var="paramEvaluacionHijoConsol"
                                                                         resizableColumns="true"
                                                                         emptyMessage="No se encontraron Resultados"> 
                                                                <p:column headerText="Nro." width="40" style="text-align: center">
                                                                    <h:outputText value="#{paramEvaluacionConsol.orden}.#{paramEvaluacionHijoConsol.orden}" />
                                                                </p:column>
                                                                <p:column headerText="Parámetro Evaluación" style="white-space: pre-line">
                                                                    <h:outputText value="#{paramEvaluacionHijoConsol.descripcion}" ></h:outputText>
                                                                </p:column>
                                                                <p:column headerText="Puntaje" width="100" style="text-align: center">
                                                                    <h:outputLabel value="#{paramEvaluacionHijoConsol.puntajeReporteStr}/#{paramEvaluacionHijoConsol.puntajeMaximoStr}"/>
                                                                </p:column>
                                                            </p:dataTable>
                                                        </p:panel>                                                               
                                                    </p:rowExpansion> 

                                                </p:dataTable>
                                            </p:rowExpansion>

                                        </p:dataTable>
                                    </p:panel>

                                </p:panel>

                            </h:panelGrid>



                        </p:tab>

                    </p:tabView>

                </p:panel>











                <p:dialog header="Politicas Objetivos plan Nacional del Buen Vivir" widgetVar="dialogPolitica" resizable="false" width="600" modal="true" style="font-size: 11px; text-align: left; font-weight: bold" appendTo="@(body)">
                    <h:form id="fmPolitOject">
                        <p:growl id="message1" widgetVar="message1" showDetail="true" life="3000"></p:growl>
                        <p:outputPanel>
                            <h:panelGrid columns="3" cellpadding="1">
                                <h:outputLabel for="descPolit" value="Descripción:"/>
                                <p:inputText id="descPolit" value="#{proyectoContenidoController.politicaObjBuenVivirSelected.sztapolobjbvDescrip}"  autocomplete="off" style="width: 350px"
                                             maxlength="500"
                                             required="#{not empty param['formPrincipal:tabP:fmPolitOject:btnGrabarPolitica']}">
                                </p:inputText>
                                <p:message for="descPolit"></p:message>
                            </h:panelGrid>
                            <p:spacer height="5"></p:spacer>
                            <h:panelGroup>
                                <center>
                                    <p:commandButton id="btnGrabarPolitica" value="Grabar" icon="ui-icon-locked" style="margin: 0" onclick="PF('dialogPolitica').hide();"
                                                     action="#{proyectoContenidoController.registraPoliticaObjetivoBuenVivir}"
                                                     update=":formPrincipal:tabP:dataTObjetivoProyL , :formPrincipal:fmPolitOject:message1" 
                                                     process=":formPrincipal:fmPolitOject">
                                    </p:commandButton>
                                </center>
                            </h:panelGroup>
                        </p:outputPanel>
                    </h:form>
                </p:dialog>
                <p:dialog id="dialogAdquisiciones" header="Detalle de adquisiciones del Proyecto" widgetVar="dialogAdquisiciones" resizable="false" width="620" modal="true" style="font-size: 11px;text-align: left; font-weight: bold" appendTo="@(body)">
                    <h:form id="fmDetAdquisiciones">
                        <p:growl id="message1" widgetVar="message1" showDetail="true" life="3000"></p:growl>
                        <p:outputPanel>
                            <h:panelGrid columns="2" cellpadding="1">
                                <p:outputLabel for="porcNac" value="* % Nacional:"/>
                                <h:panelGrid columns="2">
                                    <p:spinner id="porcNac" size="1" value="#{proyectoContenidoController.objAdquisisioneSelected.soaNacional}" min="0" max="100" style="float: left"
                                               required="#{not empty param['formPrincipal:tabP:fmDetAdquisiciones:btnGrabarAdq']}">
                                    </p:spinner>
                                    <p:message for="porcNac"></p:message>
                                </h:panelGrid>

                                <p:outputLabel for="porcImp" value="* % Importado:"/>
                                <h:panelGrid columns="2">
                                    <p:spinner id="porcImp" size="1" value="#{proyectoContenidoController.objAdquisisioneSelected.soaImportado}" min="0" max="100" style="float: left"
                                               required="#{not empty param['formPrincipal:tabP:fmDetAdquisiciones:btnGrabarAdq']}">
                                    </p:spinner>
                                    <p:message for="porcImp"></p:message>
                                </h:panelGrid>

                                <p:outputLabel for="detaInsuNac" value="Detalle insumo nacional:"/>
                                <h:panelGrid columns="2">
                                    <p:inputTextarea id="detaInsuNac" rows="5" cols="70" autoResize="true" value="#{proyectoContenidoController.objAdquisisioneSelected.soaDestalleNacional}"
                                                     required="false" maxlength="500">
                                    </p:inputTextarea>
                                    <p:message for="detaInsuNac"></p:message>
                                </h:panelGrid>

                                <p:outputLabel for="detaInsuImp" value="Detalle insumo importado:"/>
                                <h:panelGrid columns="2">
                                    <p:inputTextarea id="detaInsuImp" rows="5" cols="70" autoResize="true" value="#{proyectoContenidoController.objAdquisisioneSelected.soaDetalleImportado}"
                                                     required="false" maxlength="500">
                                    </p:inputTextarea>
                                    <p:message for="detaInsuImp"></p:message>
                                </h:panelGrid>

                            </h:panelGrid>
                            <p:spacer height="5"></p:spacer>
                            <h:panelGroup>
                                <center>
                                    <p:commandButton id="btnGrabarAdq" value="Grabar" icon="ui-icon-locked" action="#{proyectoContenidoController.registraAdquisicion}" update=":formPrincipal:tabP:dataTObjEntregables , :formPrincipal:fmDetAdquisiciones:message1" process=":formPrincipal:fmDetAdquisiciones">
                                    </p:commandButton>
                                </center>
                            </h:panelGroup> 
                        </p:outputPanel>
                    </h:form>
                </p:dialog>
                <p:dialog modal="true"
                          closeOnEscape="true"
                          widgetVar="dlgActividades"
                          header="Actividades Proyecto"
                          id="dlgActividades"
                          appendTo="@(body)"
                          resizable="true">
                    <h:form id="formModal" style="width: 100%; height: 400px">
                        <h:panelGrid columns="1">
                            <p:fieldset legend="Selección de Actividad">
                                <h:outputLabel value="Componentes (objetivos específicos):" style="font-weight: bold"/>
                                <p:dataTable id="dataTComponentes" value="#{proyectoContenidoController.proyectoSelected.componentes}" var="componente"
                                             expandedRow="true" rowIndexVar="index" styleClass="hide-column-names"
                                             emptyMessage="No existen registros">
                                    <p:column style="width: 20px" rendered="false">
                                        <p:rowToggler/> 
                                    </p:column>
                                    <p:column headerText="Nro." style="width: 20px">
                                        <h:outputText value="#{componente.orden}" />
                                    </p:column>
                                    <p:column headerText="Descripción"> 
                                        <h:outputText value="#{componente.descripcion}" style="white-space: pre-line;"/>
                                    </p:column>
                                    <p:column headerText="Tipo Indicador" style="width: 50px">
                                        <h:outputText value="#{componente.indicadorTipo==1?'Valor':'Porcentaje'}" style="white-space: pre-line;"/>
                                    </p:column>
                                    <p:column headerText="Valor Indicador" style="width: 50px">
                                        <h:outputText value="#{componente.indicadorValor}" style="white-space: pre-line;">
                                            <f:convertNumber locale="es_ES"  pattern="#,##0" />
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="Descripción Indicador" style="width: 140px">
                                        <h:outputText value="#{componente.indicadorDescripcion}" style="white-space: pre-line;"/>
                                    </p:column>
                                    <p:column headerText="Medio de verificación" style="width: 140px">
                                        <h:outputText value="#{componente.medioVerificacion}" style="white-space: pre-line;"/>
                                    </p:column>
                                    <p:column headerText="Supuestos">
                                        <h:outputText value="#{componente.supuestos}" style="white-space: pre-line;"/>
                                    </p:column>
                                    <p:rowExpansion >
                                        <p:panel style="border:hidden;width:98%; padding-left: 30px"  >
                                            <h:outputLabel value="Actividades:" style="font-weight: bold"/>
                                            <p:dataTable id="dataTActividades" value="#{componente.objetivoHijoList}" var="actividad"
                                                         emptyMessage="No existen registros"
                                                         rowIndexVar="index">
                                                <p:column headerText="Nro." style ="width: 40px;">
                                                    <table style="width: 40px">
                                                        <tr>
                                                            <td style="padding: 0px; text-align: center; border: hidden">
                                                                <h:outputText value="#{actividad.orden}" />
                                                            </td>
                                                        </tr>
                                                    </table>                                                                    
                                                </p:column>
                                                <p:column headerText="Descripción" > 
                                                    <h:outputText value="#{actividad.descripcion}" style="white-space: pre-line;"/>
                                                </p:column>
                                                <p:column headerText="Tipo Indicador" style ="width: 50px;">
                                                    <h:outputText value="#{actividad.indicadorTipo==1?'Valor':'Porcentaje'}" style="white-space: pre-line;"/>
                                                </p:column>
                                                <p:column headerText="Valor Indicador" style ="width: 50px;">
                                                    <h:outputText value="#{actividad.indicadorValor}" style="white-space: pre-line;">
                                                        <f:convertNumber locale="es_ES"  pattern="#,##0" />
                                                    </h:outputText>
                                                </p:column>
                                                <p:column headerText="Descripción Indicador" style ="width: 140px;">
                                                    <h:outputText value="#{actividad.indicadorDescripcion}" style="white-space: pre-line;"/>
                                                </p:column>
                                                <p:column headerText="Medio de verificación" style ="width: 140px;">
                                                    <h:outputText value="#{actividad.medioVerificacion}" style="white-space: pre-line;"/>
                                                </p:column>
                                                <p:column headerText="Supuestos">
                                                    <h:outputText value="#{actividad.supuestos}" style="white-space: pre-line;"/>
                                                </p:column>
                                                <p:column headerText="Seleccionar" width="50" style="text-align: center">
                                                    <p:commandButton icon="ui-icon-check" update=":formPrincipal:tabP:txtCronogramaActividad, :formPrincipal:tabP:hidCronogramaActividad" 
                                                                     onclick="PF('dlgActividades').hide();" process="@this">
                                                        <f:setPropertyActionListener value="#{actividad}" target="#{proyectoContenidoController.cronogramaSelected.actividad}"/>
                                                    </p:commandButton>
                                                </p:column>

                                            </p:dataTable>
                                        </p:panel>
                                    </p:rowExpansion>                                                        
                                </p:dataTable>
                            </p:fieldset>

                        </h:panelGrid>
                    </h:form>
                </p:dialog>

            </ui:define>
        </ui:composition>
    </h:body>
</html>